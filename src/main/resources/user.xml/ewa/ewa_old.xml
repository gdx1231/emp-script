<?xml version="1.0" encoding="UTF-8"?><EasyWebTemplates><EasyWebTemplate CreateDate="2009-01-07 17:01:20" Name="define_main" UpdateDate="2010-12-24 15:21:06">
    <Page>
      <FrameTag>
        <Set FrameTag="Frame"/>
      </FrameTag>
      <Name>
        <Set Name="define_tabs"/>
      </Name>
      <SkinName>
        <Set IsXhtml="" SkinName="Test1"/>
      </SkinName>
      <DataSource>
        <Set DataSource=""/>
      </DataSource>
      <Cached>
        <Set CachedSeconds="862024" CachedType="all"/>
      </Cached>
      <Acl>
        <Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/>
      </Acl>
      <Log/>
      <DescriptionSet>
        <Set Info="tabls" Lang="zhcn" Memo=""/>
      <Set Info="tabls" Lang="enus" Memo=""/></DescriptionSet>
      <PageAttributeSet/>
      <GroupSet/>
      <Size>
        <Set HAlign="center" Height="100%" HiddenCaption="1" VAlign="top" Width="100%"/>
      </Size>
      <AddHtml>
        <Set>
          <Top>
            <![CDATA[
<script src="../js/EMP_TABS.js">
</script>
<table width="100%" height="100%" border="0" cellspacing="0" cellpadding="0" >
<tr>
						<td id='TD1' height="30"  bgcolor="#CDCDCD" valign="bottom">
</td>
</tr>
<tr>
						<td id='TD2'>
</td>
</tr>
</table>
					]]>
          </Top>
          <Bottom/>
        </Set>
      </AddHtml>
      <AddScript>
        <Set>
          <Top>
            <![CDATA[
document.body.style.overflow='hidden';
					]]>
          </Top>
          <Bottom>
            <![CDATA[var mm = new __EMP_TABS( $X('TD1'), $X('TD2'));
function AddTab(url,caption){
						mm.CreateTab(url,caption);
}
function __EMP_TAB_ONCLICK(id){
						mm.ShowTab(id );
						var obj=document.getElementById(mm._IdTabTag+id);
						//window.parent.frames[0].tmpGotoID(obj.innerHTML);
}
function __EMP_TAB_ONDBLCLICK(id) {
						mm.RemoveTab(id,true);
}
					]]>
          </Bottom>
        </Set>
      </AddScript>
      <AddCss>
        <Set>
          <AddCss/>
        </Set>
      </AddCss>
      <ChartsShow/>
      <FrameHtml>
        <Set>
          <FrameHtml/>
        </Set>
      </FrameHtml>
      <PageSize/>
      <MenuShow/>
      <Menu/>
      <Tree/>
      <HtmlFrame/>
      <TreeIconSet/>
      <MGAxisX/>
      <MGAxisY/>
      <MGCell/>
    </Page>
    <Action>
      <ActionSet/>
      <SqlSet/>
      <ClassSet/>
      <XmlSet/>
      <XmlSetData/>
      <ScriptSet/>
      <UrlSet/>
      <CSSet/>
      <CallSet/>
    </Action>
    <XItems/>
    <Menus/>
    <Charts/>
    <PageInfos/>
  </EasyWebTemplate><EasyWebTemplate CreateDate="2010-04-08 11:37:56" Name="trace" UpdateDate="2010-12-24 15:40:42">
    <Page>
      <FrameTag>
        <Set FrameTag="ListFrame"/>
      </FrameTag>
      <Name>
        <Set Name="trace"/>
      </Name>
      <SkinName>
        <Set IsXhtml="" SkinName="Test1"/>
      </SkinName>
      <DataSource>
        <Set DataSource=""/>
      </DataSource>
      <Cached/>
      <Acl>
        <Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/>
      </Acl>
      <Log/>
      <DescriptionSet>
        <Set Info="跟踪" Lang="zhcn" Memo=""/>
        <Set Info="Trace" Lang="enus" Memo=""/>
      </DescriptionSet>
      <PageAttributeSet/>
      <GroupSet/>
      <Size>
        <Set HAlign="" Height="" HiddenCaption="" VAlign="" Width="100%"/>
      </Size>
      <AddHtml>
        <Set>
          <Top>
            <![CDATA[<div>
	<input type=checkbox id='auto_refresh'  >自动刷新 | <input type=button value='手动刷新' onclick='r(true);'> 
	| <input type=button value='清除记录' onclick='c();'> 

	<hr>
</div>	]]>
          </Top>
          <Bottom/>
        </Set>
      </AddHtml>
      <AddScript>
        <Set>
          <Top>
            <![CDATA[function a(obj){
	window.parent.frames[1].document.body.innerHTML=obj.getAttribute('o').replace("style='display:none'",""); 
	 
}]]>
          </Top>
          <Bottom>
            <![CDATA[var time= 8000; //8s 
function c(){
	var t= $X('EWA_LF_@SYS_FRAME_UNID');
	while(t.rows.length>1){
		t.deleteRow(1);
	}
	EWA.F.FOS['@SYS_FRAME_UNID'].DoAction(this, 'clear', '', ''); 	
}
function r(isRefresh){
	
	if( $X('auto_refresh').checked || isRefresh){
		EWA.F.FOS["@SYS_FRAME_UNID"].Goto(1);
	}
	
	if(!isRefresh){
		window.setTimeout(r,time);
	}
}
document.body.onload=function(){
	EWA.CP="@SYS_CONTEXTPATH";
	EWA.LANG="@EWA_LANG"; 
	window.setTimeout(r,time);
}]]>
          </Bottom>
        </Set>
      </AddScript>
      <AddCss>
        <Set>
          <AddCss>
            <![CDATA[
#col_true{
						 width:16px;
						  background-image : url('@SYS_CONTEXTPATH/EWA_DEFINE/images/sql/key_p.gif') }
#col_false{ 
							width:16px;
							background-image : url('@SYS_CONTEXTPATH/EWA_DEFINE/images/sql/column.gif')
}
#fk_false{
							display:none;
}
					]]>
          </AddCss>
        </Set>
      </AddCss>
      <ChartsShow/>
      <FrameHtml/>
      <PageSize>
        <Set AllowExport="" ColSize="" IsSplitPage="0" KeyField="" PageSize=""/>
      </PageSize>
      <MenuShow/>
      <Menu/>
      <Tree/>
      <HtmlFrame>
        <Set FrameBorder="" FrameSize="310,*" FrameType="V"/>
      </HtmlFrame>
      <TreeIconSet/>
      <MGAxisX/>
      <MGAxisY/>
      <MGCell/>
    </Page>
    <Action>
      <ActionSet>
        <Set LogMsg="" Type="OnPageLoad">
          <CallSet>
            <Set CallName="LoadFields" CallType="ClassSet" Test=""/>
          </CallSet>
        </Set>
        <Set LogMsg="" Type="clear">
          <CallSet>
            <Set CallName="clear" CallType="ClassSet" Test=""/>
          </CallSet>
        </Set>
      </ActionSet>
      <SqlSet/>
      <ClassSet>
        <Set ClassName="com.gdxsoft.easyweb.debug.DebugRecords" ConData="" MethodData="" MethodName="getRecords" Name="LoadFields" XmlTag=""/>
        <Set ClassName="com.gdxsoft.easyweb.debug.DebugRecords" ConData="" MethodData="" MethodName="clear" Name="clear" XmlTag=""/>
      </ClassSet>
      <XmlSet/>
      <XmlSetData/>
      <ScriptSet/>
      <UrlSet/>
      <CSSet/>
      <CallSet>
        <Set CallName="LoadFields" CallType="ClassSet" Test=""/>
      </CallSet>
    </Action>
    <XItems>
      <XItem Name="getName">
        <Tag>
          <Set IsLFEdit="" Tag="radio"/>
        </Tag>
        <Name>
          <Set Name="getName"/>
        </Name>
        <GroupIndex/>
        <InitValue>
          <Set InitValue="SEQID"/>
        </InitValue>
        <DescriptionSet>
          <Set Info="选择" Lang="zhcn" Memo="a"/>
          <Set Info="Select" Lang="enus" Memo="a"/>
        </DescriptionSet>
        <Style>
          <Set Style=""/>
        </Style>
        <ParentStyle>
          <Set ParentStyle="width:27px"/>
        </ParentStyle>
        <AttributeSet>
          <Set AttName="o" AttValue="@getAll"/>
        </AttributeSet>
        <EventSet>
          <Set EventName="onclick" EventType="Javascript" EventValue="a(this)"/>
        </EventSet>
        <IsHtml/>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchType=""/>
        </OrderSearch>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="getName" DataType="String" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List/>
        <UserSet/>
        <CallAction/>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
      </XItem>
      <XItem Name="getDate">
        <Tag>
          <Set IsLFEdit="" Tag="span"/>
        </Tag>
        <Name>
          <Set Name="getDate"/>
        </Name>
        <GroupIndex/>
        <InitValue/>
        <DescriptionSet>
          <Set Info="时间" Lang="zhcn" Memo=""/>
          <Set Info="Time" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style>
          <Set Style=""/>
        </Style>
        <ParentStyle>
          <Set ParentStyle="width:120px;"/>
        </ParentStyle>
        <AttributeSet/>
        <EventSet/>
        <IsHtml/>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchType=""/>
        </OrderSearch>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="getDate" DataType="Date" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List/>
        <UserSet/>
        <CallAction/>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
      </XItem>
      <XItem Name="getRunTime">
        <Tag>
          <Set IsLFEdit="" Tag="span"/>
        </Tag>
        <Name>
          <Set Name="getRunTime"/>
        </Name>
        <GroupIndex/>
        <InitValue/>
        <DescriptionSet>
          <Set Info="执行时间(ms)" Lang="zhcn" Memo=""/>
          <Set Info="Run Time (ms)" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style/>
        <ParentStyle/>
        <AttributeSet/>
        <EventSet/>
        <IsHtml/>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchType=""/>
        </OrderSearch>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="getRunTime" DataType="" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List/>
        <UserSet/>
        <CallAction/>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
      </XItem>
      <XItem Name="getXmlName">
        <Tag>
          <Set IsLFEdit="" Tag="span"/>
        </Tag>
        <Name>
          <Set Name="getXmlName"/>
        </Name>
        <GroupIndex/>
        <InitValue/>
        <DescriptionSet>
          <Set Info="配置文件" Lang="zhcn" Memo=""/>
          <Set Info="XmlName" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style/>
        <ParentStyle>
          <Set ParentStyle=""/>
        </ParentStyle>
        <AttributeSet/>
        <EventSet/>
        <IsHtml/>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchType=""/>
        </OrderSearch>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="getXmlName" DataType="String" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List>
          <Set DisplayField="" DisplayList="" ListAddBlank="" ListShowType="" Sql="" TitleField="" TitleList="" ValueField="" ValueList=""/>
        </List>
        <UserSet>
          <Set Lang="zhcn" User="&lt;a href='javascript:openFrame(&quot;@getName&quot;)'&gt;@getName&lt;/a&gt;"/>
        </UserSet>
        <CallAction/>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
      </XItem>
      <XItem Name="getItemName">
        <Tag>
          <Set IsLFEdit="" Tag="span"/>
        </Tag>
        <Name>
          <Set Name="getItemName"/>
        </Name>
        <GroupIndex/>
        <InitValue/>
        <DescriptionSet>
          <Set Info="配置项" Lang="zhcn" Memo=""/>
          <Set Info="ItemName" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style/>
        <ParentStyle/>
        <AttributeSet/>
        <EventSet/>
        <IsHtml/>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchType=""/>
        </OrderSearch>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="getItemName" DataType="" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List/>
        <UserSet/>
        <CallAction/>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
      </XItem>
      <XItem Name="isError">
        <Tag>
          <Set IsLFEdit="" Tag="span"/>
        </Tag>
        <Name>
          <Set Name="isError"/>
        </Name>
        <GroupIndex/>
        <InitValue/>
        <DescriptionSet>
          <Set Info="状态" Lang="zhcn" Memo=""/>
          <Set Info="Error" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style/>
        <ParentStyle/>
        <AttributeSet/>
        <EventSet/>
        <IsHtml/>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchType=""/>
        </OrderSearch>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="isError" DataType="" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List/>
        <UserSet/>
        <CallAction/>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
      </XItem>
      <XItem Name="getParameters">
        <Tag>
          <Set IsLFEdit="" Tag="user"/>
        </Tag>
        <Name>
          <Set Name="getParameters"/>
        </Name>
        <GroupIndex/>
        <InitValue/>
        <DescriptionSet>
          <Set Info="参数" Lang="zhcn" Memo=""/>
          <Set Info="Parameters" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style>
          <Set Style=""/>
        </Style>
        <ParentStyle>
          <Set ParentStyle="width:400px"/>
        </ParentStyle>
        <AttributeSet/>
        <EventSet/>
        <IsHtml>
          <Set IsHtml="0"/>
        </IsHtml>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchType=""/>
        </OrderSearch>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="getParameters" DataType="String" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List/>
        <UserSet>
          <Set Lang="zhcn" User="&lt;div style='width:400px;overflow:hidden' title=&quot;@getParameters&quot;&gt;&lt;nobr&gt;@getParameters&lt;/nobr&gt;&lt;/div&gt;"/>
        </UserSet>
        <CallAction/>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
      </XItem>
    </XItems>
    <Menus/>
    <Charts/>
    <PageInfos/>
  </EasyWebTemplate><EasyWebTemplate CreateDate="2011-05-05 13:12:55" Name="frames_fields_list" UpdateDate="2011-05-06 14:59:59">
    <Page>
      <FrameTag>
        <Set FrameTag="ListFrame"/>
      </FrameTag>
      <Name>
        <Set Name="frames_fields_list"/>
      </Name>
      <SkinName>
        <Set IsXhtml="" SkinName="Test1"/>
      </SkinName>
      <DataSource>
        <Set DataSource=""/>
      </DataSource>
      <Cached/>
      <Acl>
        <Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/>
      </Acl>
      <Log>
        <Set Log=""/>
      </Log>
      <DescriptionSet>
        <Set Info="配置项列表" Lang="zhcn" Memo=""/>
        <Set Info="Items list" Lang="enus" Memo=""/>
      </DescriptionSet>
      <PageAttributeSet/>
      <GroupSet/>
      <Size>
        <Set HAlign="center" Height="" HiddenCaption="" VAlign="" Width="700"/>
      </Size>
      <AddHtml>
        <Set>
          <Top>
            <![CDATA[<div style='width:710px; height:260px; overflow:auto'>
 
		]]>
          </Top>
          <Bottom>
            <![CDATA[</div>
<hr>
<div align=right>
<button type='button' onclick='ok()'>确定</button>
&nbsp;
<button type='button'>取消</button>
&nbsp;
</div> ]]>
          </Bottom>
        </Set>
      </AddHtml>
      <AddScript>
        <Set>
          <Top>
            <![CDATA[var xml;
var d_xml_name='@D_XML_NAME';
var d_item_name='@D_ITEM_NAME'
var names ={};
function init(){
	var hs = '@h'.split(',');
	for(var i=0;i<hs.length;i++){
		 var key=hs[i].trimEx().toUpperCase();
		 names[key]=1;
	}
	xml=new EWA.C.Xml();
	var url=EWA.CP + "/EWA_DEFINE/cgi-bin/xml/?XMLNAME="+ d_xml_name +"&ITEMNAME=" + d_item_name;
	xml.LoadXmlFile(url);
	 	
	var nl=xml.GetElements('XItems/XItem');
	for(var i=0;i<nl.length;i++){
		init_row(nl[i], i);
	}
} 
function init_row(node,index){
	var name=node.getAttribute('Name');
	var des = node.getElementsByTagName('DescriptionSet')[0];
	var tp = node.getElementsByTagName('Tag')[0].getElementsByTagName('Set')[0].getAttribute('Tag');
	var tr= $X("EWA_LF_@SYS_FRAME_UNID").insertRow(-1);
	for(var i=0;i<tr.parentNode.rows[0].cells.length;i++){
		tr.insertCell(-1); 
		tr.cells[i].className='EWA_TD_M';
	}
	tr.cells[0].innerHTML=index+1;
	tr.cells[1].innerHTML='<input type=checkbox value="' + name + '" />'; 
	if(names[name.toUpperCase()]==1){
		tr.cells[1].childNodes[0].checked = true; 
	}
	tr.cells[2].innerHTML=name;
	tr.cells[3].innerHTML=des.getElementsByTagName('Set')[0].getAttribute('Info');
	tr.cells[4].innerHTML=tp;
}
function ok(){
	var ids= EWA.F.FOS["@SYS_FRAME_UNID"].SelectChecked();
	var obj=_EWA_DialogWnd._OpenerWindow.$X('@F_ID').parentNode.parentNode.getElementsByTagName('input')[0];
	obj.value=ids;
	if(obj.onblur) obj.onblur(); 
	_EWA_DialogWnd.CloseWindow();
}]]>
          </Top>
          <Bottom><![CDATA[AddEvent(window,'load',init);]]></Bottom>
        </Set>
      </AddScript>
      <AddCss>
        <Set>
          <AddCss><![CDATA[ ]]></AddCss>
        </Set>
      </AddCss>
      <ChartsShow/>
      <FrameHtml/>
      <PageSize/>
      <ListUI/>
      <MenuShow/>
      <Menu/>
      <Tree/>
      <HtmlFrame>
        <Set FrameBorder="" FrameSize="" FrameType=""/>
      </HtmlFrame>
      <TreeIconSet/>
      <MGAxisX/>
      <MGAxisY/>
      <MGCell/>
    </Page>
    <Action>
      <ActionSet/>
      <SqlSet/>
      <ClassSet/>
      <XmlSet/>
      <XmlSetData/>
      <ScriptSet/>
      <UrlSet/>
      <CSSet/>
      <CallSet>
        <Set CallName="LoadFields" CallType="ClassSet" Test=""/>
      </CallSet>
    </Action>
    <XItems>
      <XItem Name="inc">
        <Tag>
          <Set IsLFEdit="" Tag="span"/>
        </Tag>
        <Name>
          <Set Name="inc"/>
        </Name>
        <GroupIndex/>
        <InitValue>
          <Set InitValue="SEQID"/>
        </InitValue>
        <DescriptionSet>
          <Set Info="序号" Lang="zhcn" Memo=""/>
          <Set Info="No" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style>
          <Set Style=""/>
        </Style>
        <ParentStyle>
          <Set ParentStyle="width:27px"/>
        </ParentStyle>
        <AttributeSet/>
        <EventSet/>
        <IsHtml/>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/>
        </OrderSearch>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="" DataType="" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List/>
        <UserSet/>
        <CallAction/>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
        <LogicParas/>
      </XItem>
      <XItem Name="name">
        <Tag>
          <Set IsLFEdit="" Tag="checkbox"/>
        </Tag>
        <Name>
          <Set Name="name"/>
        </Name>
        <GroupIndex/>
        <InitValue>
          <Set InitValue="SEQID"/>
        </InitValue>
        <DescriptionSet>
          <Set Info="选择" Lang="zhcn" Memo=""/>
          <Set Info="Select" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style>
          <Set Style=""/>
        </Style>
        <ParentStyle>
          <Set ParentStyle="width:27px"/>
        </ParentStyle>
        <AttributeSet/>
        <EventSet/>
        <IsHtml/>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/>
        </OrderSearch>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="" DataType="String" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List/>
        <UserSet/>
        <CallAction/>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
        <LogicParas/>
      </XItem>
      <XItem Name="name1">
        <Tag>
          <Set IsLFEdit="" Tag="span"/>
        </Tag>
        <Name>
          <Set Name="name1"/>
        </Name>
        <GroupIndex/>
        <InitValue/>
        <DescriptionSet>
          <Set Info="名称" Lang="zhcn" Memo=""/>
          <Set Info="Name" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style/>
        <ParentStyle/>
        <AttributeSet/>
        <EventSet/>
        <IsHtml/>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/>
        </OrderSearch>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="" DataType="String" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List>
          <Set DisplayField="" DisplayList="" ListAddBlank="" ListShowType="" Sql="" TitleField="" TitleList="" ValueField="" ValueList=""/>
        </List>
        <UserSet>
          <Set Lang="zhcn" User="&lt;a href='javascript:openFrame(&quot;@getName&quot;)'&gt;@getName&lt;/a&gt;"/>
        </UserSet>
        <CallAction/>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
        <LogicParas/>
      </XItem>
      <XItem Name="des">
        <Tag>
          <Set IsLFEdit="" Tag="span"/>
        </Tag>
        <Name>
          <Set Name="des"/>
        </Name>
        <GroupIndex/>
        <InitValue/>
        <DescriptionSet>
          <Set Info="描述" Lang="zhcn" Memo="字段的描述"/>
          <Set Info="Description" Lang="enus" Memo="Field Description"/>
        </DescriptionSet>
        <Style/>
        <ParentStyle/>
        <AttributeSet/>
        <EventSet/>
        <IsHtml/>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/>
        </OrderSearch>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="" DataType="" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List/>
        <UserSet/>
        <CallAction/>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
        <LogicParas/>
      </XItem>
      <XItem Name="type">
        <Tag>
          <Set IsLFEdit="" Tag="span"/>
        </Tag>
        <Name>
          <Set Name="type"/>
        </Name>
        <GroupIndex/>
        <InitValue/>
        <DescriptionSet>
          <Set Info="类型" Lang="zhcn" Memo=""/>
          <Set Info="Type" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style/>
        <ParentStyle/>
        <AttributeSet/>
        <EventSet/>
        <IsHtml/>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/>
        </OrderSearch>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="" DataType="" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List/>
        <UserSet/>
        <CallAction/>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
        <LogicParas/>
      </XItem>
    </XItems>
    <Menus/>
    <Charts/>
    <PageInfos/>
  </EasyWebTemplate><EasyWebTemplate CreateDate="2010-06-13 20:31:36" Name="cache_list" UpdateDate="2011-12-03 15:29:16">
    <Page>
      <FrameTag>
        <Set FrameTag="ListFrame"/>
      </FrameTag>
      <Name>
        <Set Name="cache_list"/>
      </Name>
      <SkinName>
        <Set IsXhtml="" SkinName="Test1"/>
      </SkinName>
      <DataSource>
        <Set DataSource=""/>
      </DataSource>
      <Cached/>
      <Acl>
        <Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/>
      </Acl>
      <Log>
        <Set Log=""/>
      </Log>
      <DescriptionSet>
        <Set Info="缓存管理" Lang="zhcn" Memo=""/>
        <Set Info="Trace" Lang="enus" Memo=""/>
      </DescriptionSet>
      <PageAttributeSet/>
      <GroupSet/>
      <Size>
        <Set HAlign="center" Height="" HiddenCaption="" VAlign="" Width="80%"/>
      </Size>
      <AddHtml>
        <Set>
          <Top/>
          <Bottom/>
        </Set>
      </AddHtml>
      <AddScript>
        <Set>
          <Top/>
          <Bottom/>
        </Set>
      </AddScript>
      <AddCss>
        <Set>
          <AddCss/>
        </Set>
      </AddCss>
      <ChartsShow/>
      <FrameHtml/>
      <PageSize>
        <Set AllowExport="" ColSize="" IsSplitPage="0" KeyField="getXmlName, getItemName" PageSize=""/>
      </PageSize>
      <MenuShow/>
      <Menu/>
      <Tree/>
      <HtmlFrame>
        <Set FrameBorder="" FrameSize="310,*" FrameType=""/>
      </HtmlFrame>
      <TreeIconSet/>
      <MGAxisX/>
      <MGAxisY/>
      <MGCell/>
    </Page>
    <Action>
      <ActionSet>
        <Set LogMsg="" Type="OnPageLoad">
          <CallSet>
            <Set CallName="LoadFields" CallType="ClassSet" Test=""/>
          </CallSet>
        </Set>
        <Set LogMsg="" Type="clear">
          <CallSet>
            <Set CallName="clear" CallType="ClassSet" Test=""/>
          </CallSet>
        </Set>
      </ActionSet>
      <SqlSet/>
      <ClassSet>
        <Set ClassName="com.gdxsoft.easyweb.cache.ConfigCache" ConData="" MethodData="" MethodName="getUserConfigs" Name="LoadFields" XmlTag=""/>
        <Set ClassName="com.gdxsoft.easyweb.cache.ConfigCache" ConData="" MethodData="@getXmlName, @getItemName" MethodName="removeUserConfig" Name="clear" XmlTag=""/>
      </ClassSet>
      <XmlSet/>
      <XmlSetData/>
      <ScriptSet/>
      <UrlSet/>
      <CSSet/>
      <CallSet>
        <Set CallName="LoadFields" CallType="ClassSet" Test=""/>
      </CallSet>
    </Action>
    <XItems>
      <XItem Name="getxmlname">
        <Tag>
          <Set IsLFEdit="" Tag="span"/>
        </Tag>
        <Name>
          <Set Name="getxmlname"/>
        </Name>
        <GroupIndex/>
        <InitValue/>
        <DescriptionSet>
          <Set Info="配置文件" Lang="zhcn" Memo=""/>
          <Set Info="Time" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style>
          <Set Style=""/>
        </Style>
        <ParentStyle>
          <Set ParentStyle="width:40%;"/>
        </ParentStyle>
        <AttributeSet/>
        <EventSet/>
        <IsHtml/>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="1" IsGroupDefault="1" IsOrder="1" SearchType=""/>
        </OrderSearch>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="getxmlname" DataType="Date" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List/>
        <UserSet/>
        <CallAction/>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
      </XItem>
      <XItem Name="getItemName">
        <Tag>
          <Set IsLFEdit="" Tag="span"/>
        </Tag>
        <Name>
          <Set Name="getItemName"/>
        </Name>
        <GroupIndex/>
        <InitValue/>
        <DescriptionSet>
          <Set Info="配置项" Lang="zhcn" Memo=""/>
          <Set Info="Parameters" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style>
          <Set Style=""/>
        </Style>
        <ParentStyle>
          <Set ParentStyle=""/>
        </ParentStyle>
        <AttributeSet/>
        <EventSet/>
        <IsHtml>
          <Set IsHtml="0"/>
        </IsHtml>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchType=""/>
        </OrderSearch>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="getItemName" DataType="String" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List/>
        <UserSet>
          <Set Lang="zhcn" User="&lt;div style='width:400px;overflow:hidden' title=&quot;@getParameters&quot;&gt;&lt;nobr&gt;@getParameters&lt;/nobr&gt;&lt;/div&gt;"/>
        </UserSet>
        <CallAction/>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
      </XItem>
      <XItem Name="butdel">
        <Tag>
          <Set IsLFEdit="" Tag="button"/>
        </Tag>
        <Name>
          <Set Name="butdel"/>
        </Name>
        <GroupIndex/>
        <InitValue/>
        <DescriptionSet>
          <Set Info="清除" Lang="zhcn" Memo=""/>
          <Set Info="Clear" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style>
          <Set Style=""/>
        </Style>
        <ParentStyle>
          <Set ParentStyle="width:40px; text-align:center"/>
        </ParentStyle>
        <AttributeSet/>
        <EventSet/>
        <IsHtml/>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchType=""/>
        </OrderSearch>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="" DataType="" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List/>
        <UserSet/>
        <CallAction>
          <Set Action="clear" AfterTip="" ConfirmInfo="CommonTitle"/>
        </CallAction>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
      </XItem>
    </XItems>
    <Menus/>
    <Charts/>
    <PageInfos/>
  </EasyWebTemplate><EasyWebTemplate CreateDate="2012-01-10 10:16:35" Name="commmon_sqls" UpdateDate="2012-01-10 15:30:45">
    <Page>
      <FrameTag>
        <Set FrameTag="ListFrame"/>
      </FrameTag>
      <Name>
        <Set Name="commmon_sqls"/>
      </Name>
      <SkinName>
        <Set IsXhtml="" SkinName="Test1"/>
      </SkinName>
      <DataSource>
        <Set DataSource=""/>
      </DataSource>
      <Cached/>
      <Acl>
        <Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/>
      </Acl>
      <Log>
        <Set Log=""/>
      </Log>
      <DescriptionSet>
        <Set Info="配置项列表" Lang="zhcn" Memo=""/>
        <Set Info="Items list" Lang="enus" Memo=""/>
      </DescriptionSet>
      <PageAttributeSet/>
      <GroupSet/>
      <Size>
        <Set HAlign="" Height="" HiddenCaption="" VAlign="" Width="100%"/>
      </Size>
      <AddHtml>
        <Set>
          <Top>
            <![CDATA[<div id='divButton'  >
<input type='button' onclick="addNew();" value='添加新数据' />
<hr />  
</div>
					]]>
          </Top>
          <Bottom>
            <![CDATA[<form action="./?XMLNAME=|ewa|group.xml&ITEMNAME=main" method=post target=_blank>
	<input type=hidden name=i> 
</form>]]>
          </Bottom>
        </Set>
      </AddHtml>
      <AddScript>
        <Set>
          <Top>
            <![CDATA[function addNew(){
	EWA.UI.Dialog.OpenReloadClose('@sys_frame_unid',
		'|ewa|ewa.xml',
		'commmon_sqls_newmodify', false,
		'EWA_MTYPE=N')
}
 
 ]]>
          </Top>
          <Bottom>
            <![CDATA[var xmlName="@VIEW_XMLNAME";     
function openFrame(itemName){  
	var url= './?XMLNAME=ewa|ewa.xml&ITEMNAME=define_right&D_XMLNAME=' 
     + encodeURIComponent(xmlName) + '&D_ITEMNAME=' 
     + encodeURIComponent(itemName); 
	window.parent.AddTab( url,itemName);
}
if('@linktype'=='group'){
	$X('divButton').style.display='none';
	var tb=$X('EWA_LF_@SYS_FRAME_UNID');
	for(var i=0;i<tb.rows.length;i++){
		tb.rows[i].cells[tb.rows[i].cells.length-1].style.display='none';
		tb.rows[i].cells[tb.rows[i].cells.length-2].style.display='none';
		tb.rows[i].cells[tb.rows[i].cells.length-3].style.display='none';
		
	}
}
VIEW_XMLNAME ='@VIEW_XMLNAME';]]>
          </Bottom>
        </Set>
      </AddScript>
      <AddCss>
        <Set>
          <AddCss>
            <![CDATA[
#col_true{
						 width:16px;
						  background-image : url('@SYS_CONTEXTPATH/EWA_DEFINE/images/sql/key_p.gif') }
#col_false{ 
							width:16px;
							background-image : url('@SYS_CONTEXTPATH/EWA_DEFINE/images/sql/column.gif')
}
#fk_false{
							display:none;
}
					]]>
          </AddCss>
        </Set>
      </AddCss>
      <ChartsShow/>
      <FrameHtml/>
      <PageSize>
        <Set AllowExport="" ColSize="" IsSplitPage="" KeyField="getname" PageSize=""/>
      </PageSize>
      <ListUI>
        <Set luButtons="1" luSearch="" luSelect="S"/>
      </ListUI>
      <MenuShow/>
      <Menu/>
      <Tree/>
      <HtmlFrame>
        <Set FrameBorder="" FrameSize="" FrameType=""/>
      </HtmlFrame>
      <TreeIconSet/>
      <MGAxisX/>
      <MGAxisY/>
      <MGCell/>
      <Workflow/>
      <LogicShow/>
    </Page>
    <Action>
      <ActionSet>
        <Set LogMsg="" Type="OnPageLoad">
          <CallSet>
            <Set CallName="load" CallType="XmlSet" Test=""/>
          </CallSet>
        </Set>
        <Set LogMsg="" Type="OnListFrameUpdateCell">
          <CallSet>
            <Set CallName="update des" CallType="ClassSet" Test=""/>
          </CallSet>
        </Set>
      </ActionSet>
      <SqlSet/>
      <ClassSet>
        <Set ClassName="com.gdxsoft.easyweb.define.UserXmls" ConData="" MethodData="@view_xmlname" MethodName="getXmls" Name="LoadFields" XmlTag=""/>
        <Set ClassName="com.gdxsoft.easyweb.define.UpdateXml" ConData="@VIEW_XMLNAME" MethodData="@EWA_ACTION_KEY,@getdescription" MethodName="updateDescription" Name="update des" XmlTag=""/>
      </ClassSet>
      <XmlSet>
        <Set Name="load" XmlAction="load" XmlData="" XmlFields="" XmlSetData="数据源" XmlWhere=""/>
      </XmlSet>
      <XmlSetData>
        <Set Name="数据源" XmlFields="" XmlLoadType="attribute" XmlName="@EWA.SCRIPT.PATH/__ewa_common.sqls" XmlTagPath="Sqls/Sql"/>
      </XmlSetData>
      <ScriptSet/>
      <UrlSet/>
      <CSSet/>
      <CallSet>
        <Set CallName="LoadFields" CallType="ClassSet" Test=""/>
      </CallSet>
    </Action>
    <XItems>
      <XItem Name="inc">
        <Tag>
          <Set IsLFEdit="" Tag="span"/>
        </Tag>
        <Name>
          <Set Name="inc"/>
        </Name>
        <GroupIndex/>
        <InitValue>
          <Set InitValue="SEQID"/>
        </InitValue>
        <DescriptionSet>
          <Set Info="序号" Lang="zhcn" Memo=""/>
          <Set Info="No" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style/>
        <ParentStyle/>
        <AttributeSet/>
        <EventSet/>
        <IsHtml/>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/>
        </OrderSearch>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="" DataType="" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List/>
        <UserSet/>
        <CallAction/>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
        <AnchorParas/>
        <DopListShow/>
        <ReportCfg/>
      </XItem>
      <XItem Name="Name">
        <Tag>
          <Set IsLFEdit="" Tag="span"/>
        </Tag>
        <Name>
          <Set Name="Name"/>
        </Name>
        <GroupIndex/>
        <InitValue>
          <Set InitValue=""/>
        </InitValue>
        <DescriptionSet>
          <Set Info="选择" Lang="zhcn" Memo="a"/>
          <Set Info="Select" Lang="enus" Memo="a"/>
        </DescriptionSet>
        <Style>
          <Set Style=""/>
        </Style>
        <ParentStyle>
          <Set ParentStyle=""/>
        </ParentStyle>
        <AttributeSet/>
        <EventSet/>
        <IsHtml/>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/>
        </OrderSearch>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="Name" DataType="String" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List/>
        <UserSet/>
        <CallAction/>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
        <AnchorParas/>
        <DopListShow/>
        <ReportCfg/>
      </XItem>
      <XItem Name="Des">
        <Tag>
          <Set IsLFEdit="" Tag="span"/>
        </Tag>
        <Name>
          <Set Name="Des"/>
        </Name>
        <GroupIndex/>
        <InitValue/>
        <DescriptionSet>
          <Set Info="描述" Lang="zhcn" Memo=""/>
          <Set Info="Name" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style>
          <Set Style=""/>
        </Style>
        <ParentStyle/>
        <AttributeSet/>
        <EventSet/>
        <IsHtml/>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/>
        </OrderSearch>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="Des" DataType="String" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List>
          <Set DisplayField="" DisplayList="" ListAddBlank="" ListShowType="" Sql="" TitleField="" TitleList="" ValueField="" ValueList=""/>
        </List>
        <UserSet>
          <Set Lang="zhcn" User="&lt;a href='javascript:openFrame(&quot;@getName&quot;)'&gt;@getName&lt;/a&gt;"/>
        </UserSet>
        <CallAction/>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
        <AnchorParas/>
        <DopListShow/>
        <ReportCfg/>
      </XItem>
      <XItem Name="FieldValue">
        <Tag>
          <Set IsLFEdit="" Tag="span"/>
        </Tag>
        <Name>
          <Set Name="FieldValue"/>
        </Name>
        <GroupIndex/>
        <InitValue/>
        <DescriptionSet>
          <Set Info="值字段" Lang="zhcn" Memo=""/>
          <Set Info="Frame Type" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style/>
        <ParentStyle/>
        <AttributeSet/>
        <EventSet/>
        <IsHtml/>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/>
        </OrderSearch>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="FieldValue" DataType="" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List/>
        <UserSet/>
        <CallAction/>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
        <AnchorParas/>
        <DopListShow/>
        <ReportCfg/>
      </XItem>
      <XItem Name="FieldDisplay">
        <Tag>
          <Set IsLFEdit="1" Tag="span"/>
        </Tag>
        <Name>
          <Set Name="FieldDisplay"/>
        </Name>
        <GroupIndex/>
        <InitValue/>
        <DescriptionSet>
          <Set Info="显示字段" Lang="zhcn" Memo=""/>
          <Set Info="Description" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style/>
        <ParentStyle/>
        <AttributeSet/>
        <EventSet/>
        <IsHtml/>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/>
        </OrderSearch>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="FieldDisplay" DataType="String" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List/>
        <UserSet/>
        <CallAction/>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
        <AnchorParas/>
        <DopListShow/>
        <ReportCfg/>
      </XItem>
      <XItem Name="Ref">
        <Tag>
          <Set IsLFEdit="" Tag="span"/>
        </Tag>
        <Name>
          <Set Name="Ref"/>
        </Name>
        <GroupIndex/>
        <InitValue/>
        <DescriptionSet>
          <Set Info="引用" Lang="zhcn" Memo=""/>
          <Set Info="References" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style/>
        <ParentStyle/>
        <AttributeSet/>
        <EventSet/>
        <IsHtml/>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/>
        </OrderSearch>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="Ref" DataType="String" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List/>
        <UserSet/>
        <CallAction/>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
        <AnchorParas/>
        <DopListShow/>
        <ReportCfg/>
      </XItem>
      <XItem Name="Paras">
        <Tag>
          <Set IsLFEdit="" Tag="span"/>
        </Tag>
        <Name>
          <Set Name="Paras"/>
        </Name>
        <GroupIndex/>
        <InitValue/>
        <DescriptionSet>
          <Set Info="参数" Lang="zhcn" Memo=""/>
          <Set Info="Parameters" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style/>
        <ParentStyle/>
        <AttributeSet/>
        <EventSet/>
        <IsHtml/>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/>
        </OrderSearch>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="Paras" DataType="" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List/>
        <UserSet/>
        <CallAction/>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
        <AnchorParas/>
        <DopListShow/>
        <ReportCfg/>
      </XItem>
      <XItem Name="INNERTEXT">
        <Tag>
          <Set IsLFEdit="" Tag="span"/>
        </Tag>
        <Name>
          <Set Name="INNERTEXT"/>
        </Name>
        <GroupIndex/>
        <InitValue/>
        <DescriptionSet>
          <Set Info="SQL" Lang="zhcn" Memo=""/>
          <Set Info="SQL" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style/>
        <ParentStyle/>
        <AttributeSet/>
        <EventSet/>
        <IsHtml/>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/>
        </OrderSearch>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="INNERTEXT" DataType="" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List/>
        <UserSet/>
        <CallAction/>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
        <AnchorParas/>
        <DopListShow/>
        <ReportCfg/>
      </XItem>
      <XItem Name="buta">
        <Tag>
          <Set IsLFEdit="" Tag="button"/>
        </Tag>
        <Name>
          <Set Name="buta"/>
        </Name>
        <GroupIndex/>
        <InitValue/>
        <DescriptionSet>
          <Set Info="修改" Lang="zhcn" Memo=""/>
          <Set Info="Test" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style>
          <Set Style=""/>
        </Style>
        <ParentStyle>
          <Set ParentStyle="width:30px;"/>
        </ParentStyle>
        <AttributeSet/>
        <EventSet/>
        <IsHtml/>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/>
        </OrderSearch>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="" DataType="" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List/>
        <UserSet/>
        <CallAction/>
        <OpenFrame>
          <Set CallItemName="commmon_sqls_newmodify" CallMethod="OpenReloadClose" CallParas="EWA_MTYPE=M&amp;NAME=@NAME" CallXmlName="|ewa|ewa.xml"/>
        </OpenFrame>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
        <AnchorParas/>
        <DopListShow/>
        <ReportCfg/>
      </XItem>
    </XItems>
    <Menus/>
    <Charts/>
    <PageInfos/>
    <Workflows/>
  </EasyWebTemplate><EasyWebTemplate CreateDate="2012-01-10 10:55:21" Name="commmon_sqls_newmodify" UpdateDate="2012-01-11 10:04:05">
    <Page>
      <FrameTag>
        <Set FrameTag="Frame"/>
      </FrameTag>
      <Name>
        <Set Name="commmon_sqls_newmodify"/>
      </Name>
      <SkinName>
        <Set IsXhtml="" SkinName="Test1"/>
      </SkinName>
      <DataSource>
        <Set DataSource=""/>
      </DataSource>
      <Cached/>
      <Acl>
        <Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/>
      </Acl>
      <Log/>
      <DescriptionSet>
        <Set Info="公共数据" Lang="zhcn" Memo=""/>
        <Set Info="Public data" Lang="enus" Memo=""/>
      </DescriptionSet>
      <PageAttributeSet/>
      <GroupSet/>
      <Size>
        <Set HAlign="center" Height="" HiddenCaption="1" VAlign="top" Width="700px"/>
      </Size>
      <AddHtml>
        <Set>
          <Top><![CDATA[<script language="javascript" src="../js/EWA_COLOR_MARK.js"></script> ]]></Top>
          <Bottom/>
        </Set>
      </AddHtml>
      <AddScript>
        <Set>
          <Top>
            <![CDATA[function ok(){
	var sql = window.frames[0].getText().trimEx();
	$X('INNERTEXT').value=sql;
	return true; 
}]]>
          </Top>
          <Bottom>
            <![CDATA[var __TYPE__	 = "SQL";
addEvent(window,'load',function(){
		$X('INNERTEXT').style.display='none';
		
		var div = document.createElement('div');
		$X('INNERTEXT').parentNode.appendChild(div);
		var s='<iframe src="./?xmlname=|ewa|ewa.xml&itemname=define_edit_color&ewa_debug_no=1" width=100% height=100% frameborder=0></iframe>';
		__VAL__	= $X('INNERTEXT').value;
		div.innerHTML = s;
	}
);
 function aa(){
}]]>
          </Bottom>
        </Set>
      </AddScript>
      <AddCss>
        <Set>
          <AddCss/>
        </Set>
      </AddCss>
      <ChartsShow/>
      <FrameHtml>
        <Set>
          <FrameHtml/>
        </Set>
      </FrameHtml>
      <PageSize/>
      <ListUI/>
      <MenuShow/>
      <Menu/>
      <Tree/>
      <HtmlFrame/>
      <TreeIconSet/>
      <MGAxisX/>
      <MGAxisY/>
      <MGCell/>
      <Workflow/>
      <LogicShow/>
    </Page>
    <Action>
      <ActionSet>
        <Set LogMsg="" Type="loadAll">
          <CallSet>
            <Set CallName="load" CallType="XmlSet" Test=""/>
          </CallSet>
        </Set>
        <Set LogMsg="" Type="OnPageLoad">
          <CallSet>
            <Set CallName="onpageload xml" CallType="XmlSet" Test="'@EWA_MTYPE' = 'M'"/>
          </CallSet>
        </Set>
        <Set LogMsg="" Type="OnPagePost">
          <CallSet>
            <Set CallName="update" CallType="XmlSet" Test=""/>
          </CallSet>
        </Set>
      </ActionSet>
      <SqlSet/>
      <ClassSet/>
      <XmlSet>
        <Set Name="load" XmlAction="load" XmlData="" XmlFields="" XmlSetData="数据源" XmlWhere=""/>
        <Set Name="onpageload xml" XmlAction="load" XmlData="" XmlFields="" XmlSetData="数据源" XmlWhere="Name=@Name"/>
        <Set Name="update" XmlAction="inertOrUpdate" XmlData="" XmlFields="" XmlSetData="数据源" XmlWhere="Name=@Name"/>
      </XmlSet>
      <XmlSetData>
        <Set Name="数据源" XmlFields="" XmlLoadType="attribute" XmlName="@EWA.SCRIPT.PATH/__ewa_common.sqls" XmlTagPath="Sqls/Sql"/>
      </XmlSetData>
      <ScriptSet/>
      <UrlSet/>
      <CSSet/>
      <CallSet>
        <Set CallName="load" CallType="XmlSet" Test=""/>
      </CallSet>
    </Action>
    <XItems>
      <XItem Name="Name">
        <Tag>
          <Set IsLFEdit="" Tag="text"/>
        </Tag>
        <Name>
          <Set Name="Name"/>
        </Name>
        <GroupIndex/>
        <InitValue>
          <Set InitValue=""/>
        </InitValue>
        <DescriptionSet>
          <Set Info="名称" Lang="zhcn" Memo="名称要唯一"/>
          <Set Info="The name" Lang="enus" Memo="Name only"/>
        </DescriptionSet>
        <Style>
          <Set Style=""/>
        </Style>
        <ParentStyle>
          <Set ParentStyle=""/>
        </ParentStyle>
        <AttributeSet>
          <Set AttLogic="" AttName="" AttValue=""/>
        </AttributeSet>
        <EventSet/>
        <IsHtml>
          <Set IsHtml=""/>
        </IsHtml>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="" SearchMulti="" SearchSql="" SearchType=""/>
        </OrderSearch>
        <MaxMinLength>
          <Set MaxLength="" MinLength=""/>
        </MaxMinLength>
        <MaxMinValue>
          <Set MaxValue="" MinValue=""/>
        </MaxMinValue>
        <IsMustInput>
          <Set IsMustInput="1"/>
        </IsMustInput>
        <DataItem>
          <Set DataField="Name" DataType="String" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List>
          <Set DisplayField="name" DisplayList="" ListAddBlank="1" ListShowType="" Sql="{action:datasource}" TitleField="" TitleList="" ValueField="key" ValueList=""/>
        </List>
        <UserSet>
          <Set Lang="" User=""/>
        </UserSet>
        <CallAction>
          <Set Action="" AfterTip="" ConfirmInfo=""/>
        </CallAction>
        <OpenFrame>
          <Set CallItemName="" CallMethod="" CallParas="" CallXmlName=""/>
        </OpenFrame>
        <Frame>
          <Set CallItemName="" CallPara="" CallXmlName=""/>
        </Frame>
        <DefineFrame>
          <Set CallItemName="" CallPara="" CallXmlName=""/>
        </DefineFrame>
        <PopFrame/>
        <Upload>
          <Set UpExts="" UpNewSizes="" UpPath="" UpSQL="" UpSaveMethod="" UpType=""/>
        </Upload>
        <VaildEx>
          <Set VXAction="" VXFail="" VXJs="" VXMode="" VXOk=""/>
        </VaildEx>
        <MGAddField/>
        <AnchorParas/>
        <DopListShow/>
        <ReportCfg/>
      </XItem>
      <XItem Name="Des">
        <Tag>
          <Set IsLFEdit="" Tag="text"/>
        </Tag>
        <Name>
          <Set Name="Des"/>
        </Name>
        <GroupIndex/>
        <InitValue/>
        <DescriptionSet>
          <Set Info="描述" Lang="zhcn" Memo=""/>
          <Set Info="Description" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style/>
        <ParentStyle/>
        <AttributeSet/>
        <EventSet/>
        <IsHtml/>
        <OrderSearch/>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput>
          <Set IsMustInput="1"/>
        </IsMustInput>
        <DataItem>
          <Set DataField="Des" DataType="String" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List/>
        <UserSet/>
        <CallAction/>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
        <AnchorParas/>
        <DopListShow/>
        <ReportCfg/>
      </XItem>
      <XItem Name="FieldValue">
        <Tag>
          <Set IsLFEdit="" Tag="text"/>
        </Tag>
        <Name>
          <Set Name="FieldValue"/>
        </Name>
        <GroupIndex/>
        <InitValue>
          <Set InitValue=""/>
        </InitValue>
        <DescriptionSet>
          <Set Info="值字段" Lang="zhcn" Memo=""/>
          <Set Info="Value field" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style>
          <Set Style=""/>
        </Style>
        <ParentStyle>
          <Set ParentStyle=""/>
        </ParentStyle>
        <AttributeSet>
          <Set AttLogic="" AttName="" AttValue=""/>
        </AttributeSet>
        <EventSet/>
        <IsHtml>
          <Set IsHtml=""/>
        </IsHtml>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="" SearchMulti="" SearchSql="" SearchType=""/>
        </OrderSearch>
        <MaxMinLength>
          <Set MaxLength="" MinLength=""/>
        </MaxMinLength>
        <MaxMinValue>
          <Set MaxValue="" MinValue=""/>
        </MaxMinValue>
        <IsMustInput>
          <Set IsMustInput="0"/>
        </IsMustInput>
        <DataItem>
          <Set DataField="FieldValue" DataType="String" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List>
          <Set DisplayField="" DisplayList="" ListAddBlank="" ListShowType="" Sql="" TitleField="" TitleList="" ValueField="" ValueList=""/>
        </List>
        <UserSet>
          <Set Lang="" User=""/>
        </UserSet>
        <CallAction>
          <Set Action="" AfterTip="" ConfirmInfo=""/>
        </CallAction>
        <OpenFrame>
          <Set CallItemName="" CallMethod="" CallParas="" CallXmlName=""/>
        </OpenFrame>
        <Frame>
          <Set CallItemName="" CallPara="" CallXmlName=""/>
        </Frame>
        <DefineFrame>
          <Set CallItemName="" CallPara="" CallXmlName=""/>
        </DefineFrame>
        <PopFrame/>
        <Upload>
          <Set UpExts="" UpNewSizes="" UpPath="" UpSQL="" UpSaveMethod="" UpType=""/>
        </Upload>
        <VaildEx>
          <Set VXAction="" VXFail="" VXJs="" VXMode="" VXOk=""/>
        </VaildEx>
        <MGAddField/>
        <AnchorParas/>
        <DopListShow/>
        <ReportCfg/>
      </XItem>
      <XItem Name="FieldDisplay">
        <Tag>
          <Set IsLFEdit="" Tag="text"/>
        </Tag>
        <Name>
          <Set Name="FieldDisplay"/>
        </Name>
        <GroupIndex/>
        <InitValue>
          <Set InitValue=""/>
        </InitValue>
        <DescriptionSet>
          <Set Info="显示字段" Lang="zhcn" Memo=""/>
          <Set Info="Display field" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style>
          <Set Style=""/>
        </Style>
        <ParentStyle>
          <Set ParentStyle=""/>
        </ParentStyle>
        <AttributeSet>
          <Set AttLogic="" AttName="" AttValue=""/>
        </AttributeSet>
        <EventSet/>
        <IsHtml>
          <Set IsHtml=""/>
        </IsHtml>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="" SearchMulti="" SearchSql="" SearchType=""/>
        </OrderSearch>
        <MaxMinLength>
          <Set MaxLength="200" MinLength=""/>
        </MaxMinLength>
        <MaxMinValue>
          <Set MaxValue="" MinValue=""/>
        </MaxMinValue>
        <IsMustInput>
          <Set IsMustInput="0"/>
        </IsMustInput>
        <DataItem>
          <Set DataField="FieldDisplay" DataType="String" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List>
          <Set DisplayField="" DisplayList="" ListAddBlank="" ListShowType="" Sql="" TitleField="" TitleList="" ValueField="" ValueList=""/>
        </List>
        <UserSet>
          <Set Lang="" User=""/>
        </UserSet>
        <CallAction>
          <Set Action="" AfterTip="" ConfirmInfo=""/>
        </CallAction>
        <OpenFrame>
          <Set CallItemName="" CallMethod="" CallParas="" CallXmlName=""/>
        </OpenFrame>
        <Frame>
          <Set CallItemName="" CallPara="" CallXmlName=""/>
        </Frame>
        <DefineFrame>
          <Set CallItemName="" CallPara="" CallXmlName=""/>
        </DefineFrame>
        <PopFrame/>
        <Upload>
          <Set UpExts="" UpNewSizes="" UpPath="" UpSQL="" UpSaveMethod="" UpType=""/>
        </Upload>
        <VaildEx>
          <Set VXAction="" VXFail="" VXJs="" VXMode="" VXOk=""/>
        </VaildEx>
        <MGAddField/>
        <AnchorParas/>
        <DopListShow/>
        <ReportCfg/>
      </XItem>
      <XItem Name="Ref">
        <Tag>
          <Set IsLFEdit="" Tag="select"/>
        </Tag>
        <Name>
          <Set Name="Ref"/>
        </Name>
        <GroupIndex/>
        <InitValue/>
        <DescriptionSet>
          <Set Info="参考来源" Lang="zhcn" Memo="子项的调用父项"/>
          <Set Info="Reference sources" Lang="enus" Memo="Call the parent of the children that"/>
        </DescriptionSet>
        <Style/>
        <ParentStyle/>
        <AttributeSet/>
        <EventSet>
          <Set EventLogic="" EventName="onchange" EventType="Javascript" EventValue="aa()"/>
        </EventSet>
        <IsHtml/>
        <OrderSearch/>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="Ref" DataType="String" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List>
          <Set DisplayField="Des" DisplayList="" ListAddBlank="1" ListShowType="Key-Text" Sql="{action:loadAll}" TitleField="" TitleList="" ValueField="Name" ValueList=""/>
        </List>
        <UserSet/>
        <CallAction/>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
        <AnchorParas/>
        <DopListShow/>
        <ReportCfg/>
      </XItem>
      <XItem Name="Paras">
        <Tag>
          <Set IsLFEdit="" Tag="text"/>
        </Tag>
        <Name>
          <Set Name="Paras"/>
        </Name>
        <GroupIndex/>
        <InitValue>
          <Set InitValue=""/>
        </InitValue>
        <DescriptionSet>
          <Set Info="参考参数" Lang="zhcn" Memo="和来源的参数数量一致"/>
          <Set Info="Reference parameters" Lang="enus" Memo="Number of arguments and sources"/>
        </DescriptionSet>
        <Style>
          <Set Style=""/>
        </Style>
        <ParentStyle>
          <Set ParentStyle=""/>
        </ParentStyle>
        <AttributeSet>
          <Set AttLogic="" AttName="" AttValue=""/>
        </AttributeSet>
        <EventSet/>
        <IsHtml>
          <Set IsHtml=""/>
        </IsHtml>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="" SearchMulti="" SearchSql="" SearchType=""/>
        </OrderSearch>
        <MaxMinLength>
          <Set MaxLength="500" MinLength=""/>
        </MaxMinLength>
        <MaxMinValue>
          <Set MaxValue="" MinValue=""/>
        </MaxMinValue>
        <IsMustInput>
          <Set IsMustInput="0"/>
        </IsMustInput>
        <DataItem>
          <Set DataField="Paras" DataType="String" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List>
          <Set DisplayField="" DisplayList="" ListAddBlank="" ListShowType="" Sql="" TitleField="" TitleList="" ValueField="" ValueList=""/>
        </List>
        <UserSet>
          <Set Lang="" User=""/>
        </UserSet>
        <CallAction>
          <Set Action="" AfterTip="" ConfirmInfo=""/>
        </CallAction>
        <OpenFrame>
          <Set CallItemName="" CallMethod="" CallParas="" CallXmlName=""/>
        </OpenFrame>
        <Frame>
          <Set CallItemName="" CallPara="" CallXmlName=""/>
        </Frame>
        <DefineFrame>
          <Set CallItemName="" CallPara="" CallXmlName=""/>
        </DefineFrame>
        <PopFrame/>
        <Upload>
          <Set UpExts="" UpNewSizes="" UpPath="" UpSQL="" UpSaveMethod="" UpType=""/>
        </Upload>
        <VaildEx>
          <Set VXAction="" VXFail="" VXJs="" VXMode="" VXOk=""/>
        </VaildEx>
        <MGAddField/>
        <AnchorParas/>
        <DopListShow/>
        <ReportCfg/>
      </XItem>
      <XItem Name="INNERTEXT">
        <Tag>
          <Set IsLFEdit="" Tag="textarea"/>
        </Tag>
        <Name>
          <Set Name="INNERTEXT"/>
        </Name>
        <GroupIndex/>
        <InitValue>
          <Set InitValue=""/>
        </InitValue>
        <DescriptionSet>
          <Set Info="SQL" Lang="zhcn" Memo=""/>
          <Set Info="SQL" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style>
          <Set Style=""/>
        </Style>
        <ParentStyle>
          <Set ParentStyle=""/>
        </ParentStyle>
        <AttributeSet>
          <Set AttLogic="" AttName="" AttValue=""/>
        </AttributeSet>
        <EventSet>
          <Set EventLogic="" EventName="" EventType="" EventValue=""/>
        </EventSet>
        <IsHtml>
          <Set IsHtml=""/>
        </IsHtml>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="" SearchMulti="" SearchSql="" SearchType=""/>
        </OrderSearch>
        <MaxMinLength>
          <Set MaxLength="" MinLength=""/>
        </MaxMinLength>
        <MaxMinValue>
          <Set MaxValue="" MinValue=""/>
        </MaxMinValue>
        <IsMustInput>
          <Set IsMustInput="0"/>
        </IsMustInput>
        <DataItem>
          <Set DataField="INNERTEXT" DataType="String" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List>
          <Set DisplayField="DENY_DES" DisplayList="" ListAddBlank="" ListShowType="" Sql="SELECT * FROM EWA_DENY WHERE 1=1" TitleField="" TitleList="" ValueField="DENY" ValueList=""/>
        </List>
        <UserSet>
          <Set Lang="zhcn" User="&lt;div style='height:100px;font-size:13px;' id='sql1'&gt; &lt;/div&gt;"/>
        </UserSet>
        <CallAction>
          <Set Action="" AfterTip="" ConfirmInfo=""/>
        </CallAction>
        <OpenFrame>
          <Set CallItemName="" CallMethod="" CallParas="" CallXmlName=""/>
        </OpenFrame>
        <Frame>
          <Set CallItemName="" CallPara="" CallXmlName=""/>
        </Frame>
        <DefineFrame>
          <Set CallItemName="" CallPara="" CallXmlName=""/>
        </DefineFrame>
        <PopFrame/>
        <Upload>
          <Set UpExts="" UpNewSizes="" UpPath="" UpSQL="" UpSaveMethod="" UpType=""/>
        </Upload>
        <VaildEx>
          <Set VXAction="" VXFail="" VXJs="" VXMode="" VXOk=""/>
        </VaildEx>
        <MGAddField/>
        <AnchorParas/>
        <DopListShow/>
        <ReportCfg/>
      </XItem>
      <XItem Name="butOk">
        <Tag>
          <Set IsLFEdit="" Tag="submit"/>
        </Tag>
        <Name>
          <Set Name="butOk"/>
        </Name>
        <GroupIndex/>
        <InitValue>
          <Set InitValue=""/>
        </InitValue>
        <DescriptionSet>
          <Set Info="确定" Lang="zhcn" Memo=""/>
          <Set Info="Ok" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style>
          <Set Style=""/>
        </Style>
        <ParentStyle>
          <Set ParentStyle="width:40px; text-align: center"/>
        </ParentStyle>
        <AttributeSet>
          <Set AttLogic="" AttName="" AttValue=""/>
        </AttributeSet>
        <EventSet>
          <Set EventLogic="" EventName="onclick" EventType="Javascript" EventValue="ok()"/>
        </EventSet>
        <IsHtml>
          <Set IsHtml=""/>
        </IsHtml>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="" SearchMulti="" SearchSql="" SearchType=""/>
        </OrderSearch>
        <MaxMinLength>
          <Set MaxLength="" MinLength=""/>
        </MaxMinLength>
        <MaxMinValue>
          <Set MaxValue="" MinValue=""/>
        </MaxMinValue>
        <IsMustInput>
          <Set IsMustInput=""/>
        </IsMustInput>
        <DataItem>
          <Set DataField="butOk" DataType="" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List>
          <Set DisplayField="" DisplayList="" ListAddBlank="" ListShowType="" Sql="" TitleField="" TitleList="" ValueField="" ValueList=""/>
        </List>
        <UserSet>
          <Set Lang="" User=""/>
        </UserSet>
        <CallAction>
          <Set Action="" AfterTip="" ConfirmInfo=""/>
        </CallAction>
        <OpenFrame>
          <Set CallItemName="" CallMethod="" CallParas="" CallXmlName=""/>
        </OpenFrame>
        <Frame>
          <Set CallItemName="" CallPara="" CallXmlName=""/>
        </Frame>
        <DefineFrame>
          <Set CallItemName="" CallPara="" CallXmlName=""/>
        </DefineFrame>
        <PopFrame/>
        <Upload>
          <Set UpExts="" UpNewSizes="" UpPath="" UpSQL="" UpSaveMethod="" UpType=""/>
        </Upload>
        <VaildEx>
          <Set VXAction="" VXFail="" VXJs="" VXMode="" VXOk=""/>
        </VaildEx>
        <MGAddField/>
        <AnchorParas/>
        <DopListShow/>
        <ReportCfg/>
      </XItem>
      <XItem Name="butClose">
        <Tag>
          <Set IsLFEdit="" Tag="button"/>
        </Tag>
        <Name>
          <Set Name="butClose"/>
        </Name>
        <GroupIndex/>
        <InitValue>
          <Set InitValue=""/>
        </InitValue>
        <DescriptionSet>
          <Set Info="关闭" Lang="zhcn" Memo=""/>
          <Set Info="Cancel" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style>
          <Set Style=""/>
        </Style>
        <ParentStyle>
          <Set ParentStyle="width:40px; text-align: center"/>
        </ParentStyle>
        <AttributeSet>
          <Set AttLogic="" AttName="" AttValue=""/>
        </AttributeSet>
        <EventSet>
          <Set EventLogic="" EventName="" EventType="" EventValue=""/>
        </EventSet>
        <IsHtml>
          <Set IsHtml=""/>
        </IsHtml>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="" SearchMulti="" SearchSql="" SearchType=""/>
        </OrderSearch>
        <MaxMinLength>
          <Set MaxLength="" MinLength=""/>
        </MaxMinLength>
        <MaxMinValue>
          <Set MaxValue="" MinValue=""/>
        </MaxMinValue>
        <IsMustInput>
          <Set IsMustInput=""/>
        </IsMustInput>
        <DataItem>
          <Set DataField="butClose" DataType="" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List>
          <Set DisplayField="" DisplayList="" ListAddBlank="" ListShowType="" Sql="" TitleField="" TitleList="" ValueField="" ValueList=""/>
        </List>
        <UserSet>
          <Set Lang="" User=""/>
        </UserSet>
        <CallAction>
          <Set Action="" AfterTip="" ConfirmInfo=""/>
        </CallAction>
        <OpenFrame>
          <Set CallItemName="" CallMethod="" CallParas="" CallXmlName=""/>
        </OpenFrame>
        <Frame>
          <Set CallItemName="" CallPara="" CallXmlName=""/>
        </Frame>
        <DefineFrame>
          <Set CallItemName="" CallPara="" CallXmlName=""/>
        </DefineFrame>
        <PopFrame/>
        <Upload>
          <Set UpExts="" UpNewSizes="" UpPath="" UpSQL="" UpSaveMethod="" UpType=""/>
        </Upload>
        <VaildEx>
          <Set VXAction="" VXFail="" VXJs="" VXMode="" VXOk=""/>
        </VaildEx>
        <MGAddField/>
        <AnchorParas/>
        <DopListShow/>
        <ReportCfg/>
      </XItem>
    </XItems>
    <Menus/>
    <Charts/>
    <PageInfos/>
    <Workflows/>
  </EasyWebTemplate><EasyWebTemplate CreateDate="2013-05-10 14:09:52" Name="file_diffs" UpdateDate="2013-05-10 16:50:18"><Page><FrameTag><Set FrameTag="ListFrame"/></FrameTag><Name><Set Name="file_diffs"/></Name><SkinName><Set IsXhtml="" SkinName="Test1"/></SkinName><DataSource><Set DataSource=""/></DataSource><Cached/><Acl><Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/></Acl><Log><Set Log=""/></Log><DescriptionSet><Set Info="配置项列表" Lang="zhcn" Memo=""/><Set Info="Items list" Lang="enus" Memo=""/></DescriptionSet><PageAttributeSet/><GroupSet/><Size><Set FrameCols="" HAlign="" Height="" HiddenCaption="" VAlign="" Width="100%"/></Size><AddHtml><Set><Top/><Bottom/></Set></AddHtml><AddScript><Set><Top><![CDATA[function syncFiels(){
  var ids=EWA.F.FOS["@SYS_FRAME_UNID"].SelectChecked();
  var paras=[];
  paras[0]={Name:'ids', Value:ids};
  
  EWA.F.FOS['@SYS_FRAME_UNID'].DoAction(this, 
                                        'OnListFrameUpdateCell',
                                        '你确定要更新么', '完成同步' , paras);
}]]></Top><Bottom><![CDATA[function loadCfg(){
  var objs=document.getElementsByClassName('ewa_lf_func_caption');
  if(objs.length==0){
    setTimeout(loadCfg,100);
    return;
  }
  var u= window.location+'&ewa_action=getcfgs&ewa_ajax=json';
  $J(u,loadCfg1);

}
function loadCfg1(datas){
  var o=document.getElementsByClassName('ewa_lf_func_caption')[0];
  var o1=document.createElement('select');
  o1.options[o1.options.length]=new Option('','');
  for(var i=0;i<datas.length;i++){
    var data=datas[i];
    var txt=data.getName;
    var opt = new Option(txt,data.getId);
    opt.title='(' + data.getSource + ',' + data.getTarget+')';
    o1.options[o1.options.length]=opt;
    if('@id'==data.getId){
      opt.selected=true;
    }
  }
  
  o1.onchange=function(){
    window.location.href='./?XMLNAME=@xmlname&ITEMNAME=file_diffs&id='
      +this.value;
  }
  
  var o2=document.createElement('span');
  o2.innerHTML='&nbsp;选择同步项目:';
  o.appendChild(o2);
  o.appendChild(o1);  
}
addEvent(window,'load',loadCfg);
]]></Bottom></Set></AddScript><AddCss><Set><AddCss><![CDATA[
            
#col_true{
						 width:16px;
						  background-image : url('@SYS_CONTEXTPATH/EWA_DEFINE/images/sql/key_p.gif') }
#col_false{ 
							width:16px;
							background-image : url('@SYS_CONTEXTPATH/EWA_DEFINE/images/sql/column.gif')
}
#fk_false{
							display:none;
}
					
          ]]></AddCss></Set></AddCss><ChartsShow/><FrameHtml/><PageSize><Set AllowExport="" ColSize="" IsSplitPage="" KeyField="getname" PageSize=""/></PageSize><ListUI><Set luButtons="1" luSearch="" luSelect="M"/></ListUI><MenuShow/><Menu/><Tree/><HtmlFrame><Set FrameBorder="" FrameSize="" FrameSubUrl="" FrameType=""/></HtmlFrame><TreeIconSet/><MGAxisX/><MGAxisY/><MGCell/><LogicShow/></Page><Action><ActionSet><Set IsPostMsg="no" LogMsg="" Type="OnPageLoad"><CallSet><Set CallIsChk="" CallName="LoadFields" CallType="ClassSet" Test=""/></CallSet></Set><Set IsPostMsg="no" LogMsg="" Type="OnListFrameUpdateCell"><CallSet><Set CallIsChk="" CallName="update des" CallType="ClassSet" Test=""/></CallSet></Set><Set IsPostMsg="no" LogMsg="" Type="getCfgs"><CallSet><Set CallIsChk="" CallName="getCfgs" CallType="ClassSet" Test=""/></CallSet></Set></ActionSet><SqlSet/><ClassSet><Set ClassName="com.gdxsoft.easyweb.define.Sync" ConData="" MethodData="@id" MethodName="getDiffsById" Name="LoadFields" XmlTag=""/><Set ClassName="com.gdxsoft.easyweb.define.Sync" ConData="" MethodData="@id,@ids" MethodName="syncFiles" Name="update des" XmlTag=""/><Set ClassName="com.gdxsoft.easyweb.define.Sync" ConData="" MethodData="" MethodName="getCfgs" Name="getCfgs" XmlTag=""/></ClassSet><XmlSet/><XmlSetData/><ScriptSet/><UrlSet/><CSSet/><CallSet><Set CallIsChk="" CallName="LoadFields" CallType="ClassSet" Test=""/></CallSet></Action><XItems><XItem Name="chk"><Tag><Set IsLFEdit="" Tag="checkboxgrid"/></Tag><Name><Set Name="chk"/></Name><GroupIndex/><InitValue><Set InitValue=""/></InitValue><DescriptionSet><Set Info="选择" Lang="zhcn" Memo="a"/><Set Info="Select" Lang="enus" Memo="a"/></DescriptionSet><XStyle/><Style><Set Style=""/></Style><ParentStyle><Set ParentStyle="width:27px"/></ParentStyle><AttributeSet/><EventSet/><IsHtml/><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><MaxMinLength/><MaxMinValue/><IsMustInput/><DataItem><Set DataField="getPath" DataType="String" Format="" IsEncrypt="" Valid=""/></DataItem><DataRef/><List/><UserSet/><CallAction/><OpenFrame/><Frame/><DefineFrame/><PopFrame/><Upload/><VaildEx/><MGAddField/><AnchorParas/><DopListShow/><ReportCfg/></XItem><XItem Name="getName"><Tag><Set IsLFEdit="" Tag="span"/></Tag><Name><Set Name="getName"/></Name><GroupIndex/><InitValue/><DescriptionSet><Set Info="文件" Lang="zhcn" Memo=""/><Set Info="File" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style/><ParentStyle/><AttributeSet/><EventSet/><IsHtml/><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><MaxMinLength/><MaxMinValue/><IsMustInput/><DataItem><Set DataField="getName" DataType="" Format="" IsEncrypt="" Valid=""/></DataItem><DataRef/><List/><UserSet/><CallAction/><OpenFrame/><Frame/><DefineFrame/><PopFrame/><Upload/><VaildEx/><MGAddField/><AnchorParas/><DopListShow/><ReportCfg/></XItem><XItem Name="getPath"><Tag><Set IsLFEdit="" Tag="span"/></Tag><Name><Set Name="getPath"/></Name><GroupIndex/><InitValue/><DescriptionSet><Set Info="路径" Lang="zhcn" Memo=""/><Set Info="Path" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style/><ParentStyle/><AttributeSet/><EventSet/><IsHtml/><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><MaxMinLength/><MaxMinValue/><IsMustInput/><DataItem><Set DataField="getPath" DataType="" Format="" IsEncrypt="" Valid=""/></DataItem><DataRef/><List/><UserSet/><CallAction/><OpenFrame/><Frame/><DefineFrame/><PopFrame/><Upload/><VaildEx/><MGAddField/><AnchorParas/><DopListShow/><ReportCfg/></XItem><XItem Name="length"><Tag><Set IsLFEdit="" Tag="span"/></Tag><Name><Set Name="length"/></Name><GroupIndex/><InitValue/><DescriptionSet><Set Info="长度" Lang="zhcn" Memo=""/><Set Info="Length" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style/><ParentStyle/><AttributeSet/><EventSet/><IsHtml/><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><MaxMinLength/><MaxMinValue/><IsMustInput/><DataItem><Set DataField="getlength" DataType="String" Format="" IsEncrypt="" Valid=""/></DataItem><DataRef/><List><Set DisplayField="" DisplayList="" ListAddBlank="" ListShowType="" Sql="" TitleField="" TitleList="" ValueField="" ValueList=""/></List><UserSet><Set Lang="zhcn" User="&lt;a href='javascript:openFrame(&quot;@getName&quot;)'&gt;@getName&lt;/a&gt;"/></UserSet><CallAction/><OpenFrame/><Frame/><DefineFrame/><PopFrame/><Upload/><VaildEx/><MGAddField/><AnchorParas/><DopListShow/><ReportCfg/></XItem><XItem Name="getdate"><Tag><Set IsLFEdit="" Tag="span"/></Tag><Name><Set Name="getdate"/></Name><GroupIndex/><InitValue/><DescriptionSet><Set Info="修改日期" Lang="zhcn" Memo=""/><Set Info="Modify Time" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style/><ParentStyle/><AttributeSet/><EventSet/><IsHtml/><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><MaxMinLength/><MaxMinValue/><IsMustInput/><DataItem><Set DataField="getdate" DataType="" Format="DateTime" IsEncrypt="" Valid=""/></DataItem><DataRef/><List/><UserSet/><CallAction/><OpenFrame/><Frame/><DefineFrame/><PopFrame/><Upload/><VaildEx/><MGAddField/><AnchorParas/><DopListShow/><ReportCfg/></XItem><XItem Name="butSync"><Tag><Set IsLFEdit="" Tag="button"/></Tag><Name><Set Name="butSync"/></Name><GroupIndex/><InitValue/><DescriptionSet><Set Info="同步文件" Lang="zhcn" Memo=""/><Set Info="Synchronize files" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style/><ParentStyle/><AttributeSet/><EventSet><Set EventLogic="" EventName="onclick" EventType="Javascript" EventValue="syncFiels()"/></EventSet><IsHtml/><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><MaxMinLength/><MaxMinValue/><IsMustInput/><DataItem><Set DataField="" DataType="" Format="" IsEncrypt="" Valid=""/></DataItem><DataRef/><List/><UserSet/><CallAction/><OpenFrame/><Frame/><DefineFrame/><PopFrame/><Upload/><VaildEx/><MGAddField/><AnchorParas/><DopListShow/><ReportCfg/></XItem></XItems><Menus/><Charts/><PageInfos/><Workflows/></EasyWebTemplate><EasyWebTemplate CreateDate="2013-05-22 09:25:25" Name="sql_run_main" UpdateDate="2013-05-24 09:32:10"><Page><FrameTag><Set FrameTag="Frame"/></FrameTag><Name><Set Name="sql_run_main"/></Name><SkinName><Set IsXhtml="" SkinName="Blue"/></SkinName><DataSource><Set DataSource=""/></DataSource><Cached><Set CachedSeconds="862024" CachedType="all"/></Cached><Acl><Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/></Acl><Log/><DescriptionSet><Set Info="SQL" Lang="zhcn" Memo=""/><Set Info="SQL" Lang="enus" Memo=""/></DescriptionSet><PageAttributeSet><Set PageAttName="margin" PageAttValue="0px"/></PageAttributeSet><GroupSet/><Size><Set FrameCols="" HAlign="center" Height="100%" HiddenCaption="1" VAlign="top" Width="100%"/></Size><AddHtml><Set><Top><![CDATA[<table border=0 width=100% height=100%>
  <tr>
    <td height=25><input type=button onclick='run()' value='RUN(CTRL+E)'></td>
  </tr>
  <tr><td><iframe src='./?xmlname=@xmlname&itemname=sql_run&db=@db&tablename=@tablename'
    width=100% height=100% frameborder=0></iframe></td></tr>
</table>]]></Top><Bottom/></Set></AddHtml><AddScript><Set><Top/><Bottom><![CDATA[function run(){
  window.frames[0].frames[0].run();
}


document.body.style.margin='0px';
document.body.style.overflow='hidden';
]]></Bottom></Set></AddScript><AddCss><Set><AddCss><![CDATA[ ]]></AddCss></Set></AddCss><ChartsShow/><FrameHtml><Set><FrameHtml/></Set></FrameHtml><PageSize/><ListUI/><MenuShow/><Menu/><Tree/><HtmlFrame><Set FrameBorder="1" FrameSize="50%,*" FrameSubUrl="" FrameType=""/></HtmlFrame><TreeIconSet/><MGAxisX/><MGAxisY/><MGCell/><LogicShow/></Page><Action><ActionSet/><SqlSet/><ClassSet/><XmlSet/><XmlSetData/><ScriptSet/><UrlSet/><CSSet/><CallSet/></Action><XItems/><Menus/><Charts/><PageInfos/><Workflows/></EasyWebTemplate><EasyWebTemplate CreateDate="2009-09-24 15:20:56" Name="frame_update" UpdateDate="2013-09-05 14:53:14"><Page><FrameTag><Set FrameTag="Frame"/></FrameTag><Name><Set Name="frame_update"/></Name><SkinName><Set IsXhtml="" SkinName="Test1"/></SkinName><DataSource><Set DataSource=""/></DataSource><Cached/><Acl><Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/></Acl><Log/><DescriptionSet><Set Info="修改参数" Lang="zhcn" Memo=""/><Set Info="Modifying parameters" Lang="enus" Memo=""/></DescriptionSet><PageAttributeSet/><GroupSet/><Size><Set FrameCols="" HAlign="center" Height="" HiddenCaption="1" VAlign="top" Width="600px;"/></Size><AddHtml><Set><Top/><Bottom/></Set></AddHtml><AddScript><Set><Top/><Bottom/></Set></AddScript><AddCss><Set><AddCss/></Set></AddCss><ChartsShow/><FrameHtml><Set><FrameHtml/></Set></FrameHtml><PageSize/><ListUI/><MenuShow/><Menu/><Tree/><HtmlFrame/><TreeIconSet/><MGAxisX/><MGAxisY/><MGCell/><LogicShow/></Page><Action><ActionSet><Set IsPostMsg="" LogMsg="" Type="OnPagePost"><CallSet><Set CallIsChk="" CallName="update" CallType="ClassSet" Test=""/></CallSet></Set></ActionSet><SqlSet/><ClassSet><Set ClassName="com.gdxsoft.easyweb.define.UpdateXml" ConData="@VIEW_XMLNAME" MethodData="@itemNames, @paraName, @paraValue" MethodName="batchUpdate" Name="update" XmlTag=""/></ClassSet><XmlSet/><XmlSetData/><ScriptSet/><UrlSet/><CSSet/><CallSet><Set CallIsChk="" CallName="update" CallType="ClassSet" Test=""/></CallSet></Action><XItems><XItem Name="paraName"><Tag><Set IsLFEdit="" Tag="select"/></Tag><Name><Set Name="paraName"/></Name><GroupIndex/><InitValue><Set InitValue=""/></InitValue><DescriptionSet><Set Info="目标" Lang="zhcn" Memo=""/><Set Info="Target" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style><Set Style=""/></Style><ParentStyle><Set ParentStyle=""/></ParentStyle><AttributeSet><Set AttLogic="" AttName="" AttValue=""/></AttributeSet><EventSet><Set EventLogic="" EventName="" EventType="" EventValue=""/></EventSet><IsHtml><Set IsHtml=""/></IsHtml><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><MaxMinLength><Set MaxLength="100" MinLength=""/></MaxMinLength><MaxMinValue><Set MaxValue="" MinValue=""/></MaxMinValue><IsMustInput><Set IsMustInput="1"/></IsMustInput><DataItem><Set DataField="paraName" DataType="String" Format="" IsEncrypt="" Valid=""/></DataItem><DataRef/><List><Set DisplayField="" DisplayList=",数据源,皮肤,权限,日志" ListAddBlank="" ListShowType="" Sql="" TitleField="" TitleList="" ValueField="" ValueList=",DataSource,SkinName,Acl,Log"/></List><UserSet><Set Lang="" User=""/></UserSet><CallAction><Set Action="" AfterTip="" ConfirmInfo=""/></CallAction><OpenFrame><Set CallItemName="" CallMethod="" CallParas="" CallXmlName=""/></OpenFrame><Frame><Set CallItemName="" CallPara="" CallXmlName=""/></Frame><DefineFrame><Set CallItemName="" CallPara="" CallXmlName=""/></DefineFrame><PopFrame/><Upload><Set Up2Swf="" UpDelete="" UpExts="" UpNewSizes="" UpPath="" UpSQL="" UpSaveMethod="" UpType=""/></Upload><VaildEx><Set VXAction="" VXFail="" VXJs="" VXMode="" VXOk=""/></VaildEx><MGAddField/><AnchorParas/><DopListShow/><ReportCfg/></XItem><XItem Name="paraValue"><Tag><Set IsLFEdit="" Tag="text"/></Tag><Name><Set Name="paraValue"/></Name><GroupIndex/><InitValue><Set InitValue=""/></InitValue><DescriptionSet><Set Info="修改内容" Lang="zhcn" Memo=""/><Set Info="Modify content" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style><Set Style=""/></Style><ParentStyle><Set ParentStyle=""/></ParentStyle><AttributeSet><Set AttLogic="" AttName="" AttValue=""/></AttributeSet><EventSet><Set EventLogic="" EventName="" EventType="" EventValue=""/></EventSet><IsHtml><Set IsHtml=""/></IsHtml><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><MaxMinLength><Set MaxLength="100" MinLength=""/></MaxMinLength><MaxMinValue><Set MaxValue="" MinValue=""/></MaxMinValue><IsMustInput><Set IsMustInput="1"/></IsMustInput><DataItem><Set DataField="paraValue" DataType="String" Format="" IsEncrypt="" Valid=""/></DataItem><DataRef/><List><Set DisplayField="" DisplayList="" ListAddBlank="" ListShowType="" Sql="" TitleField="" TitleList="" ValueField="" ValueList=""/></List><UserSet><Set Lang="" User=""/></UserSet><CallAction><Set Action="" AfterTip="" ConfirmInfo=""/></CallAction><OpenFrame><Set CallItemName="" CallMethod="" CallParas="" CallXmlName=""/></OpenFrame><Frame><Set CallItemName="" CallPara="" CallXmlName=""/></Frame><DefineFrame><Set CallItemName="" CallPara="" CallXmlName=""/></DefineFrame><PopFrame/><Upload><Set Up2Swf="" UpDelete="" UpExts="" UpNewSizes="" UpPath="" UpSQL="" UpSaveMethod="" UpType=""/></Upload><VaildEx><Set VXAction="" VXFail="" VXJs="" VXMode="" VXOk=""/></VaildEx><MGAddField/><AnchorParas/><DopListShow/><ReportCfg/></XItem><XItem Name="butOk"><Tag><Set IsLFEdit="" Tag="submit"/></Tag><Name><Set Name="butOk"/></Name><GroupIndex/><InitValue><Set InitValue=""/></InitValue><DescriptionSet><Set Info="确定" Lang="zhcn" Memo=""/><Set Info="Ok" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style><Set Style=""/></Style><ParentStyle><Set ParentStyle="width:40px; text-align: center"/></ParentStyle><AttributeSet><Set AttLogic="" AttName="" AttValue=""/></AttributeSet><EventSet><Set EventLogic="" EventName="" EventType="" EventValue=""/></EventSet><IsHtml><Set IsHtml=""/></IsHtml><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><MaxMinLength><Set MaxLength="" MinLength=""/></MaxMinLength><MaxMinValue><Set MaxValue="" MinValue=""/></MaxMinValue><IsMustInput><Set IsMustInput=""/></IsMustInput><DataItem><Set DataField="butOk" DataType="" Format="" IsEncrypt="" Valid=""/></DataItem><DataRef/><List><Set DisplayField="" DisplayList="" ListAddBlank="" ListShowType="" Sql="" TitleField="" TitleList="" ValueField="" ValueList=""/></List><UserSet><Set Lang="" User=""/></UserSet><CallAction><Set Action="" AfterTip="" ConfirmInfo=""/></CallAction><OpenFrame><Set CallItemName="" CallMethod="" CallParas="" CallXmlName=""/></OpenFrame><Frame><Set CallItemName="" CallPara="" CallXmlName=""/></Frame><DefineFrame><Set CallItemName="" CallPara="" CallXmlName=""/></DefineFrame><PopFrame/><Upload><Set Up2Swf="" UpDelete="" UpExts="" UpNewSizes="" UpPath="" UpSQL="" UpSaveMethod="" UpType=""/></Upload><VaildEx><Set VXAction="" VXFail="" VXJs="" VXMode="" VXOk=""/></VaildEx><MGAddField/><AnchorParas/><DopListShow/><ReportCfg/></XItem><XItem Name="butClose"><Tag><Set IsLFEdit="" Tag="button"/></Tag><Name><Set Name="butClose"/></Name><GroupIndex/><InitValue><Set InitValue=""/></InitValue><DescriptionSet><Set Info="取消" Lang="zhcn" Memo=""/><Set Info="Cancel" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style><Set Style=""/></Style><ParentStyle><Set ParentStyle="width:40px; text-align: center"/></ParentStyle><AttributeSet><Set AttLogic="" AttName="" AttValue=""/></AttributeSet><EventSet><Set EventLogic="" EventName="" EventType="" EventValue=""/></EventSet><IsHtml><Set IsHtml=""/></IsHtml><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><MaxMinLength><Set MaxLength="" MinLength=""/></MaxMinLength><MaxMinValue><Set MaxValue="" MinValue=""/></MaxMinValue><IsMustInput><Set IsMustInput=""/></IsMustInput><DataItem><Set DataField="butClose" DataType="" Format="" IsEncrypt="" Valid=""/></DataItem><DataRef/><List><Set DisplayField="" DisplayList="" ListAddBlank="" ListShowType="" Sql="" TitleField="" TitleList="" ValueField="" ValueList=""/></List><UserSet><Set Lang="" User=""/></UserSet><CallAction><Set Action="" AfterTip="" ConfirmInfo=""/></CallAction><OpenFrame><Set CallItemName="" CallMethod="" CallParas="" CallXmlName=""/></OpenFrame><Frame><Set CallItemName="" CallPara="" CallXmlName=""/></Frame><DefineFrame><Set CallItemName="" CallPara="" CallXmlName=""/></DefineFrame><PopFrame/><Upload><Set Up2Swf="" UpDelete="" UpExts="" UpNewSizes="" UpPath="" UpSQL="" UpSaveMethod="" UpType=""/></Upload><VaildEx><Set VXAction="" VXFail="" VXJs="" VXMode="" VXOk=""/></VaildEx><MGAddField/><AnchorParas/><DopListShow/><ReportCfg/></XItem></XItems><Menus/><Charts/><PageInfos/><Workflows/></EasyWebTemplate><EasyWebTemplate CreateDate="2012-01-12 16:53:34" Name="wf_design" UpdateDate="2013-09-05 14:55:12"><Page><FrameTag><Set FrameTag="Frame"/></FrameTag><Name><Set Name="wf_design"/></Name><SkinName><Set IsXhtml="" SkinName="Test1"/></SkinName><DataSource><Set DataSource=""/></DataSource><Cached><Set CachedSeconds="" CachedType="none"/></Cached><Acl><Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/></Acl><Log/><DescriptionSet><Set Info="流程设计" Lang="zhcn" Memo=""/><Set Info="Process design" Lang="enus" Memo=""/></DescriptionSet><PageAttributeSet><Set PageAttName="onmouseup" PageAttValue="EWAC_WfUtil.MouseUp(event)"/><Set PageAttName="onmousemove" PageAttValue="EWAC_WfUtil.MouseMove(event)"/><Set PageAttName="onselectstart" PageAttValue="return false;"/><Set PageAttName="onmousedown" PageAttValue="EWAC_WfUtil.MouseDown(event)"/><Set PageAttName="ondragstart" PageAttValue="return false;"/></PageAttributeSet><GroupSet/><Size><Set FrameCols="" HAlign="center" Height="100%" HiddenCaption="1" VAlign="top" Width="100%"/></Size><AddHtml><Set><Top><![CDATA[<script type='text/javascript' src='../../EWA_DEFINE/js/EWAC_WF.js'></script>  ]]></Top><Bottom/></Set></AddHtml><AddScript><Set><Top/><Bottom><![CDATA[
            function Inita(){
	document.body.style.overflow='hidden';
	Init();	
}
addEvent(window,'load', Inita); 
          ]]></Bottom></Set></AddScript><AddCss><Set><AddCss><![CDATA[ ]]></AddCss></Set></AddCss><ChartsShow/><FrameHtml><Set><FrameHtml><![CDATA[
            <table id="T1" border="1" align="center" cellpadding="1" cellspacing="1" 
		style="BORDER-COLLAPSE: collapse;background-color:#fff">
    <tr>
     <td width="45" height="45">
      <img title="鼠标按下并拖拽我，放到屏幕合适的位置" id="TEMP" class='ewa_wf_unit_img'
       src='../images/transparent.png' />
     </td>
	<td width="50" align="right">名称：</td>
	<td width="100">
      <input type="text" name="AtomName" style="FONT-SIZE: 12px; WIDTH: 100%"  onblur="SetAtomName(this.value)" />
	</td>
	<td width="50" align="right">类型：</td>
     <td width="100">
      <select id="AtomType" name="AtomType" style="FONT-SIZE: 12px; WIDTH: 100%" onchange="SetAtomType(this.value)">
       <option value="0" selected>IO</option>
       <option value="1">ICO</option>
      </select>
     </td>
     <td>
      <input id="Eisobuttongray1" type='button' 
       onclick="EWAC_WfUtil.WF.CreateCnn()"
       value="连接" />
     </td>
     <td>
      <input id="Eisobuttongray2" type='button' onclick="EWAC_WfUtil.Delete()" value="删除" />
     </td>
     <td>
      <input id="butOk" type='button' onclick="CreateExp();" value="确定" />
     </td>
     <td>
      <input id="Eisobuttongray3" type='button' onclick="PropSetting();" value="属性定义" />
     </td>
    </tr>
   </table>
  
          ]]></FrameHtml></Set></FrameHtml><PageSize/><ListUI/><MenuShow/><Menu/><Tree/><HtmlFrame/><TreeIconSet/><MGAxisX/><MGAxisY/><MGCell/><LogicShow/></Page><Action><ActionSet/><SqlSet/><ClassSet/><XmlSet/><XmlSetData/><ScriptSet/><UrlSet/><CSSet/><CallSet/></Action><XItems/><Menus/><Charts/><PageInfos/><Workflows/></EasyWebTemplate><EasyWebTemplate CreateDate="2009-01-07 17:01:20" Name="define_edit_color" UpdateDate="2014-03-22 21:18:07"><Page><FrameTag><Set FrameTag="Frame"/></FrameTag><Name><Set Name="define_edit_color"/></Name><SkinName><Set IsXhtml="" SkinName="Test1"/></SkinName><DataSource><Set DataSource=""/></DataSource><Cached><Set CachedSeconds="" CachedType="none"/></Cached><Acl><Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/></Acl><Log/><DescriptionSet><Set Info="tabls" Lang="zhcn" Memo=""/><Set Info="tabls" Lang="enus" Memo=""/></DescriptionSet><PageAttributeSet/><GroupSet/><Size><Set FrameCols="" HAlign="center" Height="100%" HiddenCaption="1" VAlign="top" Width="100%"/></Size><AddHtml><Set><Top><![CDATA[<script type="text/javascript" src="../js/EWA_COLOR_MARK.js">
</script>
<div id='edit' style="margin:0px; border:1px solid #ccc;background-color:#FFF; width:1000px; height:650px; overflow:auto;"
contenteditable="true" onkeyup="cm.KeyUp(event);" onkeydown="cm.KeyDown(event);">
</div>]]></Top><Bottom/></Set></AddHtml><AddScript><Set><Top><![CDATA[document.body.style.overflow = 'hidden';
document.body.margin = '0px';]]></Top><Bottom><![CDATA[var cm;
var markType;
function loadContent() {
	var val = window.parent.__VAL__;
	markType = window.parent.__TYPE__;
	cm = new EWA_ColorMark(markType, document.getElementById('edit'));
	setText(val);
	var o = $X('edit');
	var o1 = o.parentNode;
	o.style.width = document.body.clientWidth + 'px';
	o.style.height = document.body.clientHeight + 'px';
}
function getText() {
	var mm = /\u3000\u3000/gi;
	var s1 = cm._GetEditText();
	return s1.replace(mm, "\t").replace(/\u3000/ig, "\t");
}
function setText(val) {
	val = val.replace(/\t/ig, '\u3000\u3000');
	document.getElementById('edit').innerHTML = cm.MarkColor(val);
	document.getElementById('edit').focus();
}
addEvent(window, 'load',
function() {
	if (typeof window.parent.__VAL__ != undefined) {
		loadContent();
	}
});]]></Bottom></Set></AddScript><AddCss><Set><AddCss><![CDATA[
            
p{margin:0px;}
div, p, font, div { font-size:13px; font-family:"Courier New";}
					
          ]]></AddCss></Set></AddCss><ChartsShow/><FrameHtml><Set><FrameHtml/></Set></FrameHtml><PageSize/><ListUI/><MenuShow/><Menu/><Tree/><HtmlFrame/><TreeIconSet/><MGAxisX/><MGAxisY/><MGCell/><LogicShow/></Page><Action><ActionSet/><SqlSet/><ClassSet/><XmlSet/><XmlSetData/><ScriptSet/><UrlSet/><CSSet/><CallSet/></Action><XItems/><Menus/><Charts/><PageInfos/><Workflows/></EasyWebTemplate><EasyWebTemplate CreateDate="2009-01-07 17:01:20" Name="define_edit_set" UpdateDate="2014-09-11 11:09:07"><Page><FrameTag><Set FrameTag="Frame"/></FrameTag><Name><Set Name="define_edit_set"/></Name><SkinName><Set IsXhtml="" SkinName="Test1"/></SkinName><DataSource><Set DataSource=""/></DataSource><Cached><Set CachedSeconds="999999" CachedType="all"/></Cached><Acl><Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/></Acl><Log/><DescriptionSet><Set Info="编辑集合信息" Lang="zhcn" Memo=""/><Set Info="Modify set information" Lang="enus" Memo=""/></DescriptionSet><PageAttributeSet/><GroupSet/><Size><Set FrameCols="" HAlign="center" Height="430" HiddenCaption="1" VAlign="top" Width="960"/></Size><AddHtml><Set><Top><![CDATA[<script type="text/javascript" src="@rv_ewa_style_path/EWA_DEFINE/js/EWAC_PARAMETERS.js?z=4">
</script>
<table border="0" cellspacing="0" cellpadding="0" width="100%" height="500"
id="EWA_FRAME_MAIN">
    <tr>
        <td>
            <div style="width: 960px; height: 510px; overflow:auto">
                <table border="0" cellpadding="1" cellspacing="1" width="955px" id="tbMain"
                bgcolor='#aaaaaa' align=center>
                </table>
            </div>
        </td>
    </tr>
    <tr>
        <td style="padding: 5px; border-top: 1px dotted #bbb" align="right">
            <button onclick="tbRepeat.RowUpDown(-10);">
                头部
            </button>
            <button onclick="tbRepeat.RowUpDown(-1);">
                上移
            </button>
            <button onclick="tbRepeat.RowUpDown(1);">
                下移
            </button>
            <button onclick="tbRepeat.RowUpDown(10);">
                底部
            </button>
            |
            <button onclick="if(window.confirm('您确定要删除么?')){tbRepeat.DeleteRows();}">
                删除
            </button>
            <button onclick="ok();">
                确定
            </button>
            <button>
                关闭
            </button>
        </td>
    </tr>
</table>]]></Top><Bottom/></Set></AddHtml><AddScript><Set><Top><![CDATA[document.body.style.overflow = 'hidden';]]></Top><Bottom><![CDATA[document.body.onunload = "window.clearInterval(timer)";]]></Bottom></Set></AddScript><AddCss><Set><AddCss><![CDATA[input[type=button] {
	background-color: #ccc;
	color: #000;
	background: linear-gradient(#ccc 50%, #cdcdcd);
    -webkit-box-shadow: #ccc 0px 2px 1px -1px inset;
	cursor: pointer;
	padding-left: 2px;
	padding-right: 2px;
	padding-top: 2px;
	padding-bottom: 2px;
	font-weight: normal;
	font-size: 12px;
	border: 1px;
	border-radius: 5px;
}          ]]></AddCss></Set></AddCss><ChartsShow/><RedrawJson/><FrameHtml><Set><FrameHtml/></Set></FrameHtml><PageSize/><ListUI/><MenuShow/><Menu/><Tree/><HtmlFrame/><TreeIconSet/><MGAxisX/><MGAxisY/><MGCell/><LogicShow/></Page><Action><ActionSet/><SqlSet/><ClassSet/><XmlSet/><XmlSetData/><ScriptSet/><UrlSet/><CSSet/><CallSet/></Action><XItems/><Menus/><Charts/><PageInfos/><Workflows/></EasyWebTemplate><EasyWebTemplate CreateDate="2009-09-24 13:06:35" Name="frames" UpdateDate="2014-09-11 11:17:34"><Page><FrameTag><Set FrameTag="ListFrame"/></FrameTag><Name><Set Name="frames"/></Name><SkinName><Set IsXhtml="" SkinName="Test1"/></SkinName><DataSource><Set DataSource=""/></DataSource><Cached/><Acl><Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/></Acl><Log><Set Log=""/></Log><DescriptionSet><Set Info="配置项列表" Lang="zhcn" Memo=""/><Set Info="Items list" Lang="enus" Memo=""/></DescriptionSet><PageAttributeSet/><GroupSet/><Size><Set FrameCols="" HAlign="" Height="" HiddenCaption="" VAlign="" Width="100%"/></Size><AddHtml><Set><Top><![CDATA[
            <div id='divButton'  >
<input type='button' onclick="modiParameter();" value='修改参数' />
<hr />  
</div>
					
          ]]></Top><Bottom><![CDATA[
            <form action="./?XMLNAME=|ewa|group.xml&ITEMNAME=main" method=post target=_blank>
	<input type=hidden name=i> 
</form>
          ]]></Bottom></Set></AddHtml><AddScript><Set><Top><![CDATA[function modiParameter() {
  var ids = EWA.F.FOS["@SYS_FRAME_UNID"].SelectChecked();
  if (ids.length == 0) {
    alert('请选择内容！');
    return;
  }
  var p = "VIEW_XMLNAME=@VIEW_XMLNAME&itemNames=" + ids;
  EWA.UI.Dialog.OpenReloadClose("@SYS_FRAME_UNID", "|ewa|ewa.xml", "frame_update", true, p);
}
function test(name) {
  var url = './?XMLNAME=@VIEW_XMLNAME&ITEMNAME=' + name;
  window.open(url);
}

function createGroup() {
  var ids = EWA.F.FOS["@SYS_FRAME_UNID"].SelectChecked();
  if (ids.length == 0) {
    alert('请选择内容！');
    return;
  }
  var s = ids.split(',');
  var s1 = [];
  for (var i = 0; i < s.length; i++) {
    s1.push('@view_xmlname*' + s[i]);
  }
  document.forms[0].i.value = s1.join(',');
  document.forms[0].submit();
  
}]]></Top><Bottom><![CDATA[
            var xmlName="@VIEW_XMLNAME";     
function openFrame(itemName){  
	var url= './?XMLNAME=ewa|ewa.xml&ITEMNAME=define_right&D_XMLNAME=' 
     + encodeURIComponent(xmlName) + '&D_ITEMNAME=' 
     + encodeURIComponent(itemName); 
	window.parent.AddTab( url,itemName);
}
if('@linktype'=='group'){
	$X('divButton').style.display='none';
	var tb=$X('EWA_LF_@SYS_FRAME_UNID');
	for(var i=0;i<tb.rows.length;i++){
		tb.rows[i].cells[tb.rows[i].cells.length-1].style.display='none';
		tb.rows[i].cells[tb.rows[i].cells.length-2].style.display='none';
		tb.rows[i].cells[tb.rows[i].cells.length-3].style.display='none';
		
	}
}
VIEW_XMLNAME ='@VIEW_XMLNAME';
          ]]></Bottom></Set></AddScript><AddCss><Set><AddCss><![CDATA[
            
#col_true{
						 width:16px;
						  background-image : url('@SYS_CONTEXTPATH/EWA_DEFINE/images/sql/key_p.gif') }
#col_false{ 
							width:16px;
							background-image : url('@SYS_CONTEXTPATH/EWA_DEFINE/images/sql/column.gif')
}
#fk_false{
							display:none;
}
					
          ]]></AddCss></Set></AddCss><ChartsShow/><RedrawJson/><FrameHtml/><PageSize><Set AllowExport="" ColSize="" IsSplitPage="" KeyField="getname" PageSize=""/></PageSize><ListUI><Set luAddPreRowFunc="" luButtons="1" luDblClick="" luDblClickIdx="" luSearch="" luSelect="M"/></ListUI><MenuShow/><Menu/><Tree/><HtmlFrame><Set FrameBorder="" FrameSize="" FrameSubUrl="" FrameType=""/></HtmlFrame><TreeIconSet/><MGAxisX/><MGAxisY/><MGCell/><LogicShow/></Page><Action><ActionSet><Set IsPostMsg="" LogMsg="" Type="OnPageLoad"><CallSet><Set CallIsChk="" CallName="LoadFields" CallType="ClassSet" Test=""/></CallSet></Set><Set IsPostMsg="" LogMsg="" Type="OnListFrameUpdateCell"><CallSet><Set CallIsChk="" CallName="update des" CallType="ClassSet" Test=""/></CallSet></Set></ActionSet><SqlSet/><ClassSet><Set ClassName="com.gdxsoft.easyweb.define.UserXmls" ConData="" MethodData="@view_xmlname" MethodName="getXmls" Name="LoadFields" XmlTag=""/><Set ClassName="com.gdxsoft.easyweb.define.UpdateXml" ConData="@VIEW_XMLNAME" MethodData="@EWA_ACTION_KEY,@getdescription" MethodName="updateDescription" Name="update des" XmlTag=""/></ClassSet><XmlSet/><XmlSetData/><ScriptSet/><UrlSet/><CSSet/><CallSet><Set CallIsChk="" CallName="LoadFields" CallType="ClassSet" Test=""/></CallSet></Action><XItems><XItem Name="inc"><Tag><Set IsLFEdit="" Tag="span"/></Tag><Name><Set Name="inc"/></Name><GroupIndex/><InitValue><Set InitValue="SEQID"/></InitValue><DescriptionSet><Set Info="序号" Lang="zhcn" Memo=""/><Set Info="No" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style/><ParentStyle/><AttributeSet/><EventSet/><IsHtml/><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><DataItem><Set DataField="" DataType="" Format="" IsEncrypt="" MeargeTo="" SumBottom="" Valid=""/></DataItem><DataRef/></XItem><XItem Name="getName"><Tag><Set IsLFEdit="" Tag="checkbox"/></Tag><Name><Set Name="getName"/></Name><GroupIndex/><DescriptionSet><Set Info="选择" Lang="zhcn" Memo="a"/><Set Info="Select" Lang="enus" Memo="a"/></DescriptionSet><Style><Set Style=""/></Style><ParentStyle><Set ParentStyle="width:27px"/></ParentStyle><AttributeSet/><EventSet/><IsMustInput/><DataItem><Set DataField="getName" DataType="String" Format="" IsEncrypt="" MeargeTo="" SumBottom="" Valid=""/></DataItem><List/></XItem><XItem Name="ssss"><Tag><Set IsLFEdit="" Tag="user"/></Tag><Name><Set Name="ssss"/></Name><GroupIndex/><DescriptionSet><Set Info="名称" Lang="zhcn" Memo=""/><Set Info="Name" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style/><ParentStyle/><AttributeSet/><EventSet/><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><DataItem><Set DataField="getname" DataType="String" Format="" IsEncrypt="" MeargeTo="" SumBottom="" Valid=""/></DataItem><UserSet><Set Lang="zhcn" User="&lt;a href='javascript:openFrame(&quot;@getName&quot;)'&gt;@getName&lt;/a&gt;"/></UserSet></XItem><XItem Name="tag"><Tag><Set IsLFEdit="" Tag="span"/></Tag><Name><Set Name="tag"/></Name><GroupIndex/><InitValue/><DescriptionSet><Set Info="类型" Lang="zhcn" Memo=""/><Set Info="Frame Type" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style/><ParentStyle/><AttributeSet/><EventSet/><IsHtml/><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><DataItem><Set DataField="getTag" DataType="" Format="" IsEncrypt="" MeargeTo="" SumBottom="" Valid=""/></DataItem><DataRef/></XItem><XItem Name="getdescription"><Tag><Set IsLFEdit="1" Tag="text"/></Tag><Name><Set Name="getdescription"/></Name><GroupIndex/><InitValue/><DescriptionSet><Set Info="描述" Lang="zhcn" Memo=""/><Set Info="Description" Lang="enus" Memo=""/></DescriptionSet><Style/><ParentStyle/><AttributeSet/><EventSet/><MaxMinLength/><MaxMinValue/><IsMustInput/><DataItem><Set DataField="getdescription" DataType="String" Format="" IsEncrypt="" MeargeTo="" SumBottom="" Valid=""/></DataItem><VaildEx/></XItem><XItem Name="getDatasource"><Tag><Set IsLFEdit="" Tag="span"/></Tag><Name><Set Name="getDatasource"/></Name><GroupIndex/><InitValue/><DescriptionSet><Set Info="数据源" Lang="zhcn" Memo=""/><Set Info="Datasource" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style/><ParentStyle/><AttributeSet/><EventSet/><IsHtml><Set IsHtml="0"/></IsHtml><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><DataItem><Set DataField="getDatasource" DataType="String" Format="" IsEncrypt="" MeargeTo="" SumBottom="" Valid=""/></DataItem><DataRef/></XItem><XItem Name="getSkin"><Tag><Set IsLFEdit="" Tag="span"/></Tag><Name><Set Name="getSkin"/></Name><GroupIndex/><InitValue/><DescriptionSet><Set Info="皮肤" Lang="zhcn" Memo=""/><Set Info="Skin" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style/><ParentStyle/><AttributeSet/><EventSet/><IsHtml/><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><DataItem><Set DataField="getskin" DataType="String" Format="" IsEncrypt="" MeargeTo="" SumBottom="" Valid=""/></DataItem><DataRef/></XItem><XItem Name="getAcl"><Tag><Set IsLFEdit="" Tag="span"/></Tag><Name><Set Name="getAcl"/></Name><GroupIndex/><InitValue/><DescriptionSet><Set Info="权限类" Lang="zhcn" Memo=""/><Set Info="Permission class" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style/><ParentStyle/><AttributeSet/><EventSet/><IsHtml/><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><DataItem><Set DataField="getAcl" DataType="" Format="" IsEncrypt="" MeargeTo="" SumBottom="" Valid=""/></DataItem><DataRef/></XItem><XItem Name="getLog"><Tag><Set IsLFEdit="" Tag="span"/></Tag><Name><Set Name="getLog"/></Name><GroupIndex/><InitValue/><DescriptionSet><Set Info="日志" Lang="zhcn" Memo=""/><Set Info="Log" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style/><ParentStyle/><AttributeSet/><EventSet/><IsHtml/><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><DataItem><Set DataField="getLog" DataType="" Format="" IsEncrypt="" MeargeTo="" SumBottom="" Valid=""/></DataItem><DataRef/></XItem><XItem Name="getUpdateDate"><Tag><Set IsLFEdit="" Tag="span"/></Tag><Name><Set Name="getUpdateDate"/></Name><GroupIndex/><InitValue/><DescriptionSet><Set Info="更新日期" Lang="zhcn" Memo=""/><Set Info="Update Date" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style><Set Style=""/></Style><ParentStyle/><AttributeSet/><EventSet/><IsHtml/><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><DataItem><Set DataField="getUpdateDate" DataType="String" Format="ShortDateTime" IsEncrypt="" MeargeTo="" SumBottom="" Valid=""/></DataItem><DataRef/></XItem><XItem Name="buta"><Tag><Set IsLFEdit="" Tag="button"/></Tag><Name><Set Name="buta"/></Name><GroupIndex/><DescriptionSet><Set Info="测试" Lang="zhcn" Memo=""/><Set Info="Test" Lang="enus" Memo=""/></DescriptionSet><Style><Set Style=""/></Style><ParentStyle><Set ParentStyle="width:30px;"/></ParentStyle><AttributeSet/><EventSet><Set EventLogic="" EventName="onclick" EventType="Javascript" EventValue="test('@getName')"/></EventSet><CallAction/><OpenFrame/></XItem></XItems><Menus/><Charts/><PageInfos/><Workflows/></EasyWebTemplate><EasyWebTemplate CreateDate="2009-01-07 17:01:20" Name="define" UpdateDate="2014-12-18 12:31:15"><Page><FrameTag><Set FrameTag="Frame"/></FrameTag><Name><Set Name="define"/></Name><SkinName><Set IsXhtml="" SkinName="Test1"/></SkinName><DataSource><Set DataSource=""/></DataSource><Cached/><Acl><Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/></Acl><Log/><DescriptionSet><Set Info="blank" Lang="zhcn" Memo=""/><Set Info="blank" Lang="enus" Memo=""/></DescriptionSet><PageAttributeSet/><GroupSet/><Size><Set FrameCols="" HAlign="center" Height="100%" HiddenCaption="1" VAlign="top" Width="100%"/></Size><AddHtml><Set><Top><![CDATA[<script type="text/javascript" src="@rv_ewa_style_path/EWA_DEFINE/js/EWAC.js">
</script>]]></Top><Bottom/></Set></AddHtml><AddScript><Set><Top><![CDATA[
          ]]></Top><Bottom/></Set></AddScript><AddCss><Set><AddCss/></Set></AddCss><ChartsShow/><RedrawJson/><BoxJson/><LeftJson/><FrameHtml><Set><FrameHtml/></Set></FrameHtml><PageSize/><ListUI/><MenuShow/><Menu/><Tree/><HtmlFrame/><TreeIconSet/><MGAxisX/><MGAxisY/><MGCell/><LogicShow/></Page><Action><ActionSet/><SqlSet/><ClassSet/><XmlSet/><XmlSetData/><ScriptSet/><UrlSet/><CSSet/><CallSet/></Action><XItems/><Menus/><Charts/><PageInfos/><Workflows/></EasyWebTemplate><EasyWebTemplate CreateDate="2009-01-07 17:01:20" Name="define_tabs" UpdateDate="2014-12-18 12:37:19"><Page><FrameTag><Set FrameTag="Frame"/></FrameTag><Name><Set Name="define_tabs"/></Name><SkinName><Set IsXhtml="" SkinName="Test1"/></SkinName><DataSource><Set DataSource=""/></DataSource><Cached><Set CachedSeconds="862024" CachedType="none"/></Cached><Acl><Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/></Acl><Log/><DescriptionSet><Set Info="tabls" Lang="zhcn" Memo=""/><Set Info="tabls" Lang="enus" Memo=""/></DescriptionSet><PageAttributeSet/><GroupSet/><Size><Set FrameCols="" HAlign="center" Height="100%" HiddenCaption="1" VAlign="top" Width="100%"/></Size><AddHtml><Set><Top><![CDATA[<script type="text/javascript" src="@rv_ewa_style_path/EWA_DEFINE/js/EWAC.js"></script>
<table width=100% height=100% border=0 cellspacing=0 cellpadding=0>
    <tr>
        <td id='TD1' height=30 bgcolor="white" valign=bottom>
        </td>
    </tr>
    <tr>
        <td id='TD2'>
        </td>
    </tr>
</table>]]></Top><Bottom/></Set></AddHtml><AddScript><Set><Top/><Bottom><![CDATA[var mm;
document.body.onload = function() {
  document.body.style.overflow = 'hidden';

  mm = new EWA_UI_TabsClass('mm');
  mm.Init($X('TD1'), $X('TD2'));

  //loadOp();
}
function AddTab(url, caption) {
  mm.CreateTab(url, caption);
}

function loadOp() {
  if (!top.op) {
    return;
  }
  var u = './?' + top.op;
  $X('TD2').innerHTML = u;
  u = GetInnerText($X('TD2'));
  $X('TD2').innerHTML = '';
  console.log(u);
  //AddTab(u, 'xx');
  top.op = null;
  var u1=new EWA_UrlClass();
  u1.SetUrl(u);
  var v=u1.GetParameter('D_XMLNAME')+'*'+u1.GetParameter('D_ITEMNAME');
  window.parent.frames[0].EWA.F.EWA.F.GetFOSOne().ShowNode(v);
}]]></Bottom></Set></AddScript><AddCss><Set><AddCss/></Set></AddCss><ChartsShow/><RedrawJson/><BoxJson/><LeftJson/><FrameHtml><Set><FrameHtml/></Set></FrameHtml><PageSize/><ListUI/><MenuShow/><Menu/><Tree/><HtmlFrame/><TreeIconSet/><MGAxisX/><MGAxisY/><MGCell/><LogicShow/></Page><Action><ActionSet/><SqlSet/><ClassSet/><XmlSet/><XmlSetData/><ScriptSet/><UrlSet/><CSSet/><CallSet/></Action><XItems/><Menus/><Charts/><PageInfos/><Workflows/></EasyWebTemplate><EasyWebTemplate CreateDate="2014-12-16 13:46:58" Name="define_left_menu" UpdateDate="2014-12-22 19:38:20"><Page><FrameTag><Set FrameTag="Frame"/></FrameTag><Name><Set Name="define_left_menu"/></Name><SkinName><Set IsXhtml="" SkinName="Test1"/></SkinName><DataSource><Set DataSource=""/></DataSource><Cached><Set CachedSeconds="862024" CachedType="all"/></Cached><Acl><Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/></Acl><Log/><DescriptionSet><Set Info="tabls" Lang="zhcn" Memo=""/><Set Info="tabls" Lang="enus" Memo=""/></DescriptionSet><PageAttributeSet/><GroupSet/><Size><Set FrameCols="" HAlign="center" Height="100%" HiddenCaption="1" VAlign="top" Width="100%"/></Size><AddHtml><Set><Top><![CDATA[<script type="text/javascript" src="@rv_ewa_style_path/EWA_DEFINE/js/EWAC.js"></script>
<table border=0 class='EWA_TABLE' cellpadding=1 cellspaing=1 onmousedown='md(this,event)'
    style='width:500px;position:absolute;left:0px;top:0px;height:100%;'>
    <tr>
        <td class='EWA_TD_M' height=22 width=100>连接地址</td>
        <td class='EWA_TD_M'><input onblur='create_json()' type=text class='EWA_INPUT p' id='u'/></td>
    </tr>
     <tr>
        <td class='EWA_TD_M' height=22 width=100>默认页面</td>
        <td class='EWA_TD_M'><input onblur='create_json()' type=text class='EWA_INPUT p' id='default'/></td>
    </tr>  
    <tr>
        <td  class='EWA_TD_M' height=22 width=100>连接参数</td>
        <td  class='EWA_TD_M'><input type=text class='EWA_INPUT p' id='key'/></td>
    </tr>
    <tr>
        <td class='EWA_TD_M' height=22 width=100>标题</td>
        <td class='EWA_TD_M'><input type=text class='EWA_INPUT p' id='title'/></td>
    </tr>
   <tr>
        <td class='EWA_TD_M' height=22 width=100>描述字段</td>
        <td class='EWA_TD_M'><input type=text class='EWA_INPUT p' id='des'/></td>
    </tr>    
     <tr>
        <td class='EWA_TD_M' height=22 width=100>排序字段</td>
        <td class='EWA_TD_M'><input type=text class='EWA_INPUT p' id='order'/></td>
    </tr>  
     <tr>
        <td class='EWA_TD_M' height=22 width=100>主检索字段</td>
        <td class='EWA_TD_M'><input type=text class='EWA_INPUT p' id='search'/></td>
    </tr>     
    
    <tr>
        <td colspan=2 valign=top><textarea id='json' style='height:100%;width:100%'></textarea></td>
    </tr>  
</table>]]></Top><Bottom/></Set></AddHtml><AddScript><Set><Top><![CDATA[function set_para(obj) {
  var objref = $(last_md_obj).find('.p');
  var id = objref.attr('id');
  if (id == 'des' || id == 'order') {
    var ids = [];
    $('#pp input').each(function() {
      if (this.checked) {
        ids.push(this.value);
      }
    });
    objref.val(ids.join(','));
  } else {
    var thischk = obj.checked;
    $('#pp input').attr('checked', false);
    obj.checked = thischk;
    var v = '';
    if (id == 'key') {
      v = obj.value + '=@' + obj.value;
    } else if (id == 'title') {
      v = '@' + obj.value;
    } else if (id == 'search') {
      v = obj.value;
    }
    objref.val(v);
  }
  create_json();
}
function create_json() {
  var obj = {};
  $('.p').each(function() {
    var id = this.id;
    var v = this.value;
    obj[id] = v;
  });
  var fcode = JSON.stringify(obj);
  $('#json').val(fcode);

  if (window.parent.$X('PAGE$LeftJson$LeftJson')) {
    window.parent.$X('EWAC_SELECT_TYPE').value = 'Page';
    window.parent._EWAC_UI.ChangeType('Page');

    var ipt = window.parent.$X('PAGE$LeftJson$LeftJson');
    // 避免回车符被删除
    ipt.title = fcode;
    ipt.value = fcode;
    ipt.setAttribute("EWA_OLD_VALUE", ipt.value);
    ipt.setAttribute("EWA_VALUE", fcode);
    ipt.onblur();
  }
}
function add_paras() {
  if ($X('pp')) {
    return;
  }
  var ss = ["<table id='pp'  cellpadding=1 cellspaing=1 class='EWA_TABLE'"];
  ss.push(" style='display:none;position:absolute;left:510px;top:0px;width:300px'>");
  $(parent.frames[0].document.body).find('.EWA_TD_H').each(function() {
    var txt = $(this).find('div').text();
    var id = $(this).find('span').text();

    var s = "<tr><td class='EWA_TD_L'><input onclick='set_para(this)' type=checkbox value='" + id + "' id='ref_" + id + "'><label for='ref_" + id + "'>" + txt + "</label></td></tr>";
    ss.push(s);
  });
  ss.push("<table>");
  $('body').append(ss.join(''));
  if (window.parent.$X('PAGE$LeftJson$LeftJson')) {
    var ipt = window.parent.$X('PAGE$LeftJson$LeftJson');
    if (ipt.value == '') {
      return;
    }
    var json;
    try {
      eval('json=' + ipt.value);
      $('#json').val(ipt.value);
      for (var n in json) {
        $('#' + n).val(json[n]);
      }
    } catch(e) {
      $('#json').val(e);
    }

  }

}]]></Top><Bottom><![CDATA[var last_md_obj;
function md(obj, evt) {
  evt = evt || event;
  var t = evt.target || evt.srcElement;
  var o1 = t;
  while (o1.tagName != 'TR') {
    o1 = o1.parentNode;
  }
  if (last_md_obj == o1) {
    return;
  }
  $(last_md_obj).find('td').css('background-color', '#fff').css('color', '#000');
  $(o1).find('td').css('background-color', '#08c').css('color', '#fff');
  last_md_obj = o1;

  var id = $(o1).find('.p').attr('id');
  var val = $(o1).find('.p').val();
  if(id==null){
      return;
  }
  if (id == 'u' || id=='default') {
    $('#pp').hide();
  } else {
    $('#pp').show();
    $('#pp').find('input').attr('checked', false);
    var txt = val.split(',');
    for (var i = 0; i < txt.length; i++) {
      var ref_id = txt[i].trim();
      if ($X('ref_' + ref_id)) {
        $X('ref_' + ref_id).checked = true;
      }
    }
  }
}]]></Bottom></Set></AddScript><AddCss><Set><AddCss><![CDATA[#fas i {
	width: 20px;
	height: 20px;
	margin: 5px;
	line-height: 20px;
	text-align: center;
	font-size: 15px;
	border: 1px solid #ccc;
}

#fas {
	color: #08c;
	width: 600px;
	height: 240px;
	overflow: auto;
	display: none;
	position: fixed;
	z-index: 1000000;
	background-color: #fff;
	padding: 4px;
	border: 1px solie #08c;
	border-radius: 5px;
}

#fas i:hover {
	color: red;
	border: 1px solid red;
	cursor: pointer;
}

.choose {
	color: #fff;
	cursor: pointer;
	background-color: #08c;
}

#box {
	
}

.cPSkin {
	z-index: 1231
}

#ide {
	width: 800px;
	height: 440px;
	display: none;
	position: fixed;
	background-color: #fff;
	border: 1px solid #ccc;
	padding: 4px;
	z-index: 100;
}

#ide .fa {
	width: 20px;
	height: 20px;
	line-height: 20px;
	text-align: center;
	position: absolute;
	left: -6px;
	top: -6px;
	color: #08c;
	background-color: #fff;
	border-radius: 10px;
	cursor: pointer;
}
#ide .fa:hover{
	color:red;
}
#ide iframe {
	width: 100%;
	height: 410px;
}

#ide_cover {
	position: fixed;
	left: 0px;
	top: 0px;
	bottom: 0px;
	right: 0px;
	background-color: rgba(0, 0, 0, 0.6);
	z-index: 99;
	display: none;
}

.color {
	height: 16px;
	width: 60px;
	border: 1px solid #ccc;
	float: right;
}

.two {
	width: 210px;
}

.paras:hover {
	color: red;
}

.split-para {
	position: absolute;
	top: 0px;
	left: 0px;
	width: 400px;
	bottom: 0px;
	overflow: auto;
	padding: 4px;
}

.split-box {
	position: absolute;
	top: 0px;
	left: 410px;
	width: 400px;
	bottom: 0px;
	overflow: auto;
}

.split-code {
	position: absolute;
	top: 0px;
	left: 820px;
	bottom: 0px;
	right: 0px;
}

#paras {
	background-color: #ccc;
}

#paras textarea {
	height: 15px;
}

#paras td {
	background-color: #fff;
	height: 22px;
	padding-left: 4px;
}

body {
	overflow: hidde;
	margin: 0px;
	background-color: #333
}]]></AddCss></Set></AddCss><ChartsShow/><RedrawJson/><BoxJson/><LeftJson/><FrameHtml><Set><FrameHtml/></Set></FrameHtml><PageSize/><ListUI/><MenuShow/><Menu/><Tree/><HtmlFrame/><TreeIconSet/><MGAxisX/><MGAxisY/><MGCell/><LogicShow/></Page><Action><ActionSet/><SqlSet/><ClassSet/><XmlSet/><XmlSetData/><ScriptSet/><UrlSet/><CSSet/><CallSet/></Action><XItems/><Menus/><Charts/><PageInfos/><Workflows/></EasyWebTemplate><EasyWebTemplate CreateDate="2009-01-08 11:03:23" Name="cfgtree" UpdateDate="2014-12-24 17:36:53"><Page><FrameTag><Set FrameTag="tree"/></FrameTag><Name><Set Name="cfgtree"/></Name><SkinName><Set IsXhtml="" SkinName="Test1"/></SkinName><DataSource><Set DataSource=""/></DataSource><Cached/><Acl><Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/></Acl><Log><Set Log=""/></Log><DescriptionSet><Set Info="配置文件" Lang="zhcn" Memo=""/><Set Info="Config Files" Lang="enus" Memo=""/></DescriptionSet><PageAttributeSet/><GroupSet/><Size/><AddHtml><Set><Top><![CDATA[<script type="text/javascript" src="@rv_ewa_style_path/EWA_DEFINE/js/EWAC.js"></script>]]></Top><Bottom/></Set></AddHtml><AddScript><Set><Top><![CDATA[var showtype = '@showtype'; 
function link(key, pKey, text, addPara1, addPara2, addPara3) { 
 var p = addPara1 * 1; 
 if (p == 0 || (showtype == 'selectitem' && p < 3)) { 
  if (EWA.CurUI != null) { 
   var node = EWA.CurUI.GetNodeById(key); 
   node.NodeOpen(); 
  } 
  return; 
 } 
 var s1 = key.split("*"); 
 if (showtype == 'selectitem') { 
  window.parent.loadInfo(s1[0], s1[1]); 
 } else { 
  if (p == 1) { 
   var url = './?XMLNAME=ewa|ewa.xml&ITEMNAME=frames&VIEW_XMLNAME=' 
     + encodeURIComponent(s1[0]); 
   	if('@linktype'=='group'){
		window.parent.frames[1].location=url+'&linktype=group';  
	}else{
		window.parent.frames[1].AddTab(url, s1[0]); 
	}
  } else { 
   var url = './?XMLNAME=ewa|ewa.xml&ITEMNAME=define_right&D_XMLNAME=' 
     + encodeURIComponent(s1[0]) + '&D_ITEMNAME=' 
     + encodeURIComponent(s1[1]); 
   window.parent.frames[1].AddTab(url, s1[1]); 
  } 
 } 
} 
          ]]></Top><Bottom><![CDATA[function NewPath(){
    var nodeCur=EWA.CurUI.GetNode(EWA.CurUI._LastFocus);
	if(nodeCur.Key.indexOf('*')>0 ){
		return;
	}
	EWA.CurUI.NewNode('newpath');
}
function DeleteBaks(){
	var node=EWA.CurUI.GetNode(EWA.CurUI._LastFocus);
	if(node.Key.indexOf('*')>0 ){
		return;
	}
  var res=EWA.F.FOS['@SYS_FRAME_UNID'].Resources;
	var sConfirm=res['DEL_BAK_CONFIRM'].GetInfo();
      
	if(!confirm(sConfirm.replace('[A]',node.Text))){
		return;
	}
	var url=EWA.CP+'/EWA_DEFINE/cgi-bin/xml/?TYPE=DELETE_BAKS';
	ajax = new EWA.C.Ajax();
	ajax.AddParameter("xmlname", node.Key);
	ajax.PostNew(url, function(){
		if(!ajax.IsRunEnd()){
			return; 
		}
		var s = ajax.GetRst();
		if(ajax.IsError()){
			alert("ERROR:\r\n" + s); 
		}else {
          var msg=res['DEL_BAK_MSG'].GetInfo();
          alert(msg.replace('[A]',s.trim()));
		}
		ajax = null;
	});
}
function DelXml(){
	EWA.F.FOS["@SYS_FRAME_UNID"].Delete(false);	
}
var copyedXmlNode;
function CopyXml(){
	var node = EWA.CurUI.GetNode(EWA.CurUI._LastFocus);
	copyedXmlNode=node;
}
function PasteXml(){
	if(copyedXmlNode == null){
		alert('请先复制XML文件');
		return;
	}
	var actionCmd = new EWA.F.Cmd();
	actionCmd.EWA_ACTION="复制XML文件";
	actionCmd.COPY_FROM_XML = copyedXmlNode.Key;
	EWA.F.FOS["@SYS_FRAME_UNID"].NewNode(copyedXmlNode.Text, actionCmd);
}
function NewXml(){
	EWA.CurUI.NewNode('newfile.xml');
}
function Rename(){
	var actionCmd = new EWA.F.Cmd();
	actionCmd.EWA_AFTER_EVENT='RenameAfter()';
	EWA.CurUI.Rename(null, actionCmd);
}
function RenameAfter(){
	var node = EWA.CurUI.GetNode(EWA.CurUI._LastFocus);
	var nodeParent = EWA.CurUI.GetNode(node.GetObject().parentNode);
	RenameChildren(node,nodeParent);
}
function RenameChildren(node,parentNode){
	var keyParent = parentNode.Key == 'EWA_TREE_ROOT' ? '' : parentNode.Key;
	var text = node.Text;
	var objs=node.GetObject().getElementsByTagName('table');
	if(node.AddParas[0]=='3'){
		node.SetKey(keyParent+'*'+text);
	}else{
		node.SetKey(keyParent+'|'+text);
		for(var i=0;i<node.Children.length;i++){
			RenameChildren(node.Children[i],node);
		}
	}
}
function NewFrame(tag){
	var node = EWA.CurUI.GetNode(EWA.CurUI._LastFocus);
	var url = './?XMLNAME=|ewa|ewa.xml&ITEMNAME=sql_create&F_XMLNAME='
		+ encodeURIComponent(node.Key) + '&FrameTag='+tag;
	EWA.UI.Dialog.OpenWindow(url, 'createframe' , 900 , 520 , false);
}
function NewFrame1(){
	var node = EWA.CurUI.GetNode(EWA.CurUI._LastFocus);
	var url = './?XMLNAME=|ewa|ewa.xml&ITEMNAME=ext_from_html&F_XMLNAME='
		+ encodeURIComponent(node.Key)+"&EWA_REDRAW=1";
	EWA.UI.Dialog.OpenWindow(url, 'createframe1' , 400 , 320 , false);
} 
function NewFrameToTree(key,name){
	var nodeParent = EWA.CurUI.GetNode(EWA.CurUI._LastFocus);
	var keys = key.split('*');
	var node = new EWA.F.T.Node();
	node.Key = key;
	node.ParentKey = keys[0];
	node.Text = name;
	node.Parent = nodeParent;
	node.AddParas[0] = 3;
	node.MenuGroup = 3;
	EWA.CurUI.Create(node);
}
function DeleteFrame(){
	var node=EWA.CurUI.GetNode(EWA.CurUI._LastFocus);
	if(node.Key.indexOf('*')==-1){
		return;
	}
	if(confirm('你确定要删除'+node.Key+'么？')){
		var url=EWA.CP+'/EWA_DEFINE/cgi-bin/xml/?TYPE=DELETE';
		Delete(node, url);
	}
}
var ajax;
function Delete(node, url) {//EWA UI TreeChange
	var keys=node.Key.split('*');	
	ajax = new EWA.C.Ajax();
	ajax.AddParameter("XMLNAME", keys[0]);
	ajax.AddParameter("ITEMNAME", keys[1]);
	ajax.PostNew(url, DeleteChangeCallback);
	EWA.CurUI.IsPostChange=true;
}
function DeleteChangeCallback() {
	if (ajax._Http.readyState != 4) {
		return;
	}
	ajax.HiddenWaitting();
	EWA.CurUI.IsPostChange=false;
	if (ajax._Http.status == 200) {
		EWA.CurUI.DeleteAfter();
	} else {
		alert("ERROR:\r\n" + ajax._Http.statusText);
	}
	ajax = null;
}
var copyedFrame;
var pastedFrame;
var pastedNode;
function CopyFrame(){
	var node=EWA.CurUI.GetNode(EWA.CurUI._LastFocus);
	if(node.AddParas[0]*1 < 2){
		alert('请复制配置项目');
		copyedFrame = null;
		return;
	}
	copyedFrame=node.Key;
}
function PasteFrame(){
	if(copyedFrame == null){
		alert('请先复制配置项目');
		return;
	}
	pastedFrame = EWA.CurUI.GetNode(EWA.CurUI._LastFocus);
	if(pastedFrame.AddParas[0]*1 !=1){
		alert('请选择配置文件进行粘贴');
		return;
	}
	var copyName=copyedFrame.split('*')[1];
	var s1=pastedFrame.Key+'*'+copyName;
	var m=0;
	while(document.getElementById(s1)){
		m++;
		s1=pastedFrame.Key+'*'+copyName+m;
	}
	var toName = s1.split('*')[1];
						
	pastedNode=new EWA.F.T.Node();
	pastedNode.Key = pastedFrame.Key+"*"+toName;
	pastedNode.Text = toName;
	pastedNode.AddParas[0]=3; //config item
	pastedNode.MenuGroup=3; //menu group
	pastedFrame.AddChild(pastedNode);
						
	ajax = new EWA.C.Ajax();
	ajax.AddParameter("FROM", copyedFrame);
	ajax.AddParameter("TO", pastedFrame.Key);
	ajax.AddParameter("TONAME", toName);
	ajax.AddParameter("TYPE", "PASTE");
	var url=EWA.CP+'/EWA_DEFINE//cgi-bin/xml/';
	ajax.PostNew(url, PasteFrameCallback);
	
	EWA.CurUI.IsPostChange=true;
}
function PasteFrameCallback() {
	if (ajax._Http.readyState != 4) {
		return;
	}
	ajax.HiddenWaitting();
	EWA.CurUI.IsPostChange=false;
	if (ajax._Http.status == 200) {
		EWA.F.FOS['@SYS_FRAME_UNID'].Create(pastedNode);
	} else {
		alert("ERROR:\r\n" + ajax._Http.statusText);
	}
	ajax = null;
}
function loadOp() {
  if (!top.op) {
    return;
  }
  var u = './?' + top.op;
  var div=document.createElement('div');
  div.innerHTML = u;
  u = GetInnerText(div);
  
  console.log(u);
   
  top.op = null;
  var u1=new EWA_UrlClass();
  u1.SetUrl(u);
  var v=u1.GetParameter('D_XMLNAME')+'*'+u1.GetParameter('D_ITEMNAME');
  if(v.substring(0,1)!='|'){
    v='|'+v;
  }
  EWA.F.FOS["@SYS_FRAME_UNID"].ShowNode(v);
  //EWA.F.GetFOSOne().ShowNode(v);
}					
addEvent(window,'load',loadOp);          ]]></Bottom></Set></AddScript><AddCss><Set><AddCss/></Set></AddCss><ChartsShow/><RedrawJson/><BoxJson/><LeftJson/><FrameHtml/><PageSize/><ListUI/><MenuShow/><Menu/><Tree><Set AddPara1="Type" AddPara2="" AddPara3="" Key="key" Level="" LoadByLevel="1" MenuGroup="Type" Order="" ParentKey="ParentKey" RootId="" Text="name" Title="des"/></Tree><HtmlFrame><Set FrameBorder="1" FrameSize="200,*" FrameSubUrl="" FrameType="H"/></HtmlFrame><TreeIconSet><Set Close="@rv_ewa_style_path/EWA_DEFINE/images/xml/op.gif" Filter="1" Open="@rv_ewa_style_path/EWA_DEFINE/images/xml/cl.gif" Test="P0"/><Set Close="@rv_ewa_style_path/EWA_DEFINE/images/xml/item.gif" Filter="3" Open="@rv_ewa_style_path/EWA_DEFINE/images/xml/item.gif" Test="P0"/></TreeIconSet><MGAxisX/><MGAxisY/><MGCell/><LogicShow/></Page><Action><ActionSet><Set IsPostMsg="no" LogMsg="" Type="OnPageLoad"><CallSet><Set CallIsChk="" CallName="读取XML文件数据" CallType="ClassSet" Test=""/></CallSet></Set><Set IsPostMsg="no" LogMsg="" Type="OnTreeNodeNew"><CallSet><Set CallIsChk="" CallName="生成XML文件" CallType="ClassSet" Test=""/></CallSet></Set><Set IsPostMsg="no" LogMsg="" Type="OnTreeNodeDelete"><CallSet><Set CallIsChk="" CallName="删除" CallType="ClassSet" Test=""/></CallSet></Set><Set IsPostMsg="no" LogMsg="" Type="复制XML文件"><CallSet><Set CallIsChk="" CallName="复制XML文件" CallType="ClassSet" Test=""/></CallSet></Set><Set IsPostMsg="no" LogMsg="" Type="OnTreeNodeRename"><CallSet><Set CallIsChk="" CallName="修改文件名称" CallType="ClassSet" Test=""/></CallSet></Set><Set IsPostMsg="no" LogMsg="" Type="OnTreeNodeMore"><CallSet><Set CallIsChk="" CallName="调用配置文件配置项" CallType="ClassSet" Test=""/></CallSet></Set></ActionSet><SqlSet/><ClassSet><Set ClassName="com.gdxsoft.easyweb.define.UserDirXmls" ConData="@linktype" MethodData="" MethodName="getxml" Name="读取XML文件数据" XmlTag="FrameData/Row"/><Set ClassName="com.gdxsoft.easyweb.define.ConfigUtils" ConData="" MethodData="@name,@ParentKey" MethodName="createNewXml" Name="生成XML文件" XmlTag=""/><Set ClassName="com.gdxsoft.easyweb.define.ConfigUtils" ConData="" MethodData="@key" MethodName="deleteFile" Name="删除" XmlTag=""/><Set ClassName="com.gdxsoft.easyweb.define.ConfigUtils" ConData="" MethodData="@COPY_FROM_XML,@EWA_TREE_PARENT_KEY,@EWA_TREE_TEXT" MethodName="copyXmlFile" Name="复制XML文件" XmlTag=""/><Set ClassName="com.gdxsoft.easyweb.define.ConfigUtils" ConData="" MethodData="@key, @name" MethodName="rename" Name="修改文件名称" XmlTag=""/><Set ClassName="com.gdxsoft.easyweb.define.UserDirXmls" ConData="" MethodData="@EWA_TREE_KEY" MethodName="loadXmlItems" Name="调用配置文件配置项" XmlTag="FrameData/Row"/></ClassSet><XmlSet/><XmlSetData/><ScriptSet/><UrlSet/><CSSet/><CallSet><Set CallIsChk="" CallName="读取XML文件数据" CallType="ClassSet" Test=""/></CallSet></Action><XItems/><Menus><Menu Name="renameXml"><Name><Set Name="renameXml"/></Name><DescriptionSet><Set Info="重命名" Lang="zhcn"/><Set Info="Rename" Lang="enus"/></DescriptionSet><Icon/><Cmd><Set Cmd="Rename()"/></Cmd><Group><Set Group="1"/></Group></Menu><Menu Name="ItemPaste"><Name><Set Name="ItemPaste"/></Name><DescriptionSet><Set Info="粘贴配置项目" Lang="zhcn"/><Set Info="Paste" Lang="enus"/></DescriptionSet><Icon><Set Icon=""/></Icon><Cmd><Set Cmd="PasteFrame();"/></Cmd><Group><Set Group="1"/></Group></Menu><Menu Name="Item4"><Name><Set Name="Item4"/></Name><DescriptionSet><Set Info="&lt;hr&gt;" Lang="zhcn"/><Set Info="&lt;hr&gt;" Lang="enus"/></DescriptionSet><Icon><Set Icon=""/></Icon><Cmd><Set Cmd=""/></Cmd><Group><Set Group="1"/></Group></Menu><Menu Name="newFrame"><Name><Set Name="newFrame"/></Name><DescriptionSet><Set Info="新建表单" Lang="zhcn"/><Set Info="New Frame" Lang="enus"/></DescriptionSet><Icon><Set Icon="@rv_ewa_style_path/EWA_DEFINE/images/xml/item.gif"/></Icon><Cmd><Set Cmd="NewFrame('Frame');"/></Cmd><Group><Set Group="1"/></Group></Menu><Menu Name="newListFrame"><Name><Set Name="newListFrame"/></Name><DescriptionSet><Set Info="新建列表" Lang="zhcn"/><Set Info="New ListFrame" Lang="enus"/></DescriptionSet><Icon><Set Icon="@rv_ewa_style_path/EWA_DEFINE/images/xml/item.gif"/></Icon><Cmd><Set Cmd="NewFrame('ListFrame');"/></Cmd><Group><Set Group="1"/></Group></Menu><Menu Name="newTree"><Name><Set Name="newTree"/></Name><DescriptionSet><Set Info="新建树" Lang="zhcn"/><Set Info="New Tree" Lang="enus"/></DescriptionSet><Icon><Set Icon="@rv_ewa_style_path/EWA_DEFINE/images/xml/item.gif"/></Icon><Cmd><Set Cmd="NewFrame('Tree');"/></Cmd><Group><Set Group="1"/></Group></Menu><Menu Name="newMenu"><Name><Set Name="newMenu"/></Name><DescriptionSet><Set Info="新建菜单" Lang="zhcn"/><Set Info="New Menu" Lang="enus"/></DescriptionSet><Icon><Set Icon="@rv_ewa_style_path/EWA_DEFINE/images/xml/item.gif"/></Icon><Cmd><Set Cmd="NewFrame('Menu');"/></Cmd><Group><Set Group="1"/></Group></Menu><Menu Name="newMultiGrid"><Name><Set Name="newMultiGrid"/></Name><DescriptionSet><Set Info="新建多维表格" Lang="zhcn"/><Set Info="New Multi Grid" Lang="enus"/></DescriptionSet><Icon><Set Icon="@rv_ewa_style_path/EWA_DEFINE/images/xml/item.gif"/></Icon><Cmd><Set Cmd="NewFrame('MultiGrid');"/></Cmd><Group><Set Group="1"/></Group></Menu><Menu Name="newFrame1"><Name><Set Name="newFrame1"/></Name><DescriptionSet><Set Info="从HTML新建表单" Lang="zhcn"/><Set Info="New Frame from HTML" Lang="enus"/></DescriptionSet><Icon/><Cmd><Set Cmd="NewFrame1();"/></Cmd><Group><Set Group="1"/></Group></Menu><Menu Name="itemhr1_1"><Name><Set Name="itemhr1_1"/></Name><DescriptionSet><Set Info="&lt;hr&gt;" Lang="zhcn"/><Set Info="&lt;hr&gt;" Lang="enus"/></DescriptionSet><Icon><Set Icon=""/></Icon><Cmd><Set Cmd=""/></Cmd><Group><Set Group="1"/></Group></Menu><Menu Name="copyXml"><Name><Set Name="copyXml"/></Name><DescriptionSet><Set Info="复制配置文件" Lang="zhcn"/><Set Info="Copy Xml File" Lang="enus"/></DescriptionSet><Icon><Set Icon="@rv_ewa_style_path/EWA_DEFINE/images/xml/copy.gif"/></Icon><Cmd><Set Cmd="CopyXml()"/></Cmd><Group><Set Group="1"/></Group></Menu><Menu Name="itemhr1_2"><Name><Set Name="itemhr1_2"/></Name><DescriptionSet><Set Info="&lt;hr&gt;" Lang="zhcn"/><Set Info="&lt;hr&gt;" Lang="enus"/></DescriptionSet><Icon/><Cmd><Set Cmd=""/></Cmd><Group><Set Group="1"/></Group></Menu><Menu Name="deleteXml"><Name><Set Name="deleteXml"/></Name><DescriptionSet><Set Info="删除配置文件" Lang="zhcn"/><Set Info="Delete Config File" Lang="enus"/></DescriptionSet><Icon><Set Icon="@rv_ewa_style_path/EWA_STYLE/images/defined/del.gif"/></Icon><Cmd><Set Cmd="DelXml()"/></Cmd><Group><Set Group="1"/></Group></Menu><Menu Name="renameitem"><Name><Set Name="renameitem"/></Name><DescriptionSet><Set Info="重命名" Lang="zhcn"/><Set Info="Rename" Lang="enus"/></DescriptionSet><Icon><Set Icon=""/></Icon><Cmd><Set Cmd="Rename()"/></Cmd><Group><Set Group="3"/></Group></Menu><Menu Name="ItemCopy"><Name><Set Name="ItemCopy"/></Name><DescriptionSet><Set Info="复制" Lang="zhcn"/><Set Info="Copy" Lang="enus"/></DescriptionSet><Icon><Set Icon="@rv_ewa_style_path/EWA_DEFINE/images/xml/copy.gif"/></Icon><Cmd><Set Cmd="CopyFrame();"/></Cmd><Group><Set Group="3"/></Group></Menu><Menu Name="Item41"><Name><Set Name="Item41"/></Name><DescriptionSet><Set Info="&lt;hr&gt;" Lang="zhcn"/><Set Info="&lt;hr&gt;" Lang="enus"/></DescriptionSet><Icon><Set Icon=""/></Icon><Cmd><Set Cmd=""/></Cmd><Group><Set Group="3"/></Group></Menu><Menu Name="Item5"><Name><Set Name="Item5"/></Name><DescriptionSet><Set Info="删除" Lang="zhcn"/><Set Info="Delete Item" Lang="enus"/></DescriptionSet><Icon><Set Icon="@rv_ewa_style_path/EWA_STYLE/images/defined/del.gif"/></Icon><Cmd><Set Cmd="DeleteFrame();"/></Cmd><Group><Set Group="3"/></Group></Menu><Menu Name="renamePath"><Name><Set Name="renamePath"/></Name><DescriptionSet><Set Info="重命名" Lang="zhcn"/><Set Info="Rename" Lang="enus"/></DescriptionSet><Icon><Set Icon=""/></Icon><Cmd><Set Cmd="Rename()"/></Cmd><Group><Set Group="0"/></Group></Menu><Menu Name="hr0"><Name><Set Name="hr0"/></Name><DescriptionSet><Set Info="&lt;hr&gt;" Lang="zhcn"/><Set Info="&lt;hr&gt;" Lang="enus"/></DescriptionSet><Icon><Set Icon=""/></Icon><Cmd><Set Cmd=""/></Cmd><Group><Set Group="0"/></Group></Menu><Menu Name="newXml"><Name><Set Name="newXml"/></Name><DescriptionSet><Set Info="" Lang=""/><Set Info="新建配置文件" Lang="zhcn"/><Set Info="New Config File" Lang="enus"/></DescriptionSet><Icon><Set Icon="@rv_ewa_style_path/EWA_DEFINE/images/xml/cl.gif"/></Icon><Cmd><Set Cmd="NewXml()"/></Cmd><Group><Set Group="0"/></Group></Menu><Menu Name="newPath"><Name><Set Name="newPath"/></Name><DescriptionSet><Set Info="新建目录" Lang="zhcn"/><Set Info="New Dir" Lang="enus"/></DescriptionSet><Icon><Set Icon="@rv_ewa_style_path/EWA_DEFINE/images/xml/clo.gif"/></Icon><Cmd><Set Cmd="NewPath()"/></Cmd><Group><Set Group="0"/></Group></Menu><Menu Name="pasteXml"><Name><Set Name="pasteXml"/></Name><DescriptionSet><Set Info="粘贴配置文件" Lang="zhcn"/><Set Info="Paste XML File" Lang="enus"/></DescriptionSet><Icon/><Cmd><Set Cmd="PasteXml()"/></Cmd><Group><Set Group="0"/></Group></Menu><Menu Name="hhhrrr"><Name><Set Name="hhhrrr"/></Name><DescriptionSet><Set Info="&lt;hr&gt;" Lang="zhcn"/><Set Info="&lt;hr&gt;" Lang="enus"/></DescriptionSet><Icon/><Cmd><Set Cmd=""/></Cmd><Group><Set Group="0"/></Group></Menu><Menu Name="deletebaks"><Name><Set Name="deletebaks"/></Name><DescriptionSet><Set Info="清除Bak文件" Lang="zhcn"/><Set Info="Clear backups" Lang="enus"/></DescriptionSet><Icon/><Cmd><Set Cmd="DeleteBaks()"/></Cmd><Group><Set Group="0"/></Group></Menu></Menus><Charts/><PageInfos><PageInfo Name="DEL_CFG_FILE"><Name><Set Name="DEL_CFG_FILE"/></Name><DescriptionSet><Set Info="你确定要删除改文件么" Lang="zhcn" Memo=""/><Set Info="Are you realy?" Lang="enus" Memo=""/></DescriptionSet></PageInfo><PageInfo Name="DEL_ITEM"><Name><Set Name="DEL_ITEM"/></Name><DescriptionSet><Set Info="你确定要删除么？" Lang="zhcn" Memo=""/><Set Info="Are you realy?" Lang="enus" Memo=""/></DescriptionSet></PageInfo><PageInfo Name="DEL_DIR"><Name><Set Name="DEL_DIR"/></Name><DescriptionSet><Set Info="你确定要删除改目录么？" Lang="zhcn" Memo=""/><Set Info="Are you realy?" Lang="enus" Memo=""/></DescriptionSet></PageInfo><PageInfo Name="DEL_BAK_CONFIRM"><Name><Set Name="DEL_BAK_CONFIRM"/></Name><DescriptionSet><Set Info="你确定要清除[A]的备份文件么？" Lang="zhcn" Memo=""/><Set Info="Are you sure remove [A] all backups?" Lang="enus" Memo=""/></DescriptionSet></PageInfo><PageInfo Name="DEL_BAK_MSG"><Name><Set Name="DEL_BAK_MSG"/></Name><DescriptionSet><Set Info="清除完毕,共[A]个文件" Lang="zhcn" Memo=""/><Set Info="Remove End,Total [A] files" Lang="enus" Memo=""/></DescriptionSet></PageInfo></PageInfos><Workflows/></EasyWebTemplate><EasyWebTemplate CreateDate="2009-01-07 17:01:20" Name="define_select_xitem" UpdateDate="2015-01-12 12:53:28"><Page><FrameTag><Set FrameTag="Frame"/></FrameTag><Name><Set Name="define_select_xitem"/></Name><SkinName><Set IsXhtml="" SkinName="Test1"/></SkinName><DataSource><Set DataSource=""/></DataSource><Cached><Set CachedSeconds="862024" CachedType=""/></Cached><Acl><Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/></Acl><Log/><DescriptionSet><Set Info="选择连接" Lang="zhcn" Memo=""/><Set Info="links" Lang="enus" Memo=""/></DescriptionSet><PageAttributeSet/><GroupSet/><Size><Set FrameCols="" HAlign="center" Height="400" HiddenCaption="1" VAlign="top" Width="700"/></Size><AddHtml><Set><Top><![CDATA[<script type='text/javascript' src='../../EWA_DEFINE/cgi-bin/xml/?XMLNAME=@xmlname&ITEMNAME=@itemname&MODE=JS&MODE_NAME=_CFG_ITEM&TYPE=ALL'></script>
<script type="text/javascript" src="@rv_ewa_style_path/EWA_DEFINE/js/EWAC_CONFIG.js"></script>
<table border=0>
  <tr>
    <td>
        <div style="width: 300px; height: 330px; float: left">
            <iframe frameborder=0 width=100% height=100%
                src='./?xmlname=|ewa|ewa.xml&itemname=cfgtree&showtype=selectitem&EWA_FRAMESET_NO=1'></iframe>
        </div>
    </td>
    <td>
        <div style="width: 400px; height: 330px; border-left: 1px solid #ccc;">
          <table width=100% cellpadding=4 cellspacing=1 bgcolor=#cccccc border=0>
            <tr>
                <td bgcolor='#EFEFEF' width=60>
                    描述
                </td>
                <td id=des bgcolor=white></td>
            </tr>
            <tr>
                <td bgcolor='#EFEFEF'>
                    配置文件
                </td>
                <td id=xmlName bgcolor=white></td>
            </tr>
            <tr>
                <td bgcolor='#EFEFEF'>
                    配置项目
                </td>
                <td id=itemName bgcolor=white></td>
            </tr>
  
            <tr>
                <td bgcolor='#EFEFEF'>
                    SQL调用
                </td>
                <td id=sql bgcolor=white></td>
            </tr>
            <tr>
                <td bgcolor='#EFEFEF'>
                    参数
                </td>
                <td id=para bgcolor=white></td>
            </tr>
           <tr>
                <td bgcolor='#EFEFEF'>
                   配置条目
                </td>
                <td id=items bgcolor=white></td>
            </tr>
        </table></div>
  </td>
</tr>
</table>
<div style='border-top: 1px solid #ccc; padding-top: 4px; width:100%;' align=right>
  <input id=v1 type=hidden>
  <input type=button value='确定' onclick='ok()'>
  <input type=button value='取消'>
</div>
					]]></Top><Bottom/></Set></AddHtml><AddScript><Set><Top><![CDATA[document.body.style.overflow='hidden';
function okEditOpenDialog(){
	var paras = info.Parameters;
    var s2="";
    if (paras != null) {
        for (var k = 0; k < paras.length; k++) {
            if (k > 0) {
                s2 += "&";
            }
            s2 +=  paras[k].replace("@", "") + "=" + paras[k];
        }
    }
    var s1="EWA.UI.Dialog.OpenReloadClose(\"@" + "SYS_FRAME_UNID\",\r\n\t\""
        + info.XmlName +"\",\r\n\t\"" + info.ItemName + "\", true, \r\n\t'"
        + s2 +"');";
    var win = _EWA_DialogWnd.GetReturnBack().CmdArgus[0];
    win.setText(s1);
    _EWA_DialogWnd.CloseWindow();
}
function okEdit(){
    var win=_EWA_DialogWnd.GetReturnBack().CmdArgus[0];
    var s1=win.getText() + createJsCall();
    win.setText(s1);
    _EWA_DialogWnd.CloseWindow();
}
function createJsCall() {
    var s1="/* " + info.Description + " */\r\n";
    var s1 = "\r\nfunction link(id){\r\n";
    s1 += "\tvar url= './?XMLNAME=" + info.XmlName;
    s1 += "&ITEMNAME=" + info.ItemName + "';\r\n";
    var paras = info.Parameters;
    if (paras != null) {
        for (var k = 0; k < paras.length; k++) {
            if (k > 0) {
                s1 += "\turl += '&" + paras[k].replace("@", "") + "=" + paras[k] + "';\r\n";
            } else {
                s1 += "\turl += '&" + paras[k].replace("@", "") + "='+id;\r\n";
            }
        }
    }
    s1 += "\twindow.parent.frames[1].location=url;\r\n";
    s1 += "}\r\n";
    return s1;
}]]></Top><Bottom><![CDATA[var user;
var info;
function loadInfo(xmlName, itemName) {
  var url = "../../EWA_DEFINE//cgi-bin/xml/?XMLNAME=" + xmlName + '&ITEMNAME=' + itemName;
  var ajax = new EWA_AjaxClass();
  ajax.Get(url,
  function() {
    if (ajax.IsRunEnd()) {
      loadInfo1(ajax.GetRst(), xmlName, itemName);
    }

  })
}
function loadInfo1(xml, xmlName, itemName) {
  info = new Object();
  user = new EWAC_UserClass();
  user.LoadXmlString(xml);
  var pts = user.PageTables;
  var des = pts.Tables.GetItem('DescriptionSet').SearchValue("Lang=zhcn", "Info");

  $X('des').innerHTML = des;
  info.Description = des;
  var acts = user.ActionTables.Tables.GetItem('ActionSet');
  var nameIndex = acts.Columns.GetIndex('Type');
  var callSetIndex = acts.Columns.GetIndex('CallSet');
  for (var i = 0; i < acts.Rows.length; i++) {
    var type = acts.Rows[i].Fields[nameIndex];
    if (type == 'OnPageLoad') {
      var callSetTable = acts.Rows[i].Fields[callSetIndex];
      loadCallSet(callSetTable);
      break;
    }
  }
  $X('xmlName').innerHTML = xmlName;
  $X('itemName').innerHTML = itemName;
  info.XmlName = xmlName;
  info.ItemName = itemName;

  if ('@TYPE' == 'UserControl') {
    var select = document.createElement('select');
    select.options[i + 1] = new Option('', name);
    for (var i = 0; i < user.ItemsTablesSet.Count(); i++) {
      var name = user.ItemsTablesSet.GetItem(i).Name;
      var opt = select.options[i + 1] = new Option(name, name);

    }
    $X('items').innerHTML = "";
    $X('items').appendChild(select);
  }
}
function loadCallSet(callSetTable) {
  var typeIndex = callSetTable.Columns.GetIndex('CallType');
  var nameIndex = callSetTable.Columns.GetIndex('CallName');
  for (var i = 0; i < callSetTable.Rows.length; i++) {
    var row = callSetTable.Rows[i];
    if (row.Fields[typeIndex] == 'SqlSet') {
      loadSqlInfo(row.Fields[nameIndex]);
      break;
    }
  }
}
function loadSqlInfo(sqlName) {
  var ats = user.ActionTables.Tables.GetItem('SqlSet');
  var sqlIndex = ats.Columns.GetIndex('Sql');
  var nameIndex = ats.Columns.GetIndex('Name');
  for (var i = 0; i < ats.Rows.length; i++) {
    var row = ats.Rows[i];
    var sql = row.Fields[sqlIndex];
    var name = row.Fields[nameIndex];
    if (name == sqlName) {
      document.getElementById('sql').innerHTML = sql;
      var pp = /@\w*\b/ig;
      var paras = sql.match(pp);
      var s1 = "";
      info.Parameters = paras;
      if (paras != null) {
        for (var k = 0; k < paras.length; k++) {
          s1 += paras[k] + '<br>';
        }
      }
      document.getElementById('para').innerHTML = s1;
      return;
    }
  }
  document.getElementById('sql').innerHTML = "";
  document.getElementById('sql0').innerHTML = "";
  document.getElementById('para').innerHTML = "";
}
function ok_blur(obj) {
  if (obj.onblur != null) obj.onblur();
}
function ok() {
  if (info == null) {
    alert('请选择一个配置项目');
    return;
  }
  var type = '@TYPE';
  var indexes;
  if (type == 'OpenFrame') {
    var indexes = [1, 2, 3];
  }
  if (type == 'Frame') {
    var indexes = [0, 1, 2];
  }
  if (type == 'ShortName') {
    var indexes = [ - 1, 0, 1];
  }
  if (type == 'UserControl') {
    var indexes = [ 0, 1, 2, 3];
  }
  if (type == 'edit') {
    okEdit();
    return;
  }
  if (type == 'edit|opendialog') {
    okEditOpenDialog();
    return;
  }
  if (indexes == null) {
    alert('undefined type (' + type + ')');
    return;
  }
  EWA.OW.Load();

  var obj = EWA.OW.PWin.$X('@fromId');;
  var tr = obj.parentNode;
  while (tr.tagName != 'TR') {
    tr = tr.parentNode;
  }
  var m = tr.rowIndex + 1;
  var tb = tr.parentNode;

  tb.rows[m + indexes[0]].getElementsByTagName('input')[0].value = info.XmlName;
  ok_blur(tb.rows[m + indexes[0]].getElementsByTagName('input')[0]);
  tb.rows[m + indexes[1]].getElementsByTagName('input')[0].value = info.ItemName;
  ok_blur(tb.rows[m + indexes[1]].getElementsByTagName('input')[0]);

  var s1 = "";
  var paras = info.Parameters;
  if (paras != null) {
    if (type == 'Frame') {
      s1 = paras[paras.length - 1].replace('@', '');
    } else {
      for (var k = 0; k < paras.length; k++) {
        if (k > 0) {
          s1 += "&";
        }
        s1 += paras[k].replace('@', '') + '=' + paras[k];
      }
    }
  }
  tb.rows[m + indexes[2] * 1].getElementsByTagName('input')[0].value = s1;
  ok_blur(tb.rows[m + indexes[2] * 1].getElementsByTagName('input')[0]);
  if(type == 'UserControl'){
    s1=$('#items select').val();
    if(s1==''){
      alert('选择配置项');
      return;
    }
    tb.rows[m + indexes[3] * 1].getElementsByTagName('input')[0].value = s1;
    ok_blur(tb.rows[m + indexes[3] * 1].getElementsByTagName('input')[0]);
  }
  EWA.OW.Close();
}]]></Bottom></Set></AddScript><AddCss><Set><AddCss/></Set></AddCss><ChartsShow/><RedrawJson/><BoxJson/><LeftJson/><FrameHtml><Set><FrameHtml/></Set></FrameHtml><PageSize/><ListUI/><MenuShow/><Menu/><Tree/><HtmlFrame/><TreeIconSet/><MGAxisX/><MGAxisY/><MGCell/><LogicShow/></Page><Action><ActionSet/><SqlSet/><ClassSet/><XmlSet/><XmlSetData/><ScriptSet/><UrlSet/><CSSet/><CallSet/></Action><XItems/><Menus/><Charts/><PageInfos/><Workflows/></EasyWebTemplate><EasyWebTemplate CreateDate="2013-05-21 18:06:50" Name="sql_run" UpdateDate="2015-01-12 14:03:32"><Page><FrameTag><Set FrameTag="Frame"/></FrameTag><Name><Set Name="sql_run"/></Name><SkinName><Set IsXhtml="" SkinName="Blue"/></SkinName><DataSource><Set DataSource=""/></DataSource><Cached><Set CachedSeconds="" CachedType="none"/></Cached><Acl><Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/></Acl><Log/><DescriptionSet><Set Info="SQL" Lang="zhcn" Memo=""/><Set Info="SQL" Lang="enus" Memo=""/></DescriptionSet><PageAttributeSet/><GroupSet/><Size><Set FrameCols="" HAlign="center" Height="100%" HiddenCaption="1" VAlign="top" Width="100%"/></Size><AddHtml><Set><Top><![CDATA[<div style='width:100%;height:100%' id='tdContent'></div>]]></Top><Bottom/></Set></AddHtml><AddScript><Set><Top><![CDATA[function run(){
  var sql= window.frames[0].editor.getValue();
  var u= window.location.href+'&ewa_action=run&ewa_ajax=json';
  var ajax=new EWA_AjaxClass();
  ajax.AddParameter("sql",sql);
  ajax.PostNew(u,function(){
    if(ajax.IsRunEnd()){
      var v;
      eval('v='+ajax.GetRst());
      run1(v);
    }
  
  });
  //$J(u,run1);
}
function run1(datas){
  var s=[];
  for(var i=0;i<datas.length;i++){
    s.push(datas[i].intern);
  }
  window.parent.frames[1].document.body.innerHTML=s.join("<br>");
}]]></Top><Bottom><![CDATA[function init() {
  document.body.style.margin='0px';
  document.body.style.overflow='hidden';
  var sql='';
  if('@tablename'.length>0){
    sql="SELECT * FROM @tablename";
  }
  __TYPE__='sql';
  __VAL__=sql; 
  
  var u='<iframe src="@rv_ewa_style_path/EWA_DEFINE/js/CodeMirror/index.html?a=1" width=100% height=100% scrolling=yes scroll=yes frameborder=1></iframe>';
      $X('tdContent').innerHTML=u;
  $X('tdContent').style.backgroundColor='#fff';
  $X('tdContent').style.border='1px solid #cdcdcd';
}
init();]]></Bottom></Set></AddScript><AddCss><Set><AddCss><![CDATA[p{margin:0px; font-size:14.8px;}]]></AddCss></Set></AddCss><ChartsShow/><RedrawJson/><BoxJson/><LeftJson/><FrameHtml><Set><FrameHtml/></Set></FrameHtml><PageSize/><ListUI/><MenuShow/><Menu/><Tree/><HtmlFrame><Set FrameBorder="1" FrameSize="200,*" FrameSubUrl="" FrameType="V"/></HtmlFrame><TreeIconSet/><MGAxisX/><MGAxisY/><MGCell/><LogicShow/></Page><Action><ActionSet><Set IsPostMsg="no" LogMsg="" Type="Run"><CallSet><Set CallIsChk="" CallName="aa" CallType="ClassSet" Test=""/></CallSet></Set></ActionSet><SqlSet/><ClassSet><Set ClassName="com.gdxsoft.easyweb.define.database.RunSQL" ConData="" MethodData="@sql,@db" MethodName="runSQL" Name="aa" XmlTag=""/></ClassSet><XmlSet/><XmlSetData/><ScriptSet/><UrlSet/><CSSet/><CallSet><Set CallIsChk="" CallName="aa" CallType="ClassSet" Test=""/></CallSet></Action><XItems/><Menus/><Charts/><PageInfos/><Workflows/></EasyWebTemplate><EasyWebTemplate CreateDate="2009-02-05 11:35:41" Name="fields" UpdateDate="2015-01-12 14:12:07"><Page><FrameTag><Set FrameTag="ListFrame"/></FrameTag><Name><Set Name="fields"/></Name><SkinName><Set IsXhtml="" SkinName="Test1"/></SkinName><DataSource><Set DataSource=""/></DataSource><Cached/><Acl><Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/></Acl><Log><Set Log=""/></Log><DescriptionSet><Set Info="字段列表" Lang="zhcn" Memo=""/><Set Info="Fields" Lang="enus" Memo=""/></DescriptionSet><PageAttributeSet/><GroupSet/><Size><Set FrameCols="" HAlign="" Height="" HiddenCaption="" VAlign="" Width="100%"/></Size><AddHtml><Set><Top><![CDATA[<script src="@SYS_CONTEXTPATH/EWA_DEFINE/cgi-bin/xml/?TYPE=CFG_XML&XMLNAME=EwaDefine.xml&mode=JS&mode_name=_CFG_DEFINE" ></script>
<script src='@SYS_CONTEXTPATH/EWA_DEFINE/cgi-bin/xml/?XMLNAME=ewa|ewa.xml&ITEMNAME=fields&MODE=JS&MODE_NAME=_CFG_ITEM&TYPE=ALL'></script>
<script language="javascript" src="@rv_ewa_style_path/EWA_DEFINE/js/EWAC_CONFIG.js" ></script>
<script language="javascript" src="@rv_ewa_style_path/EWA_DEFINE/js/EWAC_DEFINE.js" ></script>
<script language="javascript" src="@rv_ewa_style_path/EWA_DEFINE/js/EWAC_SQL.js" ></script>
<script language="javascript" src="@rv_ewa_style_path/EWA_STYLE/js/EWA_COLOR_MARK.js"></script>
<div id='divButton' style='display:none' >
<input type='button' onclick="classCreate();" value='Class'>
<input type='button' onclick="classDaoCreate();" value='ClassDao'>
|
<input type='button' onclick="sqlInsertCreate();" value='INSERT'>
<input type='button' onclick="sqlSelectCreate();" value='SELECT'>
<input type='button' onclick="sqlSelectCreate1();" value='SELECT1'>
<input type='button' onclick="sqlUpdateCreate();" value='UPDATE'>     
<input type='button' onclick="sqlDeleteCreate();" value='DELETE'>    
|  
<input type='button' onclick="opensql();" value='SQL'>    

  <hr />  
</div>
					
          ]]></Top><Bottom/></Set></AddHtml><AddScript><Set><Top><![CDATA[function opensql(){
  var u='./?xmlname=@xmlname&itemname=sql_run_main&db=@cfg&tablename=@tablename';
  window.parent.parent.AddTab(u,'SQL/@cfg');
}]]></Top><Bottom><![CDATA[
            var define;
var sql;
var cfg = "@cfg";
var tablename = "@tablename";
var userName = "@SYS_ADMIN_NAME";
var cmclass=new EWA_ColorMark('CLASS');
function sqlSelectCreate() {
 var s1 = sql.CreateSqlSelect();
	s1=cmclass.MarkSql(s1);
 window.parent.frames[1].document.body.innerHTML = s1;
}
function sqlSelectCreate1() {
var s1 = sql.CreateSqlSelect1();
	s1=cmclass.MarkSql(s1);
	window.parent.frames[1].document.body.innerHTML = s1;
}
function sqlInsertCreate() {
 var s1 = sql.CreateSqlInsert();
	s1=cmclass.MarkSql(s1);
 window.parent.frames[1].document.body.innerHTML = s1;
}
function sqlUpdateCreate() {
 var s1 = sql.CreateSqlUpdate();
	s1=cmclass.MarkSql(s1);
 window.parent.frames[1].document.body.innerHTML = s1;
}
function sqlDeleteCreate() {
	var s1 = sql.CreateSqlDelete();
	s1=cmclass.MarkSql(s1);
	window.parent.frames[1].document.body.innerHTML = s1;
}
function classCreate() {
	var s1 = sql.CreateClass();
	s1=cmclass.MarkClass(s1);
	window.parent.frames[1].document.body.innerHTML = s1;
}
function classDaoCreate() {
	var s1 = sql.CreateClassDao();
	s1=cmclass.MarkClass(s1);
	window.parent.frames[1].document.body.innerHTML = s1;
}
function onload1() {
 EWA.CP = "@SYS_CONTEXTPATH";
 var t1 = tablename;
 define = new EWA_DefineClass('');
 var tbs = document.getElementsByTagName('table');
 var tb;
 for (var i = 0; i < tbs.length; i++) {
  if (tbs[i].id.indexOf('EWA_LF_') == 0) {
   tb = tbs[i];
   break;
  }
 }
 define._CreateFields(tb);
 sql = new EWAC_SqlCreator();
 sql.Init(t1, define.Fields.Fields);
}
var linkType = '@linkType';
if (linkType == 'CLASS') {
  $X('divButton').style.display = 'block';
  addEvent(window,'load',  onload1); 
}
]]></Bottom></Set></AddScript><AddCss><Set><AddCss><![CDATA[#col_true{
						 width:16px;
						  background-image : url('@rv_ewa_style_path/EWA_DEFINE/images/sql/key_p.gif') ;
display: block;
float: left;
    height:16px;

}
#col_false{ 
							width:16px;
							background-image : url('@rv_ewa_style_path/EWA_DEFINE/images/sql/column.gif');
display: block;
float: left;
    height:16px;
}
#fk_false{
							display:none;
}
#columnname{
    height:16px;
    line-height:16px;
}
          ]]></AddCss></Set></AddCss><ChartsShow/><RedrawJson/><BoxJson/><LeftJson/><FrameHtml/><PageSize><Set AllowExport="" ColSize="" IsSplitPage="" KeyField="name" PageSize=""/></PageSize><ListUI><Set luAddPreRowFunc="" luButtons="1" luDblClick="" luDblClickIdx="" luSearch="" luSelect="S"/></ListUI><MenuShow/><Menu/><Tree/><HtmlFrame><Set FrameBorder="" FrameSize="300,*" FrameSubUrl="" FrameType="V"/></HtmlFrame><TreeIconSet/><MGAxisX/><MGAxisY/><MGCell/><LogicShow/></Page><Action><ActionSet><Set IsPostMsg="no" LogMsg="" Type="OnPageLoad"><CallSet><Set CallIsChk="" CallName="LoadFields" CallType="ClassSet" Test=""/></CallSet></Set><Set IsPostMsg="no" LogMsg="" Type="OnListFrameUpdateCell"><CallSet><Set CallIsChk="" CallName="修改字段描述" CallType="ClassSet" Test=""/></CallSet></Set></ActionSet><SqlSet><Set Name="OnListFrameUpdateCell" SqlType="update" TransType="no"><Sql><![CDATA[EXEC PR_DES @tablename,@EWA_FIELD_ID,@description]]></Sql><CSSet/></Set></SqlSet><ClassSet><Set ClassName="com.gdxsoft.easyweb.define.UserTableViewXmls" ConData="" MethodData="@cfg,@tablename" MethodName="getFieldsXml" Name="LoadFields" XmlTag="table/fields/field"/><Set ClassName="com.gdxsoft.easyweb.define.UserTableViewXmls" ConData="" MethodData="@cfg, @tablename, @EWA_ACTION_KEY, @EWA_FIELD_val" MethodName="modifyColumnDescription" Name="修改字段描述" XmlTag=""/></ClassSet><XmlSet/><XmlSetData/><ScriptSet/><UrlSet/><CSSet/><CallSet><Set CallIsChk="" CallName="LoadFields" CallType="ClassSet" Test=""/></CallSet></Action><XItems><XItem Name="cccc"><Tag><Set IsLFEdit="" Tag="checkbox"/></Tag><Name><Set Name="cccc"/></Name><GroupIndex/><DescriptionSet><Set Info="选择" Lang="zhcn" Memo="a"/><Set Info="Select" Lang="enus" Memo="a"/></DescriptionSet><Style/><ParentStyle><Set ParentStyle="width:20px"/></ParentStyle><AttributeSet/><EventSet/><IsMustInput/><DataItem><Set DataField="name" DataType="" Format="" IsEncrypt="" MeargeTo="" SumBottom="" Valid=""/></DataItem><List/></XItem><XItem Name="columnname"><Tag><Set IsLFEdit="" Tag="user"/></Tag><Name><Set Name="columnname"/></Name><GroupIndex/><DescriptionSet><Set Info="字段名" Lang="zhcn" Memo=""/><Set Info="Filed Name" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style/><ParentStyle/><AttributeSet/><EventSet/><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><DataItem><Set DataField="name" DataType="" Format="" IsEncrypt="" MeargeTo="" SumBottom="" Valid=""/></DataItem><UserSet><Set Lang="zhcn" User="&lt;span id='col_@pk'&gt;&amp;nbsp;&lt;/span&gt; &lt;span&gt;@name&lt;/span&gt;"/></UserSet></XItem><XItem Name="description"><Tag><Set IsLFEdit="1" Tag="text"/></Tag><Name><Set Name="description"/></Name><GroupIndex/><InitValue/><DescriptionSet><Set Info="描述" Lang="zhcn" Memo=""/><Set Info="Description" Lang="enus" Memo=""/></DescriptionSet><Style/><ParentStyle/><AttributeSet/><EventSet/><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><MaxMinLength/><MaxMinValue/><IsMustInput/><DataItem><Set DataField="description" DataType="String" Format="" IsEncrypt="" MeargeTo="" SumBottom="" Valid=""/></DataItem><VaildEx/></XItem><XItem Name="DataType"><Tag><Set IsLFEdit="" Tag="span"/></Tag><Name><Set Name="DataType"/></Name><GroupIndex/><InitValue/><DescriptionSet><Set Info="类型" Lang="zhcn" Memo=""/><Set Info="DataType" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style/><ParentStyle/><AttributeSet/><EventSet/><IsHtml><Set IsHtml="0"/></IsHtml><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><DataItem><Set DataField="databasetype" DataType="" Format="" IsEncrypt="" MeargeTo="" SumBottom="" Valid=""/></DataItem><DataRef/></XItem><XItem Name="ColumnLength"><Tag><Set IsLFEdit="" Tag="span"/></Tag><Name><Set Name="ColumnLength"/></Name><GroupIndex/><InitValue/><DescriptionSet><Set Info="长度" Lang="zhcn" Memo=""/><Set Info="Length" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style/><ParentStyle/><AttributeSet/><EventSet/><IsHtml/><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><DataItem><Set DataField="columnsize" DataType="" Format="" IsEncrypt="" MeargeTo="" SumBottom="" Valid=""/></DataItem><DataRef/></XItem><XItem Name="IsNull"><Tag><Set IsLFEdit="" Tag="span"/></Tag><Name><Set Name="IsNull"/></Name><GroupIndex/><InitValue/><DescriptionSet><Set Info="空值" Lang="zhcn" Memo=""/><Set Info="Null values" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style/><ParentStyle/><AttributeSet/><EventSet/><IsHtml/><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><DataItem><Set DataField="null" DataType="" Format="" IsEncrypt="" MeargeTo="" SumBottom="" Valid=""/></DataItem><DataRef/></XItem><XItem Name="fk1"><Tag><Set IsLFEdit="" Tag="user"/></Tag><Name><Set Name="fk1"/></Name><GroupIndex/><DescriptionSet><Set Info="外键" Lang="zhcn" Memo=""/><Set Info="Foreign keys" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style/><ParentStyle/><AttributeSet/><EventSet/><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><DataItem><Set DataField="" DataType="" Format="" IsEncrypt="" MeargeTo="" SumBottom="" Valid=""/></DataItem><UserSet><Set Lang="zhcn" User="&lt;span id='FK_fk'&gt; @fktablename.@fkcolumnname &lt;/span&gt;"/></UserSet></XItem></XItems><Menus/><Charts/><PageInfos/><Workflows/></EasyWebTemplate><EasyWebTemplate CreateDate="2009-01-07 17:01:20" Name="sql_create" UpdateDate="2015-01-13 12:32:54"><Page><FrameTag><Set FrameTag="Frame"/></FrameTag><Name><Set Name="sql_create"/></Name><SkinName><Set IsXhtml="" SkinName="Test1"/></SkinName><DataSource><Set DataSource=""/></DataSource><Cached/><Acl><Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/></Acl><Log/><DescriptionSet><Set Info="生成配置文件" Lang="zhcn" Memo=""/><Set Info="Build configuration files" Lang="enus" Memo=""/></DescriptionSet><PageAttributeSet/><GroupSet/><Size><Set FrameCols="" HAlign="center" Height="450" HiddenCaption="1" VAlign="top" Width="820"/></Size><AddHtml><Set><Top><![CDATA[<script type="text/javascript" src="@rv_ewa_style_path/EWA_DEFINE/js/EWAC_CONFIG.js"></script>
<script type="text/javascript" src="@rv_ewa_style_path/EWA_DEFINE/js/EWAC_DEFINE.js"></script>
<script type="text/javascript" src="@rv_ewa_style_path/EWA_DEFINE/js/EWAC_DEFAULT.js"></script>
<script type="text/javascript" src="../../EWA_DEFINE/cgi-bin/xml/?TYPE=CFG_XML&XMLNAME=EwaDefine.xml&MODE=JS&MODE_NAME=_CFG_DEFINE"></script>
<script type="text/javascript" src="../../EWA_DEFINE/cgi-bin/xml/?TYPE=CFG_XML&XMLNAME=EwaConfig.xml&MODE=JS&MODE_NAME=_CFG_MAIN"></script>

<table border=0 width=100% height=450 cellspacing=0 cellpadding=0>
<tr>
  <td height="430" valign="top" style='background-color:white'>
      <table border=0 width=100% height=100% cellspacing=0 cellpadding=0 id=STEP0>
        <tr>
          <td width=213 id=tbSQL>
            <iframe frameborder="0" width="100%" height="100%" 
            src="./?xmlname=|ewa|ewa.xml&itemname=tabletree&EWA_FRAMESET_NO=1" ></iframe>
          </td>
          <td>
            <iframe frameborder="0" width="100%" height="100%" name="xml" src="about:blank"></iframe>
          </td>
        </tr>
      </table>
      <div id=STEP1 class=STEP style='display: none'></div>
      <div id=STEP2 class=STEP style='display: none'></div>
      <div id=STEP3 class=STEP style='display: none'></div>
      <div id=STEP4 class=STEP style='display: none'></div>
      <div id=STEP5 class=STEP style='display: none'></div>
  </td>
</tr>
<tr>
<td align=right height=30 style='border-top: 1px solid #ccc'>
						<button id="butprev" disabled
							onclick="define.Next(this,$X('butnext'),-1);">上一步</button>
						<button id="butnext"
							 onclick="define.Next($X('butprev'),this,1);">下一步</button>
						|&nbsp;
						<button onclick="define.CreateNewFrame();">确定</button>
						<button type=button>关闭</button>
						&nbsp;
</td>
</tr>
</table>
					
          ]]></Top><Bottom/></Set></AddHtml><AddScript><Set><Top><![CDATA[document.body.style.overflow = 'hidden';]]></Top><Bottom><![CDATA[var xmlName = '@F_XMLNAME';
var frameTag = '@FrameTag';
var lang = "zhcn";
var define;
var timer1;
var is_auto = "@auto";
function load0() {
  EWA.CP = "@SYS_ContextPath";
  define = new EWA_DefineClass(frameTag);

  if (is_auto) {
      cfg="@cfg";
      tablename="@tablename".split(';')[3];
      var u=$U2("ewa|ewa.xml",'fields','cfg='+cfg+'&tablename='+tablename+'&EWA_FRAMESET_NO=1');
      window.frames[1].location=u;
    timer1 = window.setInterval(load_auto, 100);
  } else {
    var doc = window.frames[1].document;
    doc.open();
    doc.close();
    doc.body.innerHTML = "<p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><div align=center>请选择表</div>";

    doc.body.innerHTML = define.GetMainInfo();
    timer1 = window.setInterval(load1, 100);
  }

}
function load1() {
  if (typeof _EWA_DialogWnd == 'undefined') {
    return;
  }
  window.clearInterval(timer1);
  define.SetTitle();
}

function load_auto() {
  var w = window.frames[1];
  if (w.$X && w.document.readyState == 'complete') {
    window.clearInterval(timer1);
    define.SetTitle();
    $X("butnext").click();
    $('input[n1=M]').click();
    $X("butnext").click();
    $X("butnext").click();
    $X("butnext").click();

    define.CreateNewFrame();

    $X("butnext").click();
    $X("butnext").click();
    $X("butnext").click();

    define.CreateNewFrame();
    if(parent.xml_create_ok){
        parent.xml_create_ok(XMLS);
    }
  }
}
addEvent(window, 'load', load0);]]></Bottom></Set></AddScript><AddCss><Set><AddCss><![CDATA[
            .STEP{
	width:100%;
	height:430px;
	overflow-y:auto;
	
}
          ]]></AddCss></Set></AddCss><ChartsShow/><RedrawJson/><BoxJson/><LeftJson/><FrameHtml><Set><FrameHtml/></Set></FrameHtml><PageSize/><ListUI/><MenuShow/><Menu/><Tree/><HtmlFrame/><TreeIconSet/><MGAxisX/><MGAxisY/><MGCell/><LogicShow/></Page><Action><ActionSet/><SqlSet/><ClassSet/><XmlSet/><XmlSetData/><ScriptSet/><UrlSet/><CSSet/><CallSet/></Action><XItems/><Menus/><Charts/><PageInfos/><Workflows/></EasyWebTemplate><EasyWebTemplate CreateDate="2009-02-05 11:20:31" Name="tabletree" UpdateDate="2015-01-23 10:56:43"><Page><FrameTag><Set FrameTag="tree"/></FrameTag><Name><Set Name="tabletree"/></Name><SkinName><Set IsXhtml="" SkinName="Test1"/></SkinName><DataSource><Set DataSource=""/></DataSource><Cached/><Acl><Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/></Acl><Log/><DescriptionSet><Set Info="数据库" Lang="zhcn" Memo=""/><Set Info="Database" Lang="enus" Memo=""/></DescriptionSet><PageAttributeSet/><GroupSet/><Size/><AddHtml><Set><Top><![CDATA[<div style='margin: 2px 4px;'><b class='fa fa-search' style='margin-right: 2px;'></b>
<input type=text placeholder="过滤" id='filter' onblur='do_filter(this)'></div>]]></Top><Bottom/></Set></AddHtml><AddScript><Set><Top><![CDATA[var linkType = "@linkType";
function link(id) {
	var node = EWA.CurUI.GetNodeById(id);
	var ids = id.split(';');
	if (ids.length == 4) {
		if (linkType == 'GROUP') {//导出
			var os = document.getElementsByTagName('input');
			var s = [];
			for ( var i = 0; i < os.length; i++) {
				var o = os[i];
				if (o.type == 'checkbox' && o.checked) {
					s.push(o.value);
				}
			}
			var s1 = s.join('|');
			var u = "../../EWA_DEFINE/cgi-bin/group/?q=" + s1;
			window.parent.frames[1].location = u;
		} else {
			var url = './?xmlname=ewa|ewa.xml&itemname=fields&cfg=' + ids[1]
					+ '&tablename=' + ids[3];
			if (linkType == 'CLASS') { //显示类
				url += "&linkType=CLASS";
				if (window.parent.frames[1].AddTab) {
					window.parent.frames[1].AddTab(url, ids[3] + '/' + ids[1]);
				} else {
					window.parent.frames[1].location = url;
				}
			} else {
				url += "&EWA_FRAMESET_NO=1";
				window.parent.frames[1].location = url;
			}

			window.parent.cfg = ids[1];
			window.parent.tablename = ids[3];
		}
	} else {
		node.NodeShow();
	}
}
addEvent(window, 'load', function() {
	if (linkType == 'CLASS') {
		var u = './?xmlname=@xmlname&itemname=define_tabs&a=gdx';
		window.parent.frames[1].location = u;
	}

});]]></Top><Bottom><![CDATA[function do_filter(obj){
    var v=obj.value.trim();
    var old=obj.title;
    if(old==null){
        old='';
    }
    if(v==old){
        return;
    }
    obj.title=v;
    if(v==''){
        $('table[ewa_t]').show();
    }else{
         var v1=v.toLowerCase();
        $('table[ewa_t]').each(function(){
            if(this.innerText.toLowerCase().indexOf(v1)>=0 || this.id.split(';').length<4){
                this.style.display='';
            }else{
                this.style.display='none';
            }
        });
    }
}]]></Bottom></Set></AddScript><AddCss><Set><AddCss/></Set></AddCss><ChartsShow/><RedrawJson/><BoxJson/><LeftJson/><FrameHtml/><PageSize/><ListUI/><MenuShow/><Menu/><Tree><Set AddPara1="" AddPara2="" AddPara3="" Key="key" Level="" LoadByLevel="1" MenuGroup="" Order="" ParentKey="ParentKey" RootId="" Text="name" Title=""/></Tree><HtmlFrame><Set FrameBorder="" FrameSize="200,*" FrameSubUrl="" FrameType="H"/></HtmlFrame><TreeIconSet><Set Close="@SYS_CONTEXTPATH/DEMO/IMAGES/TREE/word.jpg" Filter=".doc\b" Open="@SYS_CONTEXTPATH/DEMO/IMAGES/TREE/word.jpg" Test="Key"/><Set Close="@SYS_CONTEXTPATH/DEMO/IMAGES/TREE/word.jpg" Filter=".doc\b" Open="@SYS_CONTEXTPATH/DEMO/IMAGES/TREE/word.jpg" Test="Key"/></TreeIconSet><MGAxisX/><MGAxisY/><MGCell/><LogicShow/></Page><Action><ActionSet><Set IsPostMsg="" LogMsg="" Type="OnPageLoad"><CallSet><Set CallIsChk="" CallName="读取XML文件数据" CallType="ClassSet" Test=""/></CallSet></Set><Set IsPostMsg="" LogMsg="" Type="OnTreeNodeMore"><CallSet><Set CallIsChk="" CallName="获取子节点" CallType="ClassSet" Test=""/></CallSet></Set></ActionSet><SqlSet/><ClassSet><Set ClassName="com.gdxsoft.easyweb.define.UserTableViewXmls" ConData="" MethodData="" MethodName="getCfgsXml" Name="读取XML文件数据" XmlTag="TableViewList/Row"/><Set ClassName="com.gdxsoft.easyweb.define.UserTableViewXmls" ConData="" MethodData="@key,@linkType" MethodName="getMoreXml1" Name="获取子节点" XmlTag="TableViewList/Row"/></ClassSet><XmlSet/><XmlSetData/><ScriptSet/><UrlSet/><CSSet/><CallSet><Set CallIsChk="" CallName="读取XML文件数据" CallType="ClassSet" Test=""/></CallSet></Action><XItems/><Menus/><Charts/><PageInfos/><Workflows/></EasyWebTemplate><EasyWebTemplate CreateDate="2009-01-07 17:01:20" Name="define_right" UpdateDate="2015-02-04 14:45:39"><Page><FrameTag><Set FrameTag="Frame"/></FrameTag><Name><Set Name="define_right"/></Name><SkinName><Set IsXhtml="" SkinName="Test1"/></SkinName><DataSource><Set DataSource=""/></DataSource><Cached><Set CachedSeconds="" CachedType="none"/></Cached><Acl><Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/></Acl><Log><Set Log=""/></Log><DescriptionSet><Set Info="设计XML" Lang="zhcn" Memo=""/><Set Info="Design XML" Lang="enus" Memo=""/></DescriptionSet><PageAttributeSet/><GroupSet/><Size><Set FrameCols="" HAlign="center" Height="100%" HiddenCaption="1" VAlign="top" Width="100%"/></Size><AddHtml><Set><Top><![CDATA[<script type="text/javascript" src="@rv_ewa_style_path/EWA_DEFINE/js/EWAC_CONFIG.js">
</script>
<script type="text/javascript" src="@rv_ewa_style_path/EWA_DEFINE/js/EWAC_SKIN.js">
</script>
<script type="text/javascript" src="@rv_ewa_style_path/EWA_DEFINE/js/EWAC.js">
</script>
<script src='../../EWA_DEFINE/cgi-bin/xml/?XMLNAME=@D_XMlNAME&ITEMNAME=@D_ITEMNAME&MODE=JS&MODE_NAME=_CFG_ITEM&TYPE=ALL'>
</script>
<table width="100%" height="100%" cellpadding="0" cellspacing="0" border="1">
    <tr>
        <td>
            <table width=100% height=100% cellpadding=0 cellspacing=0>
                <tr>
                    <td id="I_PAGE">
                        <iframe id='F_PAGE' frameborder="0" width="100%" src='./?XMLNAME=@xmlname&ITEMNAME=define' height="100%">
                        </iframe>
                    </td>
                    <td id="I_XML" style="display: none">
                        <iframe id='F_XML' name="XML" src='@rv_ewa_style_path/EWA_DEFINE/js/CodeMirror/index.html' frameborder="0" width="100%" height="100%"></iframe>
                    </td>
                    <td id="I_RES" style="display: none">
                        <iframe id='F_RES' frameborder="0" width="100%" height="100%" src="./?XMLNAME=@xmlname&ITEMNAME=define_res"></iframe>
                    </td>
                    <td id="I_CODE" style="display: none">
                        <iframe id='F_CODE' frameborder="0" width="100%" height="100%" src='./?XMLNAME=@xmlname&ITEMNAME=define_code'>
                        </iframe>
                    </td>
                    <td id="I_DRAW" style="display: none">
                        <iframe frameborder="0" width="100%" height="100%"
                      src='./?XMLNAME=@xmlname&ITEMNAME=define_redraw'>
                        </iframe>
                    </td>
                     <td id="I_BOX" style="display: none">
                        <iframe frameborder="0" width="100%" height="100%"
                      src='./?XMLNAME=@xmlname&ITEMNAME=define_box&@EWA_QUERY'>
                        </iframe>
                    </td>
                    <td id="I_LMENU" style="display: none">
                        <iframe frameborder="0" width="100%" height="100%"
                      src='./?XMLNAME=@xmlname&ITEMNAME=define_left_menu&@EWA_QUERY'>
                        </iframe>
                    </td>
                </tr>
                <tr>
                    <td height=25 style="border-top: 1px solid #BBB" id='TABS' onselectstart="return false;"
                    valign=top>
                        <span id="S_PAGE" class=but1 onclick="switch_page(this)">
                            视图
                        </span>
                        <span id="S_XML" class=but0 onclick="switch_page(this)">
                            XML
                        </span>
                        <span id="S_RES" class=but0 onclick="switch_page(this)">
                            资源
                        </span>
                        <span id="S_CODE" class=but0 onclick="switch_page(this)">
                            代码
                        </span>
                        <span id="S_DRAW" class=but0 onclick="switch_page(this)">
                            重绘
                        </span>
                        <span id="S_BOX" class=but0 onclick="switch_page(this)">
                            BOX
                        </span>
                         <span id="S_LMENU" class=but0 onclick="switch_page(this)">
                            左引导
                        </span>
                        <span id="S_GEN" class=but0 onclick="openTest()">
                            打开测试
                        </span>
                    </td>
                </tr>
            </table>
        </td>
        <td width=260 id='props'>
            <table width=100% height=100% cellpadding=0 cellspacing=0 border=0>
                <tr>
                    <td height=20 width=100% style="padding: 3px;">
                        <select>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td colspan=2 id=bb>
                        <div style="width: 100%; height: 100%; overflow-y: scroll" id=aa>
                        </div>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>
<div style='display: none'>
    <form action="@SYS_CONTEXTPATH/EWA_DEFINE//cgi-bin/xml/" method=post target=XML>
        <input name="TYPE" value="VIEW">
        <textarea name="XML">
        </textarea>
    </form>
</div>]]></Top><Bottom/></Set></AddHtml><AddScript><Set><Top><![CDATA[document.body.style.overflow = 'hidden';
var ajax;
var xmlName = "@D_XMLNAME";
var itemName = "@D_ITEMNAME";
var ewa_res_root="@RV_EWA_STYLE_PATH";
function saveXml(a) { //保存xml
	var xml = createXml();
	EWAC.SaveXml(xmlName, itemName, xml);
}
//---------------------------------------
function showXml() {
	var s1 = createXml();
	window.__TYPE__ = 'xml';

	var u = '../../EWA_DEFINE/cgi-bin/xml/?TYPE=VIEW';
	$.post(u, {
		XML: s1
	},
	function(result) {
		window.__VAL__ = result;
		if (!window.frames[1].editor) {
			window.frames[1].aa()
		} else {
			window.frames[1].editor.setValue(result);
		}
	});

}
//-----------------------------------
function updateView() {
	var w = window.frames[0];
	//"<style>" + _EWAC_UISkin.CreateStyle() + "</style>" +
	var s= _EWAC_UISkin.CreateHtml();
// 	w.location = "about:blank";
// 	w.document.open();
// 	w.document.write(s);
// 	w.document.close();
    w.document.body.innerHTML=s;
}
function createXml() {
	return _EWAC_User.CreateXml();
}
function changeItems(tag) {
	_EWAC_UI.ChangeItems(tag);
}
var curId = 'S_PAGE';
function switch_page(obj) {
	var id = obj.id;
	if (id == curId) {
		return;
	}
	$X('props').style.display = '';

	document.getElementById(curId).className = 'but0';
	obj.className = 'but1';
	var pageOld = get_frame(curId);
	pageOld.style.display = 'none';
	var pageNew = get_frame(id);
	pageNew.style.display = '';
	curId = id;
	$('#props').show();
	if (id == 'S_GEN' || id == 'S_GEN.NET') {
		if (IsNew == 1) {
			if (window.confirm('需要保存文件，执行么？')) {
				saveXml();
			}
		} else {
			var url;
			if (id == 'S_GEN') {
				url = './?XMLNAME=@D_XMLNAME&ITEMNAME=@D_ITEMNAME';
				window.frames[2].location = url;
			} else {
				url = "./?XMLNAME=@D_XMLNAME&ITEMNAME=@D_ITEMNAME";
				window.frames[3].location = url;
			}
		}
	}
	if (id == 'S_XML') {
		window.showXml();
		$('#props').hide();
	} else if (id == 'S_RES') {
		var s1 = _EWAC_UI.CreateResList();
		window.frames[2].document.body.innerHTML = s1;
		$('#props').hide();
	} else if (id == 'S_CODE') {
		window.frames[3].aa();
		$('#props').show();
	} else if (id == 'S_DRAW') {
		window.frames[4].load_frame(xmlName,itemName, $X('PAGE$RedrawJson$RedrawJson').value); 
		$('#props').hide();
	}else if (id == 'S_BOX') {
		//window.frames[4].load_frame(xmlName,itemName, $X('PAGE$RedrawJson$RedrawJson').value); 
		$('#props').hide();
	}else if (id == 'S_LMENU') {
		window.frames[6].add_paras(); 
		$('#props').hide();
	}
	pageOld = pageNew = null;
}
function openTest() {
	//saveXml();
	window.open("./?XMLNAME=@D_XMLNAME&ITEMNAME=@D_ITEMNAME");
}
 
function get_frame(id) {
	var id1 = "I_" + id.split('_')[1];
	return document.getElementById(id1);
}
function copyRes(obj) {
	var win = window.frames[3];
	var s1 = _EWAC_UI.CreateResList();
	var doc = win.document;
	doc.body.innerHTML = s1;
	var inputs = doc.getElementsByTagName('input');
	var topWin = window.parent.parent.parent; //define_main.jsp
	topWin.EWA_RES_COPY = new Object();
	var o = topWin.EWA_RES_COPY;
	for (var i = 0; i < inputs.length; i++) {
		var o1 = inputs[i];
		o[o1.id] = o1.value;
	}
	obj.title = '复制了' + inputs.length + '信息';
}
function pasteRes(res) {
	var win = window.frames[3];
	var s1 = _EWAC_UI.CreateResList();
	var doc = win.document;
	doc.body.innerHTML = s1;
	var inputs = doc.getElementsByTagName('input');
	for (var i = 0; i < inputs.length; i++) {
		var o1 = inputs[i];
		if (res[o1.id] != null) {
			o1.value = res[o1.id];
			o1.onblur();
		}
	}
}]]></Top><Bottom><![CDATA[var IsNew="@NEW";
var _EWAC_User, _EWAC_UI, _EWAC_UISkin;
var viewChangeTimer;
function onload1(){
  if(IsNew == "1"){
    return;
  }
  _EWAC_User=new EWAC_UserClass();
  _EWAC_User=new EWAC_UserClass();
  _EWAC_User.Load();

  _EWAC_UI=new EWAC_UIClass(document.getElementById('aa'),_EWAC_User);
  _EWAC_UI.ShowPageParameters();
  _EWAC_UISkin=new EWAC_UISkinClass(_EWAC_User);

  var s1=_EWAC_UISkin.CreateHtml();
  var s2=_EWAC_UISkin.CreateStyle();
  var doc = window.frames[0].document;
//   doc.open();
//   doc.write('<html><head><style>'+s2+'</style></head>');
//   doc.write('<body>'+s1+'</body></html>');
//   doc.close();
//console.log(s1)
doc.body.innerHTML=s1;
  viewChangeTimer = window.setInterval(viewChangeMointer,212);
  
  var frameTag=$X('PAGE$FrameTag$FrameTag').value.toLowerCase();
  
  $('#S_DRAW').hide();
  $('#S_BOX').hide();
  $('#S_LMENU').hide();
  
  if(frameTag=='listframe'){
      $('#S_BOX').show();
      $('#S_LMENU').show();
  }else if(frameTag=='frame'){
      $('#S_DRAW').show();
  }
  
}
function setSize(){
  var size=EWA.UI.Utils.GetDocSize(window);
  $X('aa').style.height=size.H-30+'px';
  

}
function viewChangeMointer(){
	if(_EWAC_UI.IsChanged){
		window.clearInterval(viewChangeTimer);
		_EWAC_UI.IsChanged=false;
		updateView();
		viewChangeTimer=window.setInterval(viewChangeMointer,212);
	}
}
function loadNew(xmlItem,itemCfg){
  _EWAC_User=new EWAC_UserClass();
  _EWAC_User.Load(xmlItem,itemCfg);
  
  _EWAC_UI=new EWAC_UIClass($X('aa'),_EWAC_User);
  _EWAC_UI.ShowPageParameters();
  _EWAC_UISkin=new EWAC_UISkinClass(_EWAC_User);
    
  var s1=_EWAC_UISkin.CreateHtml();
  var s2=_EWAC_UISkin.CreateStyle();
  var doc = window.frames[0].document;
  doc.open();
  doc.write('<html><head><style>'+s2+'</style></head>');
  doc.write('<body>'+s1+'</body></html>');
  doc.close();
  viewChangeTimer = window.setInterval(viewChangeMointer,212);
  
  var frameTag=$X('PAGE$FrameTag$FrameTag').value.toLowerCase();
  $('#S_DRAW').hide();
  $('#S_BOX').hide();
  
  if(frameTag=='listframe'){
      $('#S_BOX').show();
  }else if(frameTag=='frame'){
      $('#S_DRAW').show();
  }
}

//onload1();
AddEvent(window,'load',function(){
  setSize();
  if(IsNew == "1"){
	  return;
  }
  var names=EWA.F.FOS["@SYS_FRAME_UNID"].Resources.names.GetInfo().split(',');
  var spans=$X('TABS').getElementsByTagName('span');
  for(var i=0;i<names.length;i++){
  	spans[i].innerHTML=names[i];
  }  
  onload1();
});

          ]]></Bottom></Set></AddScript><AddCss><Set><AddCss><![CDATA[table,td,input,select,span,body{
	font-size:10px;
	font-family: arial
}

.BUT0 {
	font-size: 13px;
	background-color: #08c;
	border-left: 1px solid #FFF;
	border-right: 1px solid #444;
	border-bottom: 1px solid #444;
	display:block;float:left;
	padding: 0 5px;
	margin-left: 5px;
	line-height:20px;
	cursor: pointer;
	color:#fff;
}
.BUT0:hover{color:red}
.BUT1 {
	font-size: 13px;
	background-color: #FFF;
	border-left: 1px solid buttonface;
	border-right: 1px solid buttonface;
	border-bottom: 1px solid buttonface;
 	display:block;float:left;
    padding: 0 5px;
	margin-left: 5px;
	cursor: pointer;
	color:#000;
	line-height:20px
} 
input[type=button] {
	background-color: #ccc;
	color: #000;
	background: linear-gradient(#ccc 50%, #cdcdcd);
    -webkit-box-shadow: #ccc 0px 2px 1px -1px inset;
	cursor: pointer;
	padding-left: 2px;
	padding-right: 2px;
	padding-top: 2px;
	padding-bottom: 2px;
	font-weight: normal;
	font-size: 12px;
	border: 1px;
	border-radius: 5px;
}          ]]></AddCss></Set></AddCss><ChartsShow/><RedrawJson/><BoxJson/><LeftJson/><FrameHtml><Set><FrameHtml/></Set></FrameHtml><PageSize/><ListUI/><MenuShow/><Menu/><Tree/><HtmlFrame/><TreeIconSet/><MGAxisX/><MGAxisY/><MGCell/><LogicShow/></Page><Action><ActionSet/><SqlSet/><ClassSet/><XmlSet/><XmlSetData/><ScriptSet/><UrlSet/><CSSet/><CallSet/></Action><XItems/><Menus/><Charts/><PageInfos><PageInfo Name="names"><Name><Set Name="names"/></Name><DescriptionSet><Set Info="视图,XML,资源,代码,重绘,BOX,左引导,打开测试" Lang="zhcn" Memo=""/><Set Info="View, XML, Resources, Code, Redraw, Box, Left, Test" Lang="enus" Memo=""/></DescriptionSet></PageInfo></PageInfos><Workflows/></EasyWebTemplate><EasyWebTemplate CreateDate="2014-12-25 12:48:02" Name="ext_from_html" UpdateDate="2015-02-25 10:19:19"><Page><FrameTag><Set FrameTag="Frame"/></FrameTag><Name><Set Name="ext_from_html"/></Name><SkinName><Set IsXhtml="" SkinName="Test1"/></SkinName><DataSource><Set DataSource=""/></DataSource><Cached><Set CachedSeconds="" CachedType="all"/></Cached><Acl><Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/></Acl><Log/><DescriptionSet><Set Info="从HTML生成表单" Lang="zhcn" Memo=""/><Set Info="From HTML" Lang="enus" Memo=""/></DescriptionSet><PageAttributeSet/><GroupSet/><Size><Set FrameCols="" HAlign="center" Height="" HiddenCaption="1" VAlign="top" Width="900"/></Size><AddHtml><Set><Top><![CDATA[<script type="text/javascript" src="@rv_ewa_style_path/EWA_DEFINE/js/htmlformat.js"></script>
<script type='text/javascript' src="@rv_ewa_style_path/EWA_DEFINE/js/EWAC_FROM_TEMPLATE.js?r=@sys_unid"></script>]]></Top><Bottom><![CDATA[ 
<div align='right'>
    <input type=button id='butCreate' onclick='EWAC_F.create(this);' value='分析' />
    <input type=button id='butSql' style='display:none' onclick='open_sql_box()' value='创建表'
    />
    <input type=button id='butXml'  style='display:none' onclick='EWAC_F.create_xml(this);' value='创建配置文件' />
    <input type=button id='butClose'   value='关闭' />
</div>
<iframe id='create_xml' style='display:none'>
</iframe>]]></Bottom></Set></AddHtml><AddScript><Set><Top><![CDATA[F_XMLNAME='@F_XMLNAME';]]></Top><Bottom><![CDATA[function open_sql_box(){
    if (EWAC_F.create_sql()) {
        $('#sql').parent().show().css({
                top: 10,
                left: ($('body').width() - 700 - 10) / 2,
                padding: 5
        });
    }
}
function init_ext_from_a() {
  var obj = $('#sql').parent();
  obj.parent().parent().hide();
  $('body').append(obj);
  var h1 = "<div align='right' style='margin-top:5px'><input type=button value='执行' onclick='EWAC_F.run_sql(this)'>" 
    + "&nbsp;<input type=button onclick='$(this).parent().parent().hide()' value='闭'></div>";

  obj.append(h1);
  obj.css({
    position: 'fixed',
    height: 235,
    width: 700,

    'background-color': '#ccc',
    'border-radius': 6,
    display: 'none'
  });
  obj.find('iframe').css({
    height: 205
  });
    $('select').attr('disabled','diabled');
}
init_ext_from_a();]]></Bottom></Set></AddScript><AddCss><Set><AddCss><![CDATA[.ewa_sql_editor{height:100px}
.EWA_DHTML{height:300px}]]></AddCss></Set></AddCss><ChartsShow/><RedrawJson><Set><RedrawJson><![CDATA[{"rows":"4","cols":"3","map":[{"id":"name","row":"0","col":"0"},{"id":"datasource","row":"0","col":"1"},{"id":"tables","row":"0","col":"2"},{"id":"item1","row":"1","col":"0"},{"id":"sql","row":"2","col":"0"}]}]]></RedrawJson></Set></RedrawJson><BoxJson/><LeftJson/><FrameHtml><Set><FrameHtml/></Set></FrameHtml><PageSize/><ListUI/><MenuShow/><Menu/><Tree/><HtmlFrame/><TreeIconSet/><MGAxisX/><MGAxisY/><MGCell/><LogicShow/></Page><Action><ActionSet><Set IsPostMsg="" LogMsg="" Type="datasource"><CallSet><Set CallIsChk="" CallName="datasource" CallType="ClassSet" Test=""/></CallSet></Set><Set IsPostMsg="" LogMsg="" Type="tables"><CallSet><Set CallIsChk="" CallName="tables" CallType="ClassSet" Test=""/></CallSet></Set></ActionSet><SqlSet/><ClassSet><Set ClassName="com.gdxsoft.easyweb.define.UserTableViewXmls" ConData="" MethodData="" MethodName="getCfgsXml" Name="datasource" XmlTag="TableViewList/Row"/><Set ClassName="com.gdxsoft.easyweb.define.UserTableViewXmls" ConData="" MethodData="@key,@linkType" MethodName="getMoreXml1" Name="tables" XmlTag="TableViewList/Row"/></ClassSet><XmlSet/><XmlSetData/><ScriptSet/><UrlSet/><CSSet/><CallSet><Set CallIsChk="" CallName="datasource" CallType="ClassSet" Test=""/></CallSet></Action><XItems><XItem Name="item1"><Tag><Set IsLFEdit="" Tag="dHtmlNoImages"/></Tag><Name><Set Name="item1"/></Name><GroupIndex><Set GroupIndex=""/></GroupIndex><DescriptionSet><Set Info="粘帖框" Lang="zhcn" Memo="将HTML内容粘帖到下面"/><Set Info="Paste boxes" Lang="enus" Memo="Paste the HTML content to the following"/></DescriptionSet><Style><Set Style=""/></Style><ParentStyle><Set ParentStyle=""/></ParentStyle><MaxMinLength/><IsMustInput><Set IsMustInput="0"/></IsMustInput></XItem><XItem Name="name"><Tag><Set IsLFEdit="" Tag="text"/></Tag><Name><Set Name="name"/></Name><GroupIndex><Set GroupIndex=""/></GroupIndex><InitValue/><DescriptionSet><Set Info="名称" Lang="zhcn" Memo=""/><Set Info="The name" Lang="enus" Memo=""/></DescriptionSet><Style/><ParentStyle/><AttributeSet/><EventSet/><OrderSearch/><MaxMinLength/><MaxMinValue/><IsMustInput><Set IsMustInput="0"/></IsMustInput><DataItem><Set DataField="" DataType="" DisableOnModify="" Format="" IsEncrypt="" SumBottom="" Valid=""/></DataItem><VaildEx/></XItem><XItem Name="datasource"><Tag><Set IsLFEdit="" Tag="select"/></Tag><Name><Set Name="datasource"/></Name><GroupIndex><Set GroupIndex=""/></GroupIndex><InitValue/><DescriptionSet><Set Info="数据源" Lang="zhcn" Memo=""/><Set Info="The data source" Lang="enus" Memo=""/></DescriptionSet><Style/><ParentStyle/><AttributeSet/><EventSet><Set EventLogic="" EventName="onchange" EventType="Javascript" EventValue="EWAC_F.show_tables(this.value)"/></EventSet><IsMustInput><Set IsMustInput="0"/></IsMustInput><DataItem><Set DataField="" DataType="" DisableOnModify="" Format="" IsEncrypt="" SumBottom="" Valid=""/></DataItem><List><Set DisplayField="name" DisplayList="" ListAddBlank="1" ListFilterField="" ListFilterType="" ListShowType="" Sql="{action:datasource}" TitleField="" TitleList="" ValueField="key" ValueList=""/></List></XItem><XItem Name="tables"><Tag><Set IsLFEdit="" Tag="select"/></Tag><Name><Set Name="tables"/></Name><GroupIndex><Set GroupIndex=""/></GroupIndex><InitValue/><DescriptionSet><Set Info="表" Lang="zhcn" Memo=""/><Set Info="Table" Lang="enus" Memo=""/></DescriptionSet><Style/><ParentStyle/><AttributeSet/><EventSet><Set EventLogic="" EventName="onchange" EventType="Javascript" EventValue="EWAC_F.show_fields(this.value)"/></EventSet><IsMustInput><Set IsMustInput="0"/></IsMustInput><DataItem><Set DataField="" DataType="" DisableOnModify="" Format="" IsEncrypt="" SumBottom="" Valid=""/></DataItem><List><Set DisplayField="" DisplayList="" ListAddBlank="" ListFilterField="" ListFilterType="text" ListShowType="" Sql="" TitleField="" TitleList="" ValueField="" ValueList=""/></List></XItem><XItem Name="sql"><Tag><Set IsLFEdit="" Tag="SqlEditor"/></Tag><Name><Set Name="sql"/></Name><GroupIndex><Set GroupIndex=""/></GroupIndex><DescriptionSet><Set Info="SQL" Lang="zhcn" Memo=""/><Set Info="" Lang="enus" Memo=""/></DescriptionSet><Style/><ParentStyle/><AttributeSet/><EventSet/><OrderSearch/><DataItem><Set DataField="" DataType="" DisableOnModify="" Format="" IsEncrypt="" SumBottom="" Valid=""/></DataItem></XItem></XItems><Menus/><Charts/><PageInfos/><Workflows/></EasyWebTemplate><EasyWebTemplate CreateDate="2014-07-22 09:50:41" Name="define_redraw" UpdateDate="2015-02-28 11:17:00"><Page><FrameTag><Set FrameTag="Frame"/></FrameTag><Name><Set Name="define_redraw"/></Name><SkinName><Set IsXhtml="" SkinName="Test1"/></SkinName><DataSource><Set DataSource=""/></DataSource><Cached><Set CachedSeconds="862024" CachedType="all"/></Cached><Acl><Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/></Acl><Log/><DescriptionSet><Set Info="tabls" Lang="zhcn" Memo=""/><Set Info="tabls" Lang="enus" Memo=""/></DescriptionSet><PageAttributeSet/><GroupSet/><Size><Set FrameCols="" HAlign="center" Height="100%" HiddenCaption="1" VAlign="top" Width="100%"/></Size><AddHtml><Set><Top><![CDATA[<script type="text/javascript" src="@rv_ewa_style_path/EWA_DEFINE/js/EWAC.js"></script>
<table width=100% id='grp_info'>
    <tr>
        <td bgcolor=white>
            原始
        </td>
        <td bgcolor=white>
            新结构
            <input id='n_rows' size=3 maxlength=2 type=text value=10>
            行 x
            <input id='n_cols' type=text size=3 maxlength=2 value=4>
            列
            <input type=button onclick='createFrame()' value=生成>
            <input type=button onclick='create_json()' value=生成表达式>
            <!--<input type=button onclick='from_json()' value=从表达式生成>-->
        </td>
    </tr>
    <tr>
        <td width=300 valign=top id='frame'>
        </td>
        <td valign=top>
            <table id=new_tb cellspacing=1 cellpadding=1 class='EWA_TABLE'>
            </table>
            <textarea style='width: 100%; height: 80px' id=rst>
            </textarea>
        </td>
    </tr>
</table>]]></Top><Bottom/></Set></AddHtml><AddScript><Set><Top><![CDATA[function load_frame(x, i, json) {
	var json1 = null;
	if (json && json.length > 0) {
		try {
			eval('json1=' + json);
			$('#rst').val(json);
		} catch(e) {
			alert('Json表达式错误' + json);
			console.log(json);
		}
	}
	//EWA.F.Install('frame', x, i, '');
	var s = window.parent.frames[0].document.getElementsByTagName('form')[0].innerHTML;
	s = s.replace(/onmouseover/ig, 'a');
	var s1 = /<[\s]*?script[^>]*?>[\s\S]*?<[\s]*?\/[\s]*?script[\s]*?>/ig;
	s = s.replace(s1, '');
	//alert(s);
	$('#frame').html(s);

	show_frame(json1);
}
function show_frame(json1) {
	var tb = $('#frame .EWA_TABLE').last();
	var butrow = tb.find('.EWA_TD_B input');
	for (var i = 0; i < butrow.length; i++) {
		var tr = tb[0].insertRow( - 1);
		var td0 = tr.insertCell(0);
		td0.className = 'EWA_TD_L';
		td0.innerHTML = butrow[i].value;

		tr.id = butrow[i].id;
		var td1 = tr.insertCell( - 1);
		td1.appendChild(butrow[i]);
	}

	var objs = $(tb).find('.EWA_TD_L');
	objs.each(function() {
		this.innerHTML = '<input type=radio name="sfsdfkkdllksd" onclick="set_ref(this)">' + this.innerHTML;
	});
	$(tb).find('.ewa_td_r').hide();
	tb.css('width', 300);
	$('#frame table[id=Test1]').css('width', 300);

	if (json1) {
		from_json();
	} else {
		createFrame(10, 4);
	}
}
function createFrame(rows, cols) {
	if (rows == null) {
		rows = $('#n_rows').val();
		cols = $('#n_cols').val();
	}
	if ($('#new_tb tr').length > 0) {
		if (window.confirm("你确定要重新生成么？")) {
			$('#new_tb tr').remove();
		} else {
			return false;
		}
	}
	tb = $X('new_tb');
	for (var i = 0; i < rows; i++) {
		var tr = tb.insertRow( - 1);
		for (var m = 0; m < cols; m++) {
			var td0 = tr.insertCell( - 1);
			var td1 = tr.insertCell( - 1);
			td0.className = 'k0';
			td0.setAttribute('row', i);
			td0.setAttribute('col', m);
			td1.className = 'k1';
			td0.innerHTML = '<input type=checkbox onclick="copy_ref(this)">';
		}
	}
	return true;
}
function init() {

}
var ref_tr;
function set_ref(obj) {
	ref_tr = obj.parentNode.parentNode;
}
function remove_ref(obj, id) {
	var tr = $X(id);
	tr.style.display = '';
	var thisTd = obj.parentNode;
	thisTd.innerHTML = '<input type=checkbox onclick="copy_ref(this)">';
	var td1 = thisTd.nextElementSibling ? thisTd.nextElementSibling: thisTd.nextSibling;
	td1.innerHTML = "";
}
function copy_ref(obj) {
	if (!ref_tr) {
		alert('选择参考');
		obj.checked = false;
		return;
	}
	try {
		var thisTd = obj.parentNode;
		thisTd.innerHTML = '<input value="' + ref_tr.id.replace("_ewa_tr$", "") + '" type=checkbox checked onclick="remove_ref(this,&quot;' + ref_tr.id + '&quot;)">' + ref_tr.cells[0].innerText;
		var td1 = thisTd.nextElementSibling ? thisTd.nextElementSibling: thisTd.nextSibling;
		td1.innerHTML = ref_tr.cells[1].innerHTML;
		ref_tr.getElementsByTagName('input')[0].checked = false;
		ref_tr.style.display = 'none';
		ref_tr = null;
	} catch(e) {
		console.log(e);
		console.log(obj);
	}
}
function create_json() {
	tb = $X('new_tb');
	var o = {};
	o.rows = $('#n_rows').val();
	o.cols = $('#n_cols').val();
	o.map = [];
	$(tb).find('.k0').each(function() {
		var chk = this.getElementsByTagName('input')[0];
		if (chk.checked) {
			var o1 = {};
			o1.id = chk.value;
			o1.row = this.getAttribute('row');
			o1.col = this.getAttribute('col');
			o.map.push(o1);
		}
	});
	var r = JSON.stringify(o);
	$('#rst').val(r);
	window.parent.$X('PAGE$RedrawJson$RedrawJson').value = r;
	window.parent.$X('EWAC_SELECT_TYPE').value = 'Page';
	window.parent._EWAC_UI.ChangeType('Page');
	window.parent.$X('PAGE$RedrawJson$RedrawJson').focus();
	window.parent.$X('PAGE$RedrawJson$RedrawJson').blur();

}
function from_json() {
	var txt = $('#rst').val();
	if (txt == "") {
		alert('数据不存在');
		return;
	}
	var map1;
	eval('map1=' + txt);
	var rows = map1.rows;
	var cols = map1.cols;

	$('#n_rows').val(rows);
	$('#n_cols').val(cols);
	if (!createFrame(rows, cols)) {
		//user cancel
		return;
	}
	for (var i = 0; i < map1.map.length; i++) {
		var d = map1.map[i];
		var o = $X(d.id);
		if (!o) {
			alert(d.id + ' not exists!');
			continue;
		}
		ref_tr = o;
		var thisobj = $('td[row=' + d.row + '][col=' + d.col + '] input');
		if (thisobj.length > 0) {
			copy_ref(thisobj[0]);
		} else {
			console.log('td[row=' + d.row + '][col=' + d.col + ']  not exists!');
			continue;
		}
	}

}]]></Top><Bottom><![CDATA[addEvent(window,'load',init);]]></Bottom></Set></AddScript><AddCss><Set><AddCss><![CDATA[.k1 {
	width: 170px;
	background-color: #fff;
	line-height: 22px;
}

.k0 {
	width: 90px;
	background-color: #fff;
	line-height: 22px;
	padding-left: 4px;
    white-space:nowrap;
    overflow:hidden;
}]]></AddCss></Set></AddCss><ChartsShow/><RedrawJson/><BoxJson/><LeftJson/><FrameHtml><Set><FrameHtml/></Set></FrameHtml><PageSize/><ListUI/><MenuShow/><Menu/><Tree/><HtmlFrame/><TreeIconSet/><MGAxisX/><MGAxisY/><MGCell/><LogicShow/></Page><Action><ActionSet/><SqlSet/><ClassSet/><XmlSet/><XmlSetData/><ScriptSet/><UrlSet/><CSSet/><CallSet/></Action><XItems/><Menus/><Charts/><PageInfos/><Workflows/></EasyWebTemplate><EasyWebTemplate CreateDate="2011-05-06 14:02:33" Name="sn_new_modi" UpdateDate="2015-03-30 18:16:51">
    <Page>
      <FrameTag>
        <Set FrameTag="Frame"/>
      </FrameTag>
      <Name>
        <Set Name="sn_new_modi"/>
      </Name>
      <SkinName>
        <Set IsXhtml="" SkinName="Test1"/>
      </SkinName>
      <DataSource>
        <Set DataSource=""/>
      </DataSource>
      <Cached>
        <Set CachedSeconds="" CachedType="none"/>
      </Cached>
      <Acl>
        <Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/>
      </Acl>
      <Log/>
      <DescriptionSet>
        <Set Info="新建/修改短名称" Lang="zhcn" Memo=""/>
        <Set Info="New/Modify Short Name" Lang="enus" Memo=""/>
      </DescriptionSet>
      <PageAttributeSet/>
      <GroupSet/>
      <Size>
        <Set HAlign="center" Height="" HiddenCaption="1" VAlign="top" Width="700px"/>
      </Size>
      <AddHtml>
        <Set>
          <Top/>
          <Bottom>
            <![CDATA[<div align=center id="EWA.F.FOS['@SYS_FRAME_UNID'].Resources.Tit.GetInfo()">
</div>]]>
          </Bottom>
        </Set>
      </AddHtml>
      <AddScript>
        <Set>
          <Top>
            <![CDATA[function op(){
	var u = './?XMLNAME=|ewa|ewa.xml&amp;ITEMNAME=define_select_xitem&amp;TYPE=ShortName';
	EWA.UI.Dialog.OpenWindow(u,'selectxitem',624,400)
}
function op1(){
	$X('h').onblur=function(){
	}
	var x= $X('x').value;
	var i= $X('i').value;
	var h= $X('h').value;
	var u='./?XMLNAME=|ewa|ewa.xml&amp;ITEMNAME=frames_fields_list&amp;D_XML_NAME='
	 + x + '&amp;D_ITEM_NAME=' + i + '&amp;H=' + h+'&amp;F_ID=h';
	EWA.UI.Dialog.OpenWindow(u,'lgPara',704,310);
	
}  ]]>
          </Top>
          <Bottom><![CDATA[ ]]></Bottom>
        </Set>
      </AddScript>
      <AddCss>
        <Set>
          <AddCss>
            <![CDATA[.EWA_TD_M{
 width: 400px;
}
.EWA_INPUT{
width: 398px;
}]]>
          </AddCss>
        </Set>
      </AddCss>
      <ChartsShow/>
      <FrameHtml>
        <Set>
          <FrameHtml/>
        </Set>
      </FrameHtml>
      <PageSize/>
      <ListUI/>
      <MenuShow/>
      <Menu/>
      <Tree/>
      <HtmlFrame/>
      <TreeIconSet/>
      <MGAxisX/>
      <MGAxisY/>
      <MGCell/>
    </Page>
    <Action>
      <ActionSet>
        <Set LogMsg="" Type="OnPageLoad">
          <CallSet>
            <Set CallName="check" CallType="XmlSet" Test="'@EWA_MTYPE'='M'"/>
          </CallSet>
        </Set>
        <Set LogMsg="" Type="OnPagePost">
          <CallSet>
            <Set CallName="newOrUpdate" CallType="XmlSet" Test=""/>
          </CallSet>
        </Set>
      </ActionSet>
      <SqlSet/>
      <ClassSet>
        <Set ClassName="com.gdxsoft.easyweb.define.EwaMainInfo" ConData="" MethodData="" MethodName="getInstance" Name="aa" XmlTag=""/>
      </ClassSet>
      <XmlSet>
        <Set Name="check" XmlAction="load" XmlData="" XmlFields="" XmlSetData="config" XmlWhere="n=@n"/>
        <Set Name="newOrUpdate" XmlAction="inertOrUpdate" XmlData="" XmlFields="" XmlSetData="config" XmlWhere="n"/>
      </XmlSet>
      <XmlSetData>
        <Set Name="config" XmlFields="" XmlLoadType="attribute" XmlName="@EWA.SCRIPT.PATH/__ewa_short_names.cfg" XmlTagPath="ss/s"/>
      </XmlSetData>
      <ScriptSet>
        <Set Name="a" ScriptType="javascript">
          <Script><![CDATA[alert(EWA.F.FOS['@SYS_FRAME_UNID'].Resources['LoginFail'].GetInfo());]]></Script>
          <CSSet/>
        </Set>
      </ScriptSet>
      <UrlSet>
        <Set Name="godefine" Url="./?XMLNAME=ewa|ewa.xml&amp;ITEMNAME=index">
          <CSSet>
            <Set CSType="all" Domain="." Life="1000" Name="EWA_ADMIN_ID" Option="C" ParaName="loginid"/>
            <Set CSType="all" Domain="." Life="1000" Name="EWA_ADMIN_NAME" Option="C" ParaName="username"/>
          </CSSet>
        </Set>
      </UrlSet>
      <CSSet/>
      <CallSet>
        <Set CallName="check" CallType="XmlSet" Test="'@EWA_MTYPE'='M'"/>
      </CallSet>
    </Action>
    <XItems>
      <XItem Name="n">
        <Tag>
          <Set IsLFEdit="" Tag="text"/>
        </Tag>
        <Name>
          <Set Name="n"/>
        </Name>
        <GroupIndex/>
        <InitValue>
          <Set InitValue=""/>
        </InitValue>
        <DescriptionSet>
          <Set Info="名称" Lang="zhcn" Memo="唯一名称"/>
          <Set Info="Name" Lang="enus" Memo="A unique name"/>
        </DescriptionSet>
        <Style>
          <Set Style=""/>
        </Style>
        <ParentStyle>
          <Set ParentStyle=""/>
        </ParentStyle>
        <AttributeSet>
          <Set AttName="" AttValue=""/>
        </AttributeSet>
        <EventSet>
          <Set EventName="" EventType="" EventValue=""/>
        </EventSet>
        <IsHtml>
          <Set IsHtml=""/>
        </IsHtml>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="" SearchMulti="" SearchSql="" SearchType=""/>
        </OrderSearch>
        <MaxMinLength>
          <Set MaxLength="20" MinLength=""/>
        </MaxMinLength>
        <MaxMinValue>
          <Set MaxValue="" MinValue=""/>
        </MaxMinValue>
        <IsMustInput>
          <Set IsMustInput="1"/>
        </IsMustInput>
        <DataItem>
          <Set DataField="n" DataType="String" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List>
          <Set DisplayField="" DisplayList="" ListAddBlank="" ListShowType="" Sql="" TitleField="" TitleList="" ValueField="" ValueList=""/>
        </List>
        <UserSet>
          <Set Lang="" User=""/>
        </UserSet>
        <CallAction>
          <Set Action="" AfterTip="" ConfirmInfo=""/>
        </CallAction>
        <OpenFrame>
          <Set CallItemName="" CallMethod="" CallParas="" CallXmlName=""/>
        </OpenFrame>
        <Frame>
          <Set CallItemName="" CallPara="" CallXmlName=""/>
        </Frame>
        <DefineFrame/>
        <PopFrame/>
        <Upload>
          <Set UpExts="" UpNewSizes="" UpPath="" UpSQL="" UpSaveMethod="" UpType=""/>
        </Upload>
        <VaildEx/>
        <MGAddField/>
        <LogicParas/>
      </XItem>
      <XItem Name="x">
        <Tag>
          <Set IsLFEdit="" Tag="text"/>
        </Tag>
        <Name>
          <Set Name="x"/>
        </Name>
        <GroupIndex/>
        <InitValue>
          <Set InitValue=""/>
        </InitValue>
        <DescriptionSet>
          <Set Info="配置文件" Lang="zhcn" Memo="&lt;input type=button  value='助手' onclick='op()'&gt;"/>
          <Set Info="Xml Name" Lang="enus" Memo="&lt;Input type=button value=' assistant 'onclick='op () '&gt;"/>
        </DescriptionSet>
        <Style>
          <Set Style=""/>
        </Style>
        <ParentStyle>
          <Set ParentStyle=""/>
        </ParentStyle>
        <AttributeSet>
          <Set AttName="" AttValue=""/>
        </AttributeSet>
        <EventSet>
          <Set EventName="" EventType="" EventValue=""/>
        </EventSet>
        <IsHtml>
          <Set IsHtml=""/>
        </IsHtml>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="" SearchMulti="" SearchSql="" SearchType=""/>
        </OrderSearch>
        <MaxMinLength>
          <Set MaxLength="" MinLength=""/>
        </MaxMinLength>
        <MaxMinValue>
          <Set MaxValue="" MinValue=""/>
        </MaxMinValue>
        <IsMustInput>
          <Set IsMustInput="1"/>
        </IsMustInput>
        <DataItem>
          <Set DataField="x" DataType="String" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List>
          <Set DisplayField="" DisplayList="" ListAddBlank="" ListShowType="" Sql="" TitleField="" TitleList="" ValueField="" ValueList=""/>
        </List>
        <UserSet>
          <Set Lang="" User=""/>
        </UserSet>
        <CallAction>
          <Set Action="" AfterTip="" ConfirmInfo=""/>
        </CallAction>
        <OpenFrame>
          <Set CallItemName="" CallMethod="" CallParas="" CallXmlName=""/>
        </OpenFrame>
        <Frame>
          <Set CallItemName="" CallPara="" CallXmlName=""/>
        </Frame>
        <DefineFrame/>
        <PopFrame/>
        <Upload>
          <Set UpExts="" UpNewSizes="" UpPath="" UpSQL="" UpSaveMethod="" UpType=""/>
        </Upload>
        <VaildEx/>
        <MGAddField/>
        <LogicParas/>
      </XItem>
      <XItem Name="i">
        <Tag>
          <Set IsLFEdit="" Tag="text"/>
        </Tag>
        <Name>
          <Set Name="i"/>
        </Name>
        <GroupIndex/>
        <InitValue>
          <Set InitValue=""/>
        </InitValue>
        <DescriptionSet>
          <Set Info="配置项" Lang="zhcn" Memo=""/>
          <Set Info="ItemName" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style>
          <Set Style=""/>
        </Style>
        <ParentStyle>
          <Set ParentStyle=""/>
        </ParentStyle>
        <AttributeSet>
          <Set AttName="" AttValue=""/>
        </AttributeSet>
        <EventSet>
          <Set EventName="" EventType="" EventValue=""/>
        </EventSet>
        <IsHtml>
          <Set IsHtml=""/>
        </IsHtml>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="" SearchMulti="" SearchSql="" SearchType=""/>
        </OrderSearch>
        <MaxMinLength>
          <Set MaxLength="200" MinLength=""/>
        </MaxMinLength>
        <MaxMinValue>
          <Set MaxValue="" MinValue=""/>
        </MaxMinValue>
        <IsMustInput>
          <Set IsMustInput="1"/>
        </IsMustInput>
        <DataItem>
          <Set DataField="i" DataType="String" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List>
          <Set DisplayField="" DisplayList="" ListAddBlank="" ListShowType="" Sql="" TitleField="" TitleList="" ValueField="" ValueList=""/>
        </List>
        <UserSet>
          <Set Lang="" User=""/>
        </UserSet>
        <CallAction>
          <Set Action="" AfterTip="" ConfirmInfo=""/>
        </CallAction>
        <OpenFrame>
          <Set CallItemName="" CallMethod="" CallParas="" CallXmlName=""/>
        </OpenFrame>
        <Frame>
          <Set CallItemName="" CallPara="" CallXmlName=""/>
        </Frame>
        <DefineFrame/>
        <PopFrame/>
        <Upload>
          <Set UpExts="" UpNewSizes="" UpPath="" UpSQL="" UpSaveMethod="" UpType=""/>
        </Upload>
        <VaildEx/>
        <MGAddField/>
        <LogicParas/>
      </XItem>
      <XItem Name="p">
        <Tag>
          <Set IsLFEdit="" Tag="text"/>
        </Tag>
        <Name>
          <Set Name="p"/>
        </Name>
        <GroupIndex/>
        <InitValue>
          <Set InitValue=""/>
        </InitValue>
        <DescriptionSet>
          <Set Info="附加参数" Lang="zhcn" Memo="例如：id=1&amp;name=sun"/>
          <Set Info="Added Parameters" Lang="enus" Memo="Example: Id=1&amp;Name=sun"/>
        </DescriptionSet>
        <Style>
          <Set Style=""/>
        </Style>
        <ParentStyle>
          <Set ParentStyle="width:40px; text-align: center"/>
        </ParentStyle>
        <AttributeSet>
          <Set AttName="" AttValue=""/>
        </AttributeSet>
        <EventSet>
          <Set EventName="" EventType="" EventValue=""/>
        </EventSet>
        <IsHtml>
          <Set IsHtml=""/>
        </IsHtml>
        <OrderSearch>
          <Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="" SearchMulti="" SearchSql="" SearchType=""/>
        </OrderSearch>
        <MaxMinLength>
          <Set MaxLength="" MinLength=""/>
        </MaxMinLength>
        <MaxMinValue>
          <Set MaxValue="" MinValue=""/>
        </MaxMinValue>
        <IsMustInput>
          <Set IsMustInput=""/>
        </IsMustInput>
        <DataItem>
          <Set DataField="p" DataType="String" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List>
          <Set DisplayField="" DisplayList="" ListAddBlank="" ListShowType="" Sql="" TitleField="" TitleList="" ValueField="" ValueList=""/>
        </List>
        <UserSet>
          <Set Lang="" User=""/>
        </UserSet>
        <CallAction>
          <Set Action="" AfterTip="" ConfirmInfo=""/>
        </CallAction>
        <OpenFrame>
          <Set CallItemName="" CallMethod="" CallParas="" CallXmlName=""/>
        </OpenFrame>
        <Frame>
          <Set CallItemName="" CallPara="" CallXmlName=""/>
        </Frame>
        <DefineFrame/>
        <PopFrame/>
        <Upload>
          <Set UpExts="" UpNewSizes="" UpPath="" UpSQL="" UpSaveMethod="" UpType=""/>
        </Upload>
        <VaildEx/>
        <MGAddField/>
        <LogicParas/>
      </XItem>
      <XItem Name="h">
        <Tag>
          <Set IsLFEdit="" Tag="text"/>
        </Tag>
        <Name>
          <Set Name="h"/>
        </Name>
        <GroupIndex/>
        <InitValue/>
        <DescriptionSet>
          <Set Info="隐含列" Lang="zhcn" Memo="&lt;input id='a_a' type=button  value='助手' onclick='op1()'&gt; 用“,”分割的列名"/>
          <Set Info="Hidden Columns" Lang="enus" Memo="&lt;Input id='a_a'type=button value=' assistant 'onclick='op1 () '&gt; \&quot;,\&quot; split-listing"/>
        </DescriptionSet>
        <Style/>
        <ParentStyle/>
        <AttributeSet/>
        <EventSet/>
        <IsHtml/>
        <OrderSearch/>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="h" DataType="String" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List/>
        <UserSet/>
        <CallAction/>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
        <LogicParas/>
      </XItem>
      <XItem Name="d">
        <Tag>
          <Set IsLFEdit="" Tag="textarea"/>
        </Tag>
        <Name>
          <Set Name="d"/>
        </Name>
        <GroupIndex/>
        <InitValue/>
        <DescriptionSet>
          <Set Info="描述" Lang="zhcn" Memo=""/>
          <Set Info="Description" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style/>
        <ParentStyle/>
        <AttributeSet/>
        <EventSet/>
        <IsHtml/>
        <OrderSearch/>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="d" DataType="String" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List/>
        <UserSet/>
        <CallAction/>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
        <LogicParas/>
      </XItem>
      <XItem Name="butok">
        <Tag>
          <Set IsLFEdit="" Tag="submit"/>
        </Tag>
        <Name>
          <Set Name="butok"/>
        </Name>
        <GroupIndex/>
        <InitValue/>
        <DescriptionSet>
          <Set Info="确定" Lang="zhcn" Memo=""/>
          <Set Info="Ok" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style/>
        <ParentStyle/>
        <AttributeSet/>
        <EventSet/>
        <IsHtml/>
        <OrderSearch/>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="" DataType="" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List/>
        <UserSet/>
        <CallAction/>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
        <LogicParas/>
      </XItem>
      <XItem Name="butcancel">
        <Tag>
          <Set IsLFEdit="" Tag="button"/>
        </Tag>
        <Name>
          <Set Name="butcancel"/>
        </Name>
        <GroupIndex/>
        <InitValue/>
        <DescriptionSet>
          <Set Info="取消" Lang="zhcn" Memo=""/>
          <Set Info="Cancel" Lang="enus" Memo=""/>
        </DescriptionSet>
        <Style/>
        <ParentStyle/>
        <AttributeSet/>
        <EventSet/>
        <IsHtml/>
        <OrderSearch/>
        <MaxMinLength/>
        <MaxMinValue/>
        <IsMustInput/>
        <DataItem>
          <Set DataField="" DataType="" Format="" IsEncrypt="" Valid=""/>
        </DataItem>
        <DataRef/>
        <List/>
        <UserSet/>
        <CallAction/>
        <OpenFrame/>
        <Frame/>
        <DefineFrame/>
        <PopFrame/>
        <Upload/>
        <VaildEx/>
        <MGAddField/>
        <LogicParas/>
      </XItem>
    </XItems>
    <Menus/>
    <Charts/>
    <PageInfos>
      <PageInfo Name="Tit">
        <Name>
          <Set Name="Tit"/>
        </Name>
        <DescriptionSet>
          <Set Info="初始化用户名密码为admin/admin" Lang="zhcn" Memo=""/>
          <Set Info="Init user/password is admin/admin" Lang="enus" Memo=""/>
        </DescriptionSet>
      </PageInfo>
      <PageInfo Name="LoginFail">
        <Name>
          <Set Name="LoginFail"/>
        </Name>
        <DescriptionSet>
          <Set Info="错误的用户名/密码" Lang="zhcn" Memo=""/>
          <Set Info="Error username/password" Lang="enus" Memo=""/>
        </DescriptionSet>
      </PageInfo>
    </PageInfos>
  </EasyWebTemplate><EasyWebTemplate CreateDate="2011-05-06 14:10:26" Name="sn_list" UpdateDate="2015-03-30 18:17:19"><Page><FrameTag><Set FrameTag="ListFrame"/></FrameTag><Name><Set Name="sn_list"/></Name><SkinName><Set IsXhtml="" SkinName="Test1"/></SkinName><DataSource><Set DataSource=""/></DataSource><Cached/><Acl><Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/></Acl><Log/><DescriptionSet><Set Info="短名称列表" Lang="zhcn" Memo=""/><Set Info="List of short names" Lang="enus" Memo=""/></DescriptionSet><PageAttributeSet/><GroupSet/><Size><Set FrameCols="" HAlign="center" Height="" HiddenCaption="" VAlign="top" Width="100%"/></Size><AddHtml><Set><Top/><Bottom/></Set></AddHtml><AddScript><Set><Top><![CDATA[
            function addNew(){
	 	EWA.UI.Dialog.OpenReloadClose("@SYS_FRAME_UNID", "|ewa|ewa.xml", "sn_new_modi", true, 'EWA_MTYPE=N')
}
          ]]></Top><Bottom/></Set></AddScript><AddCss><Set><AddCss/></Set></AddCss><ChartsShow/><RedrawJson/><BoxJson/><LeftJson/><FrameHtml/><PageSize><Set AllowExport="" ColSize="" IsSplitPage="0" KeyField="n" PageSize="1000"/></PageSize><ListUI><Set luAddPreRowFunc="" luButtons="1" luDblClick="" luDblClickIdx="" luSearch="" luSelect="S"/></ListUI><MenuShow/><Menu/><Tree/><HtmlFrame/><TreeIconSet/><MGAxisX/><MGAxisY/><MGCell/><LogicShow/></Page><Action><ActionSet><Set IsPostMsg="" LogMsg="" Type="OnPageLoad"><CallSet><Set CallIsChk="" CallName="xx" CallType="XmlSet" Test=""/></CallSet></Set><Set IsPostMsg="" LogMsg="" Type="OnFrameDelete"><CallSet><Set CallIsChk="" CallName="del" CallType="XmlSet" Test=""/></CallSet></Set></ActionSet><SqlSet/><ClassSet/><XmlSet><Set Name="xx" XmlAction="load" XmlData="" XmlFields="" XmlSetData="config" XmlWhere=""/><Set Name="del" XmlAction="deletes" XmlData="" XmlFields="" XmlSetData="config" XmlWhere="n=@n"/></XmlSet><XmlSetData><Set Name="config" XmlFields="" XmlLoadType="attribute" XmlName="@EWA.SCRIPT.PATH/__ewa_short_names.cfg" XmlTagPath="ss/s"/></XmlSetData><ScriptSet/><UrlSet/><CSSet/><CallSet><Set CallIsChk="" CallName="xx" CallType="XmlSet" Test=""/></CallSet></Action><XItems><XItem Name="idx"><Tag><Set IsLFEdit="" Tag="span"/></Tag><Name><Set Name="idx"/></Name><GroupIndex/><InitValue><Set InitValue="SEQID"/></InitValue><DescriptionSet><Set Info="序号" Lang="zhcn" Memo=""/><Set Info="Serial number" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style><Set Style=""/></Style><ParentStyle><Set ParentStyle="width:40;text-align:center"/></ParentStyle><AttributeSet/><EventSet/><IsHtml/><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><DataItem><Set DataField="" DataType="" DisableOnModify="" Format="" IsEncrypt="" SumBottom="" Valid=""/></DataItem><DataRef/></XItem><XItem Name="n"><Tag><Set IsLFEdit="" Tag="span"/></Tag><Name><Set Name="n"/></Name><GroupIndex/><InitValue><Set InitValue=""/></InitValue><DescriptionSet><Set Info="名称" Lang="zhcn" Memo=""/><Set Info="Name" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style><Set Style=""/></Style><ParentStyle><Set ParentStyle=""/></ParentStyle><AttributeSet><Set AttLogic="" AttName="" AttValue=""/></AttributeSet><EventSet><Set EventLogic="" EventName="" EventType="" EventValue=""/></EventSet><IsHtml><Set IsHtml=""/></IsHtml><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><DataItem><Set DataField="n" DataType="String" DisableOnModify="" Format="" IsEncrypt="" SumBottom="" Valid=""/></DataItem><DataRef/></XItem><XItem Name="x"><Tag><Set IsLFEdit="" Tag="span"/></Tag><Name><Set Name="x"/></Name><GroupIndex/><InitValue><Set InitValue=""/></InitValue><DescriptionSet><Set Info="配置文件" Lang="zhcn" Memo=""/><Set Info="Xml Name" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style><Set Style=""/></Style><ParentStyle><Set ParentStyle=""/></ParentStyle><AttributeSet><Set AttLogic="" AttName="" AttValue=""/></AttributeSet><EventSet><Set EventLogic="" EventName="" EventType="" EventValue=""/></EventSet><IsHtml><Set IsHtml=""/></IsHtml><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><DataItem><Set DataField="x" DataType="String" DisableOnModify="" Format="" IsEncrypt="" SumBottom="" Valid=""/></DataItem><DataRef/></XItem><XItem Name="i"><Tag><Set IsLFEdit="" Tag="span"/></Tag><Name><Set Name="i"/></Name><GroupIndex/><InitValue><Set InitValue=""/></InitValue><DescriptionSet><Set Info="配置项" Lang="zhcn" Memo=""/><Set Info="ItemName" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style><Set Style=""/></Style><ParentStyle><Set ParentStyle=""/></ParentStyle><AttributeSet><Set AttLogic="" AttName="" AttValue=""/></AttributeSet><EventSet><Set EventLogic="" EventName="" EventType="" EventValue=""/></EventSet><IsHtml><Set IsHtml=""/></IsHtml><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><DataItem><Set DataField="i" DataType="Date" DisableOnModify="" Format="" IsEncrypt="" SumBottom="" Valid=""/></DataItem><DataRef/></XItem><XItem Name="p"><Tag><Set IsLFEdit="" Tag="span"/></Tag><Name><Set Name="p"/></Name><GroupIndex/><InitValue><Set InitValue=""/></InitValue><DescriptionSet><Set Info="附加参数" Lang="zhcn" Memo=""/><Set Info="Added Parameters" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style><Set Style=""/></Style><ParentStyle><Set ParentStyle=""/></ParentStyle><AttributeSet><Set AttLogic="" AttName="" AttValue=""/></AttributeSet><EventSet><Set EventLogic="" EventName="" EventType="" EventValue=""/></EventSet><IsHtml><Set IsHtml=""/></IsHtml><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><DataItem><Set DataField="p" DataType="" DisableOnModify="" Format="" IsEncrypt="" SumBottom="" Valid=""/></DataItem><DataRef/></XItem><XItem Name="h"><Tag><Set IsLFEdit="" Tag="span"/></Tag><Name><Set Name="h"/></Name><GroupIndex/><InitValue/><DescriptionSet><Set Info="隐含字段" Lang="zhcn" Memo=""/><Set Info="Hidden Columns" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style/><ParentStyle/><AttributeSet/><EventSet/><IsHtml/><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><DataItem><Set DataField="h" DataType="" DisableOnModify="" Format="" IsEncrypt="" SumBottom="" Valid=""/></DataItem><DataRef/></XItem><XItem Name="d"><Tag><Set IsLFEdit="" Tag="span"/></Tag><Name><Set Name="d"/></Name><GroupIndex/><InitValue/><DescriptionSet><Set Info="描述" Lang="zhcn" Memo=""/><Set Info="Description" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style/><ParentStyle/><AttributeSet/><EventSet/><IsHtml/><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="0" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><DataItem><Set DataField="d" DataType="" DisableOnModify="" Format="" IsEncrypt="" SumBottom="" Valid=""/></DataItem><DataRef/></XItem><XItem Name="butNew"><Tag><Set IsLFEdit="" Tag="button"/></Tag><Name><Set Name="butNew"/></Name><GroupIndex/><DescriptionSet><Set Info="新建" Lang="zhcn" Memo=""/><Set Info="New" Lang="enus" Memo=""/></DescriptionSet><Style/><ParentStyle/><AttributeSet/><EventSet><Set EventLogic="" EventName="onclick" EventType="Javascript" EventValue="addNew();"/></EventSet><CallAction/><OpenFrame/></XItem><XItem Name="butModi"><Tag><Set IsLFEdit="" Tag="button"/></Tag><Name><Set Name="butModi"/></Name><GroupIndex/><DescriptionSet><Set Info="修改" Lang="zhcn" Memo=""/><Set Info="Modify" Lang="enus" Memo=""/></DescriptionSet><Style><Set Style=""/></Style><ParentStyle><Set ParentStyle="width:40;text-align:center"/></ParentStyle><AttributeSet/><EventSet/><CallAction/><OpenFrame><Set CallItemName="sn_new_modi" CallMethod="OpenReloadClose" CallParas="EWA_MTYPE=M&amp;N=@N" CallXmlName="|ewa|ewa.xml"/></OpenFrame></XItem><XItem Name="bukDel"><Tag><Set IsLFEdit="" Tag="button"/></Tag><Name><Set Name="bukDel"/></Name><GroupIndex/><DescriptionSet><Set Info="删除" Lang="zhcn" Memo=""/><Set Info="Delete" Lang="enus" Memo=""/></DescriptionSet><Style><Set Style=""/></Style><ParentStyle><Set ParentStyle="width:40;text-align:center"/></ParentStyle><AttributeSet/><EventSet/><CallAction><Set Action="OnFrameDelete" AfterTip="" ConfirmInfo="DeleteBefore"/></CallAction><OpenFrame/></XItem><XItem Name="link"><Tag><Set IsLFEdit="" Tag="anchor"/></Tag><Name><Set Name="link"/></Name><GroupIndex/><DescriptionSet><Set Info="测试" Lang="zhcn" Memo=""/><Set Info="Test" Lang="enus" Memo=""/></DescriptionSet><Style/><ParentStyle/><AttributeSet/><EventSet/><AnchorParas><Set aHref="./?$S=@N" aTarget="_blank"/></AnchorParas></XItem></XItems><Menus/><Charts/><PageInfos/><Workflows/></EasyWebTemplate><EasyWebTemplate CreateDate="2011-12-03 10:47:31" Name="select_create_sql" UpdateDate="2015-10-27 16:40:50"><Page><FrameTag><Set FrameTag="Frame"/></FrameTag><Name><Set Name="select_create_sql"/></Name><SkinName><Set IsXhtml="" SkinName="Test1"/></SkinName><DataSource><Set DataSource=""/></DataSource><Cached/><Acl><Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/></Acl><Log/><DescriptionSet><Set Info="列表助手" Lang="zhcn" Memo=""/><Set Info="List of assistants" Lang="enus" Memo=""/></DescriptionSet><PageAttributeSet/><GroupSet/><Size><Set FrameCols="" HAlign="center" Height="" HiddenCaption="1" VAlign="top" Width="700px"/></Size><AddHtml><Set><Top><![CDATA[<script language="javascript" src="@rv_ewa_style_path/EWA_STYLE/js/EWA_COLOR_MARK.js"></script> ]]></Top><Bottom/></Set></AddHtml><AddScript><Set><Top><![CDATA[var enBasTab=true;
var tbs;
function show_tables(key){
	if(key==''){
		var obj=$X('Tables');
		obj.options.length=0;
		 
		return;
	}
	var u = window.location+'&EWA_ACTION=tables&EWA_AJAX=json&key='+key;
	var ajax=new EWA_AjaxClass();
	ajax.Get(u,function(){
		if(ajax.IsRunEnd()){
			var rst=ajax.GetRst();
			eval('tbs='+rst);
			show_tables1();
		}
	}); 
}
var ffs;
var isZhEn=false;
function show_tables1(){
	var obj=$X('Tables');
	obj.options.length=0;
	obj.options[0]=new Option('','');
	for(var i=2;i<tbs.length;i++){
		var t=tbs[i]; 
		obj.options[obj.options.length]=new Option(t.Name,t.Key);
	}
  //if(enBasTab){
    if($("#Tables option[value$=';BAS_TAG']").length>0 || $("#Tables option[value$=';bas_tag']").length>0){
      $X("Tables").parentElement.parentElement.cells[2].innerHTML="<a href='javascript:void(0)'>字典表</a>"
      +"&nbsp;&nbsp;<a href='javascript:void(0)'>中英字典表</a>";
      $("a").eq(0).click(function(){
         isZhEn=false;
         if($("#Tables option[value$=';BAS_TAG']").length>0){
            $X("Tables").value=$("#Tables option[value$=';BAS_TAG']")[0].value;
         }else{
             $X("Tables").value=$("#Tables option[value$=';bas_tag']")[0].value;
         }
         show_fields($X("Tables").value); 
      });
      $("a").eq(1).click(function(){
         isZhEn=true;
         if($("#Tables option[value$=';BAS_TAG']").length>0){
            $X("Tables").value=$("#Tables option[value$=';BAS_TAG']")[0].value;
         }else{
             $X("Tables").value=$("#Tables option[value$=';bas_tag']")[0].value;
         }
         show_fields($X("Tables").value); 
      });
    }
  //}
  //EWA.F.FOS['@sys_frame_unid'].initSelectFilter('Tables','text');
}
function show_fields(key){
	if(key==''){
		var objs=[];
		objs.push($X('ValueField'));
		objs.push($X('DisplayField'));
		objs.push($X('TitleField'));
		objs.push($X('sort'));
		for(var i=0; i < objs.length; i++){
			objs[i].options.length = 0;
		}
		return;
	}
	
	var keys=key.split(';');
	var u='./?xmlname=ewa%7Cewa.xml&EWA_FRAMESET_NO=1&itemname=fields&cfg='+keys[1]
		+ '&tablename=' + keys[3] + '&ewa_ajax=json'; 
	var ajax=new EWA_AjaxClass();
	ajax.Get(u,function(){
		if(ajax.IsRunEnd()){
		    enBasTab=true;
			var rst=ajax.GetRst();
			eval('ffs='+rst);
			show_fields1();
          if(enBasTab && keys[3].toUpperCase()=="BAS_TAG"){
            $X('ValueField').value="BAS_TAG";
            $X('DisplayField').value="BAS_TAG_NAME";
            $X('TitleField').value="BAS_TAG_NAME_EN";
            EWA.OW.Load();
            var refObj = EWA.OW.PWin.$X('@fromId');  
            var refTd = refObj.parentNode;
            while(refTd.tagName != 'TD'){
                refTd = refTd.parentNode;
            }            
            if(GetInnerText(refTd).indexOf("DataRef")<0){
              $X('sort').value="BAS_TAG_ORD"; 
            }
            $("#Where").val("BAS_TAG_GRP = ''");
            $("#Where")[0].focus();
            $('#ValueField').change();
          }
		}
	}); 
}
function show_fields1(){
	var objs=[];
	objs.push($X('ValueField'));
	objs.push($X('DisplayField'));
	objs.push($X('TitleField'));
	objs.push($X('sort'));
	
	for(var i=0; i < objs.length; i++){
		objs[i].options.length = 0;
		objs[i].options[0] = new Option('','');
	}
	
	for(var i=0; i<ffs.length; i++){
		var t = ffs[i];
		for(var k = 0; k < objs.length; k ++){ 
			objs[k].options[objs[k].options.length] = 
				new Option(t.name + '(' + t.description+')', t.name);
		}
	}
		
}]]></Top><Bottom><![CDATA[var callType='@a';
 
function ok(){
    EWA.OW.Load();
  
	var obj = EWA.OW.PWin.$X('@fromId');
  
	var tr = obj.parentNode;
	while(tr.tagName != 'TR'){
		tr = tr.parentNode;
	}
	var m = tr.rowIndex;
	var tb=tr.parentNode;
	 
	var sql = GetInnerText($X('sql1')).trim();
	if(sql == ''){
		alert('请先完成定义');
		return; 
	}
	
	setValue(tb, m+1, sql);
  if(callType==1){
	var v = $X('ValueField').value;
	setValue(tb, m+2, v);
	var d=$X('DisplayField').value;
	setValue(tb, m+3, d);
  }else{
	var v = $X('ValueField').value;
	setValue(tb, m+3, v);
	var d=$X('DisplayField').value;
	setValue(tb, m+2, d);
  }
	if(callType == '0'){
		var t=$X('TitleField').value;
		setValue(tb, m+4, t);
	}
	_EWA_DialogWnd.CloseWindow(); 
}
function setValue(tb, index,value){
	var o = tb.rows[index].getElementsByTagName('input')[0];
	o.value=value;
	if(o.onblur !=null)
		o.onblur();
}
function aa(){
	if(!$ || !$X('Tables')){
		// not load complete;
		return;
	} 
	if($X('Tables').selectedIndex==-1){
		//not select datasource
		return; 
	}
	
	var tb=$X('Tables').options[$X('Tables').selectedIndex].text;
	var v=$X('ValueField').value;
	var d=$X('DisplayField').value;
	var t=$X('TitleField').value;
	
	var sql='';
	if(tb =='' || v == '' || d == ''){
		return;
	}
	//fields 
	sql='SELECT '+v+', '+d;
	if(t !=''){
		sql+=', '+t;
	}
	sql+=' FROM '+tb;
	
	//where 
	var w=$X('Where').value;
	if(w !=''){
		sql+=' WHERE '+w;
	}
	//order by
	var s=$X('sort').value;
	if(s !=''){
		sql+=' ORDER BY '+s;
	}
	if(isZhEn){
	    sql=sql.replace("BAS_TAG_NAME","BAS_TAG_NAME,BAS_TAG_NAME_EN");
	}
	//isZhEn=false;
	//mark color 
	var s1=cmclass.MarkSql(sql);
	s1 = s1.replace('<nobr>','').replace('</nobr>','') ;
 
	$X('sql1').innerHTML = s1;
}
var cmclass;
addEvent(window,'load',function(){
	if(callType=='1'){
		$X('_ewa_tr$TitleField').style.display='none'; 
	}
	cmclass=new EWA_ColorMark('CLASS'); 
	if($X('DataSource').selectedIndex>0){
		show_tables($X('DataSource').value); 
	}
});]]></Bottom></Set></AddScript><AddCss><Set><AddCss/></Set></AddCss><ChartsShow/><RedrawJson/><BoxJson/><LeftJson/><FrameHtml><Set><FrameHtml/></Set></FrameHtml><PageSize/><ListUI/><MenuShow/><Menu/><Tree/><HtmlFrame/><TreeIconSet/><MGAxisX/><MGAxisY/><MGCell/><LogicShow/></Page><Action><ActionSet><Set IsPostMsg="" LogMsg="" Type="datasource"><CallSet><Set CallIsChk="" CallName="datasource" CallType="ClassSet" Test=""/></CallSet></Set><Set IsPostMsg="" LogMsg="" Type="tables"><CallSet><Set CallIsChk="" CallName="table" CallType="ClassSet" Test=""/></CallSet></Set></ActionSet><SqlSet><Set Name="OnPageLoad SQL" SqlType="query" TransType="no"><Sql><![CDATA[SELECT * FROM EWA_ADMIN WHERE ADM_ID = @ADM_ID]]></Sql><CSSet/></Set><Set Name="OnPagePost SQL" SqlType="update" TransType="no"><Sql><![CDATA[UPDATE EWA_ADMIN SET 
	ADM_NAME = @ADM_NAME,
	ADM_EMAIL = @ADM_EMAIL,
	ADM_PHONE = @ADM_PHONE,
	ADM_IDCARD = @ADM_IDCARD,
	ADM_ADDR = @ADM_ADDR,
	ADM_MEMO = @ADM_MEMO,
	ADM_DENY = @ADM_DENY,
	ADM_MDATE=@SYS_DATE
WHERE ADM_ID = @ADM_ID]]></Sql><CSSet/></Set></SqlSet><ClassSet><Set ClassName="com.gdxsoft.easyweb.define.UserTableViewXmls" ConData="" MethodData="" MethodName="getCfgsXml" Name="datasource" XmlTag="TableViewList/Row"/><Set ClassName="com.gdxsoft.easyweb.define.UserTableViewXmls" ConData="" MethodData="@key,@linkType" MethodName="getMoreXml1" Name="table" XmlTag="TableViewList/Row"/></ClassSet><XmlSet/><XmlSetData/><ScriptSet/><UrlSet/><CSSet/><CallSet><Set CallIsChk="" CallName="datasource" CallType="ClassSet" Test=""/></CallSet></Action><XItems><XItem Name="DataSource"><Tag><Set IsLFEdit="" Tag="select"/></Tag><Name><Set Name="DataSource"/></Name><GroupIndex/><InitValue><Set InitValue=""/></InitValue><DescriptionSet><Set Info="数据源" Lang="zhcn" Memo="数据库连接池"/><Set Info="The data source" Lang="enus" Memo="Database connection pooling"/></DescriptionSet><Style><Set Style=""/></Style><ParentStyle><Set ParentStyle=""/></ParentStyle><AttributeSet><Set AttLogic="" AttName="" AttValue=""/></AttributeSet><EventSet><Set EventLogic="" EventName="onchange" EventType="Javascript" EventValue="show_tables(this.value)"/></EventSet><IsMustInput><Set IsMustInput="0"/></IsMustInput><DataItem><Set DataField="DataSource" DataType="String" DisableOnModify="" Format="" IsEncrypt="" SumBottom="" Valid=""/></DataItem><List><Set DisplayField="name" DisplayList="" GroupField="" ListAddBlank="1" ListFilterField="" ListFilterType="" ListShowType="" Sql="{action:datasource}" TitleField="" TitleList="" ValueField="key" ValueList=""/></List></XItem><XItem Name="Tables"><Tag><Set IsLFEdit="" Tag="select"/></Tag><Name><Set Name="Tables"/></Name><GroupIndex/><InitValue/><DescriptionSet><Set Info="表" Lang="zhcn" Memo=""/><Set Info="Table" Lang="enus" Memo=""/></DescriptionSet><Style/><ParentStyle/><AttributeSet/><EventSet><Set EventLogic="" EventName="onchange" EventType="Javascript" EventValue="show_fields(this.value)"/></EventSet><IsMustInput/><DataItem><Set DataField="" DataType="" DisableOnModify="" Format="" IsEncrypt="" SumBottom="" Valid=""/></DataItem><List><Set DisplayField="" DisplayList="" GroupField="" ListAddBlank="" ListFilterField="" ListFilterType="text" ListShowType="" Sql="" TitleField="" TitleList="" ValueField="" ValueList=""/></List></XItem><XItem Name="ValueField"><Tag><Set IsLFEdit="" Tag="select"/></Tag><Name><Set Name="ValueField"/></Name><GroupIndex/><InitValue><Set InitValue=""/></InitValue><DescriptionSet><Set Info="值字段" Lang="zhcn" Memo=""/><Set Info="Value field" Lang="enus" Memo=""/></DescriptionSet><Style><Set Style=""/></Style><ParentStyle><Set ParentStyle=""/></ParentStyle><AttributeSet><Set AttLogic="" AttName="" AttValue=""/></AttributeSet><EventSet><Set EventLogic="" EventName="onchange" EventType="Javascript" EventValue="aa()"/></EventSet><IsMustInput><Set IsMustInput="0"/></IsMustInput><DataItem><Set DataField="ValueField" DataType="String" DisableOnModify="" Format="" IsEncrypt="" SumBottom="" Valid=""/></DataItem><List><Set DisplayField="" DisplayList="" GroupField="" ListAddBlank="" ListFilterField="" ListFilterType="" ListShowType="" Sql="" TitleField="" TitleList="" ValueField="" ValueList=""/></List></XItem><XItem Name="DisplayField"><Tag><Set IsLFEdit="" Tag="select"/></Tag><Name><Set Name="DisplayField"/></Name><GroupIndex/><InitValue><Set InitValue=""/></InitValue><DescriptionSet><Set Info="显示字段" Lang="zhcn" Memo=""/><Set Info="Display field" Lang="enus" Memo=""/></DescriptionSet><Style><Set Style=""/></Style><ParentStyle><Set ParentStyle=""/></ParentStyle><AttributeSet><Set AttLogic="" AttName="" AttValue=""/></AttributeSet><EventSet><Set EventLogic="" EventName="onchange" EventType="Javascript" EventValue="aa()"/></EventSet><IsMustInput><Set IsMustInput="0"/></IsMustInput><DataItem><Set DataField="DisplayField" DataType="String" DisableOnModify="" Format="" IsEncrypt="" SumBottom="" Valid=""/></DataItem><List><Set DisplayField="" DisplayList="" GroupField="" ListAddBlank="" ListFilterField="" ListFilterType="" ListShowType="" Sql="" TitleField="" TitleList="" ValueField="" ValueList=""/></List></XItem><XItem Name="TitleField"><Tag><Set IsLFEdit="" Tag="select"/></Tag><Name><Set Name="TitleField"/></Name><GroupIndex/><InitValue><Set InitValue=""/></InitValue><DescriptionSet><Set Info="提示字段" Lang="zhcn" Memo=""/><Set Info="Hint field" Lang="enus" Memo=""/></DescriptionSet><Style><Set Style=""/></Style><ParentStyle><Set ParentStyle=""/></ParentStyle><AttributeSet><Set AttLogic="" AttName="" AttValue=""/></AttributeSet><EventSet><Set EventLogic="" EventName="onchange" EventType="Javascript" EventValue="aa();"/></EventSet><IsMustInput><Set IsMustInput="0"/></IsMustInput><DataItem><Set DataField="TitleField" DataType="String" DisableOnModify="" Format="" IsEncrypt="" SumBottom="" Valid=""/></DataItem><List><Set DisplayField="" DisplayList="" GroupField="" ListAddBlank="" ListFilterField="" ListFilterType="" ListShowType="" Sql="" TitleField="" TitleList="" ValueField="" ValueList=""/></List></XItem><XItem Name="sort"><Tag><Set IsLFEdit="" Tag="select"/></Tag><Name><Set Name="sort"/></Name><GroupIndex/><InitValue/><DescriptionSet><Set Info="排序" Lang="zhcn" Memo=""/><Set Info="Sorting" Lang="enus" Memo=""/></DescriptionSet><Style/><ParentStyle/><AttributeSet/><EventSet><Set EventLogic="" EventName="onchange" EventType="Javascript" EventValue="aa()"/></EventSet><IsMustInput/><DataItem><Set DataField="" DataType="" DisableOnModify="" Format="" IsEncrypt="" SumBottom="" Valid=""/></DataItem><List/></XItem><XItem Name="Where"><Tag><Set IsLFEdit="" Tag="text"/></Tag><Name><Set Name="Where"/></Name><GroupIndex/><InitValue><Set InitValue=""/></InitValue><DescriptionSet><Set Info="查询条件" Lang="zhcn" Memo=""/><Set Info="Query criteria" Lang="enus" Memo=""/></DescriptionSet><Style><Set Style=""/></Style><ParentStyle><Set ParentStyle=""/></ParentStyle><AttributeSet><Set AttLogic="" AttName="" AttValue=""/></AttributeSet><EventSet><Set EventLogic="" EventName="onblur" EventType="Javascript" EventValue="aa();"/></EventSet><OrderSearch/><MaxMinLength><Set MaxLength="500" MinLength=""/></MaxMinLength><MaxMinValue><Set MaxValue="" MinValue=""/></MaxMinValue><IsMustInput><Set IsMustInput="0"/></IsMustInput><DataItem><Set DataField="Where" DataType="String" DisableOnModify="" Format="" IsEncrypt="" SumBottom="" Valid=""/></DataItem><VaildEx><Set VXAction="" VXFail="" VXJs="" VXMode="" VXOk=""/></VaildEx></XItem><XItem Name="SQL"><Tag><Set IsLFEdit="" Tag="user"/></Tag><Name><Set Name="SQL"/></Name><GroupIndex/><DescriptionSet><Set Info="SQL" Lang="zhcn" Memo=""/><Set Info="SQL" Lang="enus" Memo=""/></DescriptionSet><XStyle/><Style><Set Style=""/></Style><ParentStyle><Set ParentStyle=""/></ParentStyle><AttributeSet><Set AttLogic="" AttName="" AttValue=""/></AttributeSet><EventSet><Set EventLogic="" EventName="" EventType="" EventValue=""/></EventSet><OrderSearch><Set GroupTestLength="" IsGroup="" IsGroupDefault="" IsOrder="" SearchMulti="" SearchSql="" SearchType=""/></OrderSearch><DataItem><Set DataField="SQL" DataType="String" DisableOnModify="" Format="" IsEncrypt="" SumBottom="" Valid=""/></DataItem><UserSet><Set Lang="zhcn" User="&lt;div style='height:100px;font-size:13px;' id='sql1'&gt; &lt;/div&gt;"/></UserSet></XItem><XItem Name="butOk"><Tag><Set IsLFEdit="" Tag="button"/></Tag><Name><Set Name="butOk"/></Name><GroupIndex/><DescriptionSet><Set Info="确定" Lang="zhcn" Memo=""/><Set Info="Ok" Lang="enus" Memo=""/></DescriptionSet><Style><Set Style=""/></Style><ParentStyle><Set ParentStyle="width:40px; text-align: center"/></ParentStyle><AttributeSet><Set AttLogic="" AttName="" AttValue=""/></AttributeSet><EventSet><Set EventLogic="" EventName="onclick" EventType="Javascript" EventValue="ok();"/></EventSet><CallAction><Set Action="" AfterTip="" ConfirmInfo=""/></CallAction><OpenFrame><Set CallItemName="" CallMethod="" CallParas="" CallXmlName=""/></OpenFrame></XItem><XItem Name="butClose"><Tag><Set IsLFEdit="" Tag="button"/></Tag><Name><Set Name="butClose"/></Name><GroupIndex/><DescriptionSet><Set Info="关闭" Lang="zhcn" Memo=""/><Set Info="Cancel" Lang="enus" Memo=""/></DescriptionSet><Style><Set Style=""/></Style><ParentStyle><Set ParentStyle="width:40px; text-align: center"/></ParentStyle><AttributeSet><Set AttLogic="" AttName="" AttValue=""/></AttributeSet><EventSet><Set EventLogic="" EventName="" EventType="" EventValue=""/></EventSet><CallAction><Set Action="" AfterTip="" ConfirmInfo=""/></CallAction><OpenFrame><Set CallItemName="" CallMethod="" CallParas="" CallXmlName=""/></OpenFrame></XItem></XItems><Menus/><Charts/><PageInfos/><Workflows/></EasyWebTemplate><EasyWebTemplate CreateDate="2010-04-07 15:02:57" Name="index" UpdateDate="2015-10-29 10:39:16"><Page><FrameTag><Set FrameTag="Menu"/></FrameTag><Name><Set Name="index"/></Name><SkinName><Set IsXhtml="" SkinName="Test1"/></SkinName><DataSource><Set DataSource=""/></DataSource><Cached><Set CachedSeconds="" CachedType="none"/></Cached><Acl><Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/></Acl><Log><Set Log=""/></Log><DescriptionSet><Set Info="GdxSoft EWA(v2.0b) IDE" Lang="zhcn" Memo="GdxSoft EWA(v2.0b) IDE"/><Set Info="GdxSoft EWA(v2.0b) IDE" Lang="enus" Memo="GdxSoft EWA(v2.0b) IDE"/></DescriptionSet><PageAttributeSet/><GroupSet/><Size><Set FrameCols="" HAlign="center" Height="100%" HiddenCaption="" VAlign="top" Width="100%"/></Size><AddHtml><Set><Top><![CDATA[<script type="text/javascript" src="@rv_ewa_style_path/EWA_DEFINE/js/EWAC.js"></script>
<table border=0 cellspacing=0 cellpadding=0 width=100% height=100%>
<tr style='background-color:white'>
	<td   height=30 >
         <div class='EWA_MENU' style='float:center;width:99.5%;height:22px'>     
				<div id='EWA_MENU' style='float:left'></div>
				<div style='float:right;cursor:hand' onclick='relogin()' title='重新登录'>Hi, @EWA_ADMIN_NAME</div>
      </div>
	</td>
</tr>
<tr>
	<td>
		<iframe frameborder=0 width=100% height=100% 
src='./?xmlname=ewa|ewa.xml&itemname=cfgtree&EWA_FRAME_URL=./%3Fxmlname=ewa|ewa.xml%26itemname=define_tabs'></iframe>
	</td>
</tr>
</table>
          ]]></Top><Bottom/></Set></AddHtml><AddScript><Set><Top><![CDATA[(function(){
    var lk=document.createElement('link');
    lk.type='image/x-icon';
    lk.rel='shortcut icon';
    lk.href='@rv_ewa_style_path/EWA_DEFINE/images/guolei.ico';
    document.getElementsByTagName('head')[0].appendChild(lk);
    
    if('@SYS_REMOTEIP'=='127.0.0.1'){
        window.setInterval(function(){
            var u=window.location.href+"&ewa_ajax=json";
            $J1(u,function(){
               console.log('ping'); 
            });
        },1000*60);
    }
})();

function link(u) {
  window.frames[0].location = './?' + u;
}
function commonSqls() {
  var u = './?xmlname=|ewa|ewa.xml&itemname=commmon_sqls';
  window.frames[0].frames[1].AddTab(u, '公共数据');
}
function openit(){
  
}
var op="@OP";

function relogin(){
  EWA.UI.Dialog.OpenFrame('@SYS_FRAME_UNID', '|ewa|m.xml', 'login', true,
                          'DIA_LOGIN=1', '', '');
}]]></Top><Bottom><![CDATA[document.body.style.overflow = 'hidden';
function newProject() {
  var url = "./?XMLNAME=|ewa|ewa.xml&ITEMNAME=newProject";
  EWA.UI.Dialog.OpenWindow(url, 'newproject', 500, 300);
}
function showXml() {
  var w = GetShowWin();
  if (w == null) return;
  w.showXml();
}
function updateView() {
  var w = GetShowWin();
  if (w == null) return;
  w.updateView();
}
function GetShowWin() {
  var w = window.frames[0].frames[1];
  return w.mm.CurrentWindow;
}
function saveXml() {
  var w = GetShowWin();
  if (w == null) return;
  w.saveXml();
}
function changeItems(tag) {
  var w = GetShowWin();
  if (w == null) return;
  w.changeItems(tag);
}
var LastView;
function ShowView(id) {
  if (LastView != null) {
    LastView.style.display = 'none';
    LastView = null;
  }
  LastView = document.getElementById(id);
  LastView.style.display = '';
}
//新建Frame
function NewFrame(xml, xmlName, itemName) {
  EWAC.SaveXml(xmlName, itemName, xml, true);
}
function aa() {
  var w = GetShowWin();
  if (w.document.readyState != 'complete') {
    return;
  }
  window.clearInterval(aa1);
  w.loadNew(axml);
}
function copyRes() {
  var w = GetShowWin();
  var a = document.getElementById('cp_res');
  w.copyRes(a);
  alert(a.title);
}
function pasteRes() {
  if (typeof EWA_RES_COPY == 'undefined') {
    alert('请先复制资源');
    return;
  }
  var w = GetShowWin();
  w.pasteRes(EWA_RES_COPY);
}
function init_index(){
     
}
addEvent(window,'load',init_index);]]></Bottom></Set></AddScript><AddCss><Set><AddCss><![CDATA[input[type=button] {
	background-color: #ccc;
	color: #000;
	background: linear-gradient(#ccc 50%, #cdcdcd);
    -webkit-box-shadow: #ccc 0px 2px 1px -1px inset;
	cursor: pointer;
	padding-left: 2px;
	padding-right: 2px;
	padding-top: 2px;
	padding-bottom: 2px;
	font-weight: normal;
	font-size: 12px;
	border: 1px;
	border-radius: 5px;
}           ]]></AddCss></Set></AddCss><ChartsShow/><RedrawJson/><BoxJson/><LeftJson/><FrameHtml/><PageSize/><ListUI/><MenuShow><Set MenuShow="EWA_MENU" MenuType=""/></MenuShow><Menu><Set Cmd="mcmd" Icon="micon" IconType="" Key="mid" ParentKey="pid" RootId="0" Text="mtext"/></Menu><Tree/><HtmlFrame/><TreeIconSet/><MGAxisX/><MGAxisY/><MGCell/><LogicShow/></Page><Action><ActionSet><Set IsPostMsg="" LogMsg="" Type="OnPageLoad"><CallSet><Set CallIsChk="" CallName="menu1" CallType="XmlSet" Test=""/></CallSet></Set></ActionSet><SqlSet/><ClassSet/><XmlSet><Set Name="menu1" XmlAction="load" XmlData="" XmlFields="" XmlSetData="menu" XmlWhere=""/></XmlSet><XmlSetData><Set Name="menu" XmlFields="mid,mtext,pid,micon,mcmd,mtext_enus" XmlLoadType="attribute" XmlName="@EWA.CONFIG.PATH/EwaDefineConfig.xml" XmlTagPath="Menus/Menu"/></XmlSetData><ScriptSet/><UrlSet/><CSSet/><CallSet><Set CallIsChk="" CallName="menu1" CallType="XmlSet" Test=""/></CallSet></Action><XItems/><Menus/><Charts/><PageInfos/><Workflows/></EasyWebTemplate><EasyWebTemplate CreateDate="2014-07-11 10:26:26" Name="ewa_utils" UpdateDate="2015-11-23 17:37:49"><Page><FrameTag><Set FrameTag="Frame"/></FrameTag><Name><Set Name="ewa_utils"/></Name><SkinName><Set IsXhtml="" SkinName="Test1"/></SkinName><DataSource><Set DataSource=""/></DataSource><Cached><Set CachedSeconds="" CachedType="none"/></Cached><Acl><Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/></Acl><Log/><DescriptionSet><Set Info="工具" Lang="zhcn" Memo=""/><Set Info="Tools" Lang="enus" Memo=""/></DescriptionSet><PageAttributeSet><Set PageAttName="onmouseup" PageAttValue="EWAC_WfUtil.MouseUp(event)"/><Set PageAttName="onmousemove" PageAttValue="EWAC_WfUtil.MouseMove(event)"/><Set PageAttName="onselectstart" PageAttValue="return false;"/><Set PageAttName="onmousedown" PageAttValue="EWAC_WfUtil.MouseDown(event)"/><Set PageAttName="ondragstart" PageAttValue="return false;"/></PageAttributeSet><GroupSet/><Size><Set FrameCols="" HAlign="center" Height="" HiddenCaption="1" VAlign="top" Width="800"/></Size><AddHtml><Set><Top><![CDATA[<table width=100% class='EWA_TABLE'>
    <tr>
        <td class='EWA_TD_M'>
            <div>
              <h3>原始代码：</h3>
            </div>
            <div>
              <textarea id=src style="width:100%;height:150px;"></textarea>
 
            </div>
        </td>
    </tr>
    <tr>
        <td class='EWA_TD'>
            <input id='para' placeholder='变量名称'>
            <input type='button' value='Java StringBuilder' onclick='java_sb()'>
            <input type='button' value='Js EWA Url' onclick='js_url()'>
            <input type='button' value='Js String' onclick='js_sb()'>
            <input type='button' value='toUpper' onclick='js_toUpper()'>
            <input type='button' value='字段加表名' onclick="js_field_pr()">
        </td>
    </tr>
    <tr>
        <td class='EWA_TD_M'>
            <div>
              <h3>转换结果：</h3>
            </div>
            <div>
                <textarea id=rst style="width:100%;height:150px;">
                </textarea>
            </div>
        </td>
    </tr>
</table>]]></Top><Bottom/></Set></AddHtml><AddScript><Set><Top><![CDATA[function js_sb() {
  var s = $('#src').val();
  var name = $('#para').val();
  if (name == '') {
    name = 'ss';
    $('#para').val(name);
  }
  var ss = [];
  ss.push('var ' + name + ' = [];');
  var lines = s.split('\n');
  for (var i = 0; i < lines.length; i++) {
    var line = lines[i];
    line=line.trim();
    if(line.length==0){
        continue;
    }
    ss.push(name+'.push("' + line.replace(/\"/ig, '\\"') + '");');
  }
  $('#rst').val(ss.join('\n'));

}
function java_sb() {
  var s = $('#src').val();
  var name = $('#para').val();
  if (name == '') {
    name = 'sb';
    $('#para').val(name);
  }
  var ss = [];
  ss.push('StringBuilder ' + name + '=new StringBuilder();');
  var lines = s.split('\n');
  for (var i = 0; i < lines.length; i++) {
    var line = lines[i];
    ss.push(name+'.append("' + line.replace(/\"/ig, '\\"') + '\\n");');
  }
  $('#rst').val(ss.join('\n'));

}
function js_url() {
  var s = $('#src').val();
  var name = $('#para').val();
  if (name == '') {
    name = 'u1';
    $('#para').val(name);
  }
  var u1=new EWA_UrlClass();
  u1.SetUrl(s);
  var x=u1.GetParameter("xmlname");
  var i=u1.GetParameter("itemname");
  var ss = [];
  ss.push('var X = "'+x+'";');
  ss.push('var I = "'+i+'";');
  u1.RemoveParameter("xmlname");
  u1.RemoveParameter("itemname");
  
  var p1=u1.GetUrl().split('?');
  var p=p1[p1.length-1];
  ss.push('var P = "'+p+'";');
  ss.push('var '+name+' = $U2(X, I, P, true);');
  
  $('#rst').val(ss.join('\n'));
}
function js_toUpper(){
    $('#rst').val($('#src').val().toUpperCase());
}
function js_field_pr(){
    var a=$('#src').val();
    a=a.replace(/ /ig,'');
    a=a.replace(/\r/ig,'');
    a=a.replace(/\n/ig,'');
    a=a.replace(/,/ig,", "+$('#para').val()+".");
    a=$('#para').val()+"."+a;
    $('#rst').val(a);
}]]></Top><Bottom/></Set></AddScript><AddCss><Set><AddCss><![CDATA[ ]]></AddCss></Set></AddCss><ChartsShow/><RedrawJson/><BoxJson/><LeftJson/><FrameHtml><Set><FrameHtml/></Set></FrameHtml><PageSize/><ListUI/><MenuShow/><Menu/><Tree/><HtmlFrame/><TreeIconSet/><MGAxisX/><MGAxisY/><MGCell/><LogicShow/></Page><Action><ActionSet/><SqlSet/><ClassSet/><XmlSet/><XmlSetData/><ScriptSet/><UrlSet/><CSSet/><CallSet/></Action><XItems/><Menus/><Charts/><PageInfos/><Workflows/></EasyWebTemplate><EasyWebTemplate CreateDate="2009-01-07 17:01:20" Name="define_res" UpdateDate="2016-05-05 16:14:39"><Page><FrameTag><Set FrameTag="Frame"/></FrameTag><Name><Set Name="define_res"/></Name><SkinName><Set IsXhtml="" SkinName="Test1"/></SkinName><DataSource><Set DataSource=""/></DataSource><Cached><Set CachedSeconds="999999" CachedType="none"/></Cached><Acl><Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/></Acl><Log/><DescriptionSet><Set Info="编辑资源" Lang="zhcn" Memo=""/><Set Info="Editing a resource" Lang="enus" Memo=""/></DescriptionSet><PageAttributeSet/><GroupSet/><Size><Set FrameCols="" HAlign="center" Height="" HiddenCaption="1" VAlign="top" Width="100%"/></Size><AddHtml><Set><Top><![CDATA[ <script type="text/javascript" src="@rv_ewa_style_path/EWA_STYLE/js/UTILS/EWA_UT_TRANS.js"></script>
 <script type="text/javascript" src="@rv_ewa_style_path/EWA_DEFINE/js/EWAC.js"></script>]]></Top><Bottom/></Set></AddHtml><AddScript><Set><Top><![CDATA[var trans; 
function aa(fromObj){
   var id=fromObj.id;
   if(id.indexOf('zhcn')<0){
   	return;
   }
   var id1=id.replace('zhcn','enus');
   var obj1=$X(id1);
   if(obj1==null){
   	return;
   }
   if(obj1.value !=''){
   	return;
   }
   if(trans==null){
 	 trans = new EWA_UT_TRANS();
   }
   trans.TransToEn(fromObj.value, obj1);
}
function bb(){
  if(idx < ipts.length-1){
  	aa(ipts[idx]);
    idx++;
    setTimeout(bb,123);
  }
}
var ipts;
var idx;
function tall(){
  ipts = document.body.getElementsByTagName('input');
  idx=0; 
  bb();
}
  ]]></Top><Bottom/></Set></AddScript><AddCss><Set><AddCss/></Set></AddCss><ChartsShow/><RedrawJson/><BoxJson/><LeftJson/><FrameHtml><Set><FrameHtml/></Set></FrameHtml><PageSize/><ListUI/><MenuShow/><Menu/><Tree/><HtmlFrame/><TreeIconSet/><MGAxisX/><MGAxisY/><MGCell/><LogicShow/></Page><Action><ActionSet/><SqlSet/><ClassSet/><XmlSet/><XmlSetData/><ScriptSet/><UrlSet/><CSSet/><CallSet/></Action><XItems/><Menus/><Charts/><PageInfos/><Workflows/></EasyWebTemplate><EasyWebTemplate CreateDate="2014-12-03 21:08:13" Name="define_box" UpdateDate="2016-05-05 16:49:48"><Page><FrameTag><Set FrameTag="Frame"/></FrameTag><Name><Set Name="define_box"/></Name><SkinName><Set IsXhtml="" SkinName="Test1"/></SkinName><DataSource><Set DataSource=""/></DataSource><Cached><Set CachedSeconds="862024" CachedType="all"/></Cached><Acl><Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/></Acl><Log/><DescriptionSet><Set Info="tabls" Lang="zhcn" Memo=""/><Set Info="tabls" Lang="enus" Memo=""/></DescriptionSet><PageAttributeSet/><GroupSet/><Size><Set FrameCols="" HAlign="center" Height="100%" HiddenCaption="1" VAlign="top" Width="100%"/></Size><AddHtml><Set><Top><![CDATA[<script type="text/javascript"
	src="@rv_ewa_style_path/thrid-party/cP_v0.91/colorPicker.js"></script>
<script type="text/javascript"
	src="@rv_ewa_style_path/thrid-party/js-beautify/js/lib/beautify.js"></script>
<script type="text/javascript" src="@rv_ewa_style_path/EWA_DEFINE/js/EWAC.js"></script> 
 	<div class='split-para'>
		<table id='paras' width=100% cellpadding=0 cellspacing=1>
			<tr>
				<td width=100>容器编号(ID)</td>
				<td><input type=text onblur='create_code()' id="PARENT_ID"
					class="EWA_INPUT"></td>
			</tr>
			<tr>
				<td>配置文件</td>
				<td><input type=text onclick="$X('set_x').click()"
					onblur='create_code()' readonly id="XMLNAME" class="EWA_INPUT">
				</td>
			</tr>
			<tr>
				<td>配置项</td>
				<td><input type=text onclick="$X('set_x').click()"
					onblur='create_code()' readonly id="ITEMNAME" class="EWA_INPUT">
				</td>
			</tr>
			<tr>
				<td>默认图标</td>
				<td><input type=text onblur='create_code()' id="ICON"
					class="EWA_INPUT two"><input type=text
					onblur='create_code()' id="ICON_COLOR" class="color"
					onclick='colorPicker1(event); '></td>
			</tr>
			<tr>
				<td>标题</td>
				<td><input type=text onblur='create_code()' id="TITLE"
					class="EWA_INPUT two"><input type=text
					onblur='create_code()' id="title_color" class="color"
					onclick='colorPicker1(event); '></td>
			</tr>
			<tr>
				<td>标题左图</td>
				<td><textarea readonly onclick='show_ide(this)'
						onblur='create_code()' id="img" class="EWA_INPUT"></textarea></td>
			</tr>
			<tr>
				<td>标题左图点击事件</td>
				<td><textarea readonly onclick='show_ide(this)'
						onblur='create_code()' id="img_click" class="EWA_INPUT"></textarea></td>
			</tr>
			<tr>
				<td>自动获取焦点</td>
				<td><select onchange='create_code()' id="AUTOFOCUS">
						<option value='false'>false</option>
						<option value='true'>true</option>
				</select></td>
			</tr>
			<tr>
				<td>首图HTML</td>
				<td><textarea readonly onclick='show_ide(this,"html")'
						onblur='create_code()' id="first" class="EWA_INPUT"></textarea></td>
			</tr>
			<tr>
				<td>图标检查脚本</td>
				<td><textarea readonly onclick='show_ide(this)'
						onblur='create_code()' id="chk" class="EWA_INPUT"></textarea></td>
			</tr>
			<tr>
				<td>明细列表</td>
				<td align=center>
					<table width=100% id='txt' cellspaing=1 cellpadding=1>
						<tr>
							<th width=80>标题</th>
							<th>内容信息</th>
							<th>删</th>
							<th>上</th>
							<th>下</th>
						</tr>
						<tr tag='hide' style='display: none'>
							<td width=80><input type=text onblur='create_code(this)'
								class="EWA_INPUT fk1" aa=2></td>
							<td><input type=text onblur='create_code(this)'
								class="EWA_INPUT fk1" aa=2></td>
							 
							<td><a href='javascript:void(0)'
								onclick='delete_txt_row(this)'>删</a></td>
							<td><a href='javascript:void(0)'
								onclick='move_up_dow(this,-1);'>上</a></td>
							<td><a href='javascript:void(0)'
								onclick='move_up_dow(this,1);'>下</a></td>
						</tr>
					</table> <input type=button value='添加一行' onclick='add_txt_row()'
					style='margin-top: 4px' />
				</td>
			</tr>
			<tr>
				<td>图标列表</td>
				<td align=center>
					<table width=100% id='chk_icons' cellspaing=1 cellpadding=1>
						<tr>
							<th width=50>名称</th>
							<th>图标</th>
							<th>颜色</th>
							<th>删</th>
						</tr>
						<tr style='display: none'>
							<td><input type=text style='width: 46px'
								onblur='create_code()' class="EWA_INPUT fk"></td>
							<td><input type=text onblur='create_code()'
								class="EWA_INPUT fk" aa=1 readonly onclick='show_icons(this)'>
							</td>
							<td><input type=text onblur='create_code()' class="color fk"
								aa=1 readonly onclick='colorPicker1(event);'></td>
							<td><a href='javascript:void(0)'
								onclick='$(this).parent().parent().remove();create_code();'>删</a></td>
						</tr>
					</table> <input type=button value='添加一行' onclick='add_icons_row()'
					style='margin-top: 4px' />
				</td>
			</tr>
			<tr>
				<td>最后执行</td>
				<td><textarea readonly onclick='show_ide(this)'
						onblur='create_code()' id="callback" class="EWA_INPUT"></textarea></td>
			</tr>
			<tr>
				<td>尺寸(宽x高)</td>
				<td><input type=text style='width: 40%' id="page_width"
					onblur='create_code()' class="EWA_INPUT">x<input type=text
					onblur='create_code()' id="page_height" class="EWA_INPUT"
					style='width: 40%'></td>
			</tr>
			<tr>
				<td>圆角-背景色</td>
				<td><input type=text id="page_radius" onblur='create_code()'
					class="EWA_INPUT two"> <input type=text
					onblur='create_code()' id="page_color" class="color"
					onclick='colorPicker1(event); '></td>
			</tr>
		</table>
	</div>
	<div class='split-box'>
		<table class="box" style='position:' cellspacing="0" cellpadding="0"
			onselectstart="return false;" id="box1">
			<tr>
				<td align=center>第一个框架</td>
			</tr>
		</table>

		<table class="box" style='position:' cellspacing="0" cellpadding="0"
			onselectstart="return false;" id="box">
			<tr>
				<td valign="top" json="">
					<div class="status" onclick="show_icons(this)">
						<li id='box_icon' class="fa fa-bank"></li>
						<div class="box_menus" onselectstart="return false;"
							style="display: none;">
							<b onclick="box_design_class.enq_op_main_close_menu(event,this)"
								class="fa fa-power-off close"></b>
						</div>
					</div>
					<div class="box_img">
						<table cellpadding="0" cellspacing="0" class="imgtb">
							<tr>
								<td align="center"><img
									src="/EmpScriptV2/EWA_STYLE/images/plus50.png" border="0"
									style="cursor: pointer;"></td>
							</tr>
						</table>
					</div>
					<div class="box_title_img">
						<select style='width: 90%' id='PARAMS'
							onchange='$("#TITLE").val("@"+this.value);create_code();'></select>
					</div>
					<table onselectstart="return true" id='box_txt' class="box_txt"
						cellspacing="0" cellpadding="0">
						<tr>
							<td class="box_subject">明细</td>
						</tr>
					</table>
				</td>
			</tr>
		</table>

		<div id='ide'>
			<b class='fa fa-power-off' onclick='close_ide()'></b>
			<iframe frameborder=0 id="ide_frame"
				src='@rv_ewa_style_path/EWA_DEFINE/js/CodeMirror/index.html'></iframe>
			<div align=right>
				<input type=button value='确定' onclick='close_ide()'>&nbsp; <input
					type=button value='首图默认' a='html' onclick='add_first()'> <input
					type=button value='检查图标' a='jscript' onclick='add_js_chk()'>
				<input type=button value='左图文件显示' a='jscript'
					onclick='add_js_chk(tmp_js.img)'> <input type=button
					value='左图点击事件' a='jscript' onclick='add_js_chk(tmp_js.img_click)'>
			</div>
		</div>
		<div id='ide_cover' style=''></div>
	</div>
	<div class='split-code'>
		<iframe src='@rv_ewa_style_path/EWA_DEFINE/js/CodeMirror/index.html'
			style='width: 100%; height: 100%;' id=code></iframe>
	</div>

	<div id=fas></div>
	<div style='display: none'>
		<table>
			<tr>
				<td><input id='set_x' type=button value='设定JSON'
					onclick='open_frame(this)'></td>
			</tr>
			<tr style='display: none'>
				<td><input type=text id="X"></td>
			</tr>
			<tr style='display: none'>
				<td><input type=text id="I"></td>
			</tr>
			<tr style='display: none'>
				<td><input type=text id="P"></td>
			</tr>
		</table>

	</div>
 ]]></Top><Bottom/></Set></AddHtml><AddScript><Set><Top><![CDATA[var box_design_class;
window.__TYPE__ = 'jscript';
g_box_data = {};
function init() {
	$('body').css('margin', 0).css('overflow', 'hidden');
	box_design_class = new EWA_UI_BoxClass();
	box_design_class.add_box_style();
	var u = "/EmpScriptV2/thrid-party/font-awesome/font-awesome-4.5.0/css/font-awesome.min.css";
	$J2(u, init_fa);
	$('input[readonly],textarea[readonly]').css('background-color',
			'lightyellow').css('overflow', 'hidden');
	$('input,textarea').each(function() {
		$(this).attr('placeholder', this.id);
	});
	init_from_code();
}
function init_from_code() {
	var u1 = new EWA_UrlClass();
	u1.SetUrl(location.href);
	var d_x = u1.GetParameter("D_XMLNAME").unURL().unURL();
	var d_i = u1.GetParameter("D_ITEMNAME").unURL().unURL();
	g_d_x = d_x;
	g_d_i = d_i;
	var json = window.parent.$X('PAGE$BoxJson$BoxJson') ? window.parent
			.$X('PAGE$BoxJson$BoxJson').title : "";
// 	if (json == null || json.trim() == '') {
// 		json = window.localStorage['EWA_BOX_CODE/' + g_d_x + '/' + g_d_i];
// 	}
	if (json == null || json == '') {
		$('#XMLNAME').val(d_x.unURL());
		$('#ITEMNAME').val(d_i.unURL());
		load_params();
		return;
	}

	window.frames[1].editor.setValue(formatCodeHtml(json));
	eval('g_box_data=' + json);

	for ( var n in g_box_data) {
		var v = g_box_data[n];
		if (v instanceof Function) {
			v = formatCodeHtml(v.toString());
		}
		if (n == 'chk_icons') {
			var inc = 0;
			for ( var m in v) {
				var cr = add_icons_row();
				cr.getElementsByTagName('input')[0].value = m;
				cr.getElementsByTagName('input')[1].value = v[m].icon;
				cr.getElementsByTagName('input')[2].value = v[m].color;
				cr.getElementsByTagName('input')[2].style.backgroundColor=v[m].color;
				inc++;
			}
			continue;
		} else if (n == 'txt') {
			var inc = 0;
			for ( var m in v) {
				var cr = add_txt_row();
				cr.getElementsByTagName('input')[0].value = v[m].n;
				cr.id = 'TR_' + v[m].n;
				cr.getElementsByTagName('input')[1].value = v[m].t;
				inc++;
			}
			continue;
		}
		$('#' + n).val(v.toString());
		$('#' + n.toUpperCase()).val(v.toString());
		if(n.indexOf("_color")>0){
			$('#' + n).css("background-color",v);
			$('#' + n.toUpperCase()).css("background-color",v);
		}
		change_style(n, v);
	}
	load_params();
}
function init_fa(s) {
	var s1 = s.match(/\.fa\-[^{]+/ig);
	var ss = [];
	for ( var n in s1) {
		var fa = s1[n];
		if (fa.indexOf(':') < 0 || fa.indexOf('90') > 0) {
			continue;
		}
		var fa = fa.replace(":before", "").replace(".", "").split(',')[0];
		var s2 = "<i onclick='choose_fa(this)' class='fa " + fa + "' title='"
				+ fa + "'></i>";
		ss.push(s2);
	}
	$('#fas').html(ss.join(''));
}

function open_frame(obj) {
	if (obj.id == '') {
		obj.id = '_WWW_' + Math.random();
	}
	var id = obj.id;
	var u = EWA.CP
			+ '/EWA_STYLE/cgi-bin/?XMLNAME=|ewa|ewa.xml&ITEMNAME=define_select_xitem&TYPE=Frame&fromId='
			+ id;
	EWA.UI.Dialog.OpenWindow(u, 'selectxitem', 624, 400);
	check_frame_set();
}

function check_frame_set() {
	if ($X('X').value == '') {
		setTimeout(check_frame_set, 100);
		return;
	}

	var x = $X('X').value;
	var i = $X('I').value;

	$('#XMLNAME').val(x);
	$('#ITEMNAME').val(i);
	create_code();
	load_params();
}
function load_params() {
	var x = $X('XMLNAME').value;
	var i = $X('ITEMNAME').value;
	if (x != '' && i != '') {
		var u = EWA.CP + '/EWA_STYLE/cgi-bin/?XMLNAME=' + x + '&ITEMNAME=' + i
				+ '&EWA_AJAX=JSON_EXT&EWA_FRAMESET_NO=1';
		$J(u, show_params);
	}
}
function txt_item(obj) {
	var v = obj.value;
	var id = 'TR_' + v;
	var o = $X(id);
	if (!obj.checked) {
		if (o) {
			var v1 = o.getElementsByTagName('input')[1].value;
			if (v1 == '@' + v) {
				$(o).remove();
			} else {
				if (window.confirm('该行不是默认值,确认要删除么?')) {
					$(o).remove();
				} else {
					obj.checked = true;
				}
			}
		}
	} else {
		if (!$X(id)) {
			var cr = add_txt_row();
			cr.id = id;
			cr.getElementsByTagName('input')[0].value = v;
			cr.getElementsByTagName('input')[1].value = '@' + v;
		}

	}
	create_code();
}
function show_params(data) {
	var cfg = data.CFG;
	var ss = [];
	$X('PARAMS').options.length = 0;
	$X('PARAMS').options[0] = new Option('', '');
	var title = g_box_data["title"];

	for ( var n in cfg) {
		var d = cfg[n];
		if (d.TAG == 'button') {
			continue;
		}
		var v = d.NAME;
		var t = d.NAME + '(' + d.DES + ',' + d.DT + ')';
		var opt = $X('PARAMS').options[$X('PARAMS').options.length] = new Option(
				t, v);

		if ('@' + v == title) {
			opt.selected = true;
		}
		var id = 'pa_' + v;
		var s1 = "<div class='paras'><input onclick='txt_item(this)' id='" + id
				+ "' type='checkbox' value='" + v + "'><label for='" + id
				+ "'>" + t + "</label></div>";
		ss.push(s1);
	}
	s2 = ss.join('');
	$('.box_subject')[0].innerHTML = s2;

	var data0 = g_box_data["txt"];
	if (data0) {
		for ( var n in data0) {
			var d = data0[n];
			var name = d.n;
			var val = d.t;
			$('.box_subject input[value="' + name + '"]').attr('checked', 'true');
		}
	}
}

function add_first() {
	var txt = "<i class='fa fa-plus box_add_icon' onclick='你的脚本()'\n  ></i>";
	window.frames[0].editor.setValue(txt);
}
function add_js_chk(func) {
	var txt;
	if (func == null) {
		txt = "// 检查返回状态, 图标在下面定义, d为json的每一行数据\nfunction(d) {if(d.XXX='SL'){return \"A\"}else if(d.XXX='B'){return \"B\"}}";
	} else {
		txt = func.toString();
	}
	window.frames[0].editor.setValue(formatCodeHtml(txt));
}
function choose_fa(obj) {
	$('.choose').each(function() {
		this.className = this.className.replace('choose ', '');
	});

	$('#fas').hide();
	if ($(last_icon_obj).attr('aa') == null || $(last_icon_obj).attr('aa') != 1) {
		$('#box_icon').attr('class', obj.className);
		$('#ICON').val(obj.className);
		obj.className = "choose " + obj.className;
	} else {
		$(last_icon_obj).val(obj.className);
	}
	create_code();
}

function formatCodeHtml(s) {
	var txt1 = js_beautify(s, 1, '\t');
	return txt1;
}
function change_style(name, v) {
	if (name == 'page_radius') {
		$('.box').css('border-radius', v);
	} else if (name == 'page_width') {
		$('.box').css('width', v);
	} else if (name == 'page_height') {
		$('.box').css('height', v);
	} else if (name == 'page_color') {
		$('.box').css('background-color', v);
	} else if (name == 'first') {
		$('#box1 td').html(v);
	} else if (name == 'icon') {
		$('#box_icon').attr('class', v);
	} else if (name == 'icon_color') {
		$('#box_icon').css('color', v);
	}
}
function move_up_dow(obj, idx) {
	var tr = obj.parentNode.parentNode;
	if (idx == 1) {
		var next = $(tr).next();
		if (next.length == 1) {
			tr.swapNode(next[0]);
		}
	} else if (idx == -1) {
		var prev = $(tr).prev();
		if (prev.attr('tag') == 'hide') {
			return;
		}
		tr.swapNode(prev[0]);
	}
	create_code();
}
function create_code(fobj) {
	if (fobj) {
		if ($(obj).attr('aa') == '2'
				&& $(obj).parent().parent().find('input') == fobj) {
			$(obj).parent().parent().attr('id', 'TR_' + fobj.value);
		}
	}
	var objs = $('#paras input,#paras select,#paras textarea');
	var json = {};
	for ( var n in objs) {
		var obj = objs[n];
		if (obj.id == null || obj.id == '') {
			continue;
		}
		var name = obj.id.toLowerCase();

		json[name] = obj.value;

		change_style(name, obj.value)
	}
	// 显示细节部分
	var objs1 = $('#txt .fk1');
	json['txt'] = [];

	for (var i = 2; i < objs1.length; i += 2) {
		var o1 = objs1[i];
		var o2 = objs1[i + 1];

		json['txt'].push({
			n : o1.value,
			t : o2.value
		});
	}
	// 关联图标
	var objs2 = $('#chk_icons .fk');
	json['chk_icons'] = {};
	// 第一行是模板,跳过
	for (var i = 3; i < objs2.length - 1; i += 3) {
		var o1 = objs2[i];
		var o2 = objs2[i + 1];
		var o3 = objs2[i + 2];
		var key = o1.value || 'noname' + i;
		json['chk_icons'][key] = {
			icon : o2.value,
			color : o3.value
		};
	}
	var tmp = {};
	for ( var n in json) {
		var s = json[n];
		if (s.toString().indexOf('function') >= 0) {
			try {
				eval('tmp.' + n + '=' + s);
				json[n] = "[XXXX-" + n + "--XXXX]";
			} catch (e) {
				console.log(s);
			}
		}
	}
	var code = JSON.stringify(json);
	for ( var n in tmp) {
		code = code.replace('"[XXXX-' + n + '--XXXX]"', tmp[n].toString());
	}
	var fcode = formatCodeHtml(code);
	window.frames[1].editor.setValue("tmp = " + fcode);

	window.localStorage['EWA_BOX_CODE/' + g_d_x + '/' + g_d_i] = code;

	if (window.parent.$X('PAGE$BoxJson$BoxJson')) {
		window.parent.$X('EWAC_SELECT_TYPE').value = 'Page';
		window.parent._EWAC_UI.ChangeType('Page');

		var ipt = window.parent.$X('PAGE$BoxJson$BoxJson');
		// 避免回车符被删除
		ipt.title = fcode;
		ipt.value = fcode;
		ipt.setAttribute("EWA_OLD_VALUE", ipt.value);
		ipt.setAttribute("EWA_VALUE", fcode);
		ipt.onblur();
	}
}
function add_icons_row() {
	var row = $X('chk_icons').rows[1];
	var newrow = $X('chk_icons').insertRow(-1);
	for (var i = 0; i < row.cells.length; i++) {
		var td = row.cells[i];
		var newtd = newrow.insertCell(-1);
		newtd.innerHTML = td.innerHTML;
	}
	return newrow;
}
function add_txt_row() {
	var row = $X('txt').rows[1];
	var newrow = $X('txt').insertRow(-1);
	for (var i = 0; i < row.cells.length; i++) {
		var td = row.cells[i];

		var newtd = newrow.insertCell(-1);
		newtd.innerHTML = td.innerHTML;
		newtd.width = td.width;
	}
	return newrow;
}
function delete_txt_row(obj) {
	var tr = $(obj).parent().parent();
	var id = tr.attr('id');
	var rid = id.replace('TR_', 'pa_');
	$('#' + rid).attr('checked', false);
	tr.remove();
	create_code();
}
function show_icons(obj) {
	move_center($('#fas'));
	last_icon_obj = obj;
}

function show_ide(obj, type) {
	window.__TYPE__ = type || 'jscript';
	window.__VAL__ = obj.value;

	$('#ide input[a]').hide();
	$('#ide input[a=' + window.__TYPE__ + ']').show();

	move_center($('#ide'));
	last_icon_obj = obj;
	window.frames[0].aa();
	window.frames[0].document.body.focus();

	$('#ide_cover').show();
}
function move_center(obj) {
	var w0 = $('body').width();
	var h0 = $('body').height();
	var w1 = obj.width();
	var h2 = obj.height();
	var top = (h0 - h2) / 2 - 10;
	var left = (w0 - w1) / 2;
	obj.css({
		top : top,
		left : left,
		position : 'fixed'
	}).show();
}
function close_ide(nocode) {
	$('#ide_cover').hide();
	$('#ide').hide();
	if (!nocode) {
		var js = window.frames[0].getText();
		last_icon_obj.value = js;
		create_code();
	}
}
function colorPicker1(e) {
	colorPicker(e);
	var o = $('.cPSkin');
	if (!o.attr('ss')) {// 未绑定事件
		o.bind('click', function() {
			$(this).hide();
			create_code();
		});
		o.attr('ss', 'gdx');
	}
	$('body').append(o);

	move_center(o);
}
// ----------
if (!Node.prototype.swapNode) {
	Node.prototype.swapNode = function(node) {// 浜ゆ崲鑺傜偣
		var p = this.parentNode;
		if (this.nextSibling != node) {
			p.insertBefore(this, node);
		} else {
			p.insertBefore(node, this);
		}
	}
}
tmp_js = {
	img : function(d) {
		var ext = d.FILE_EXT.toLowerCase();
		var path = EWA.RV_STATIC_PATH + "/EWA_STYLE/images/file_png/";
		if (ext == "jpg" || ext == "jpeg" || ext == "png" || ext == "bmp"
				|| ext == "gif") {
			return EWA.CP + "/back_admin/scm/sys_att_download.jsp?file_id="
					+ d.FILE_ID + "&File_UnId=" + d.FILE_UNID;
		}
		var src = "gnote.png";
		if (ext == 'doc' || ext == 'docx') {
			src = "MSWD.png";
		} else if (ext == 'xls' || ext == 'xlsx') {
			src = "XCEL.png";
		} else if (ext == 'ppt' || ext == 'pptx') {
			src = "PPT3.png";
		} else if (ext == 'txt' || ext == 'cvs' || ext == 'pom') {
			src = "Edit.png";
		} else if (ext == 'zip' || ext == 'rar' || ext == '7z') {
			src = "zip.png";
		} else if (ext == 'pdf') {
			src = "ACR_App.png";
		} else if (ext == 'odt') {
			src = "openoffice.png";
		} else if (ext == 'html' || ext == "htm") {
			src = "html.png";
		}
		return path + src;
	},
	img_click : function() {
		downfile('@' + 'FILE_ID', '@' + 'FILE_UNID');
	}
}]]></Top><Bottom><![CDATA[function init_check(){
    if(parent.$X('PAGE$FrameTag$FrameTag')){
        init();
        return;
    }
    setTimeout(init_check,121);
}
addEvent(window, 'load', init_check);]]></Bottom></Set></AddScript><AddCss><Set><AddCss><![CDATA[#fas i {
	width: 20px;
	height: 20px;
	margin: 5px;
	line-height: 20px;
	text-align: center;
	font-size: 15px;
	border: 1px solid #ccc;
}

#fas {
	color: #08c;
	width: 600px;
	height: 240px;
	overflow: auto;
	display: none;
	position: fixed;
	z-index: 1000000;
	background-color: #fff;
	padding: 4px;
	border: 1px solie #08c;
	border-radius: 5px;
}

#fas i:hover {
	color: red;
	border: 1px solid red;
	cursor: pointer;
}

.choose {
	color: #fff;
	cursor: pointer;
	background-color: #08c;
}

#box {
	
}

.cPSkin {
	z-index: 1231
}

#ide {
	width: 800px;
	height: 440px;
	display: none;
	position: fixed;
	background-color: #fff;
	border: 1px solid #ccc;
	padding: 4px;
	z-index: 100;
}

#ide .fa {
	width: 20px;
	height: 20px;
	line-height: 20px;
	text-align: center;
	position: absolute;
	left: -6px;
	top: -6px;
	color: #08c;
	background-color: #fff;
	border-radius: 10px;
	cursor: pointer;
}
#ide .fa:hover{
	color:red;
}
#ide iframe {
	width: 100%;
	height: 410px;
}

#ide_cover {
	position: fixed;
	left: 0px;
	top: 0px;
	bottom: 0px;
	right: 0px;
	background-color: rgba(0, 0, 0, 0.6);
	z-index: 99;
	display: none;
}

.color {
	height: 16px;
	width: 60px;
	border: 1px solid #ccc;
	float: right;
}

.two {
	width: 210px;
}

.paras:hover {
	color: red;
}

.split-para {
	position: absolute;
	top: 0px;
	left: 0px;
	width: 400px;
	bottom: 0px;
	overflow: auto;
	padding: 4px;
}

.split-box {
	position: absolute;
	top: 0px;
	left: 410px;
	width: 400px;
	bottom: 0px;
	overflow: auto;
}

.split-code {
	position: absolute;
	top: 0px;
	left: 820px;
	bottom: 0px;
	right: 0px;
}

#paras {
	background-color: #ccc;
}

#paras textarea {
	height: 15px;
}

#paras td {
	background-color: #fff;
	height: 22px;
	padding-left: 4px;
}

body {
	overflow: hidde;
	margin: 0px;
	background-color: #333
}]]></AddCss></Set></AddCss><ChartsShow/><RedrawJson/><BoxJson/><LeftJson/><FrameHtml><Set><FrameHtml/></Set></FrameHtml><PageSize/><ListUI/><MenuShow/><Menu/><Tree/><HtmlFrame/><TreeIconSet/><MGAxisX/><MGAxisY/><MGCell/><LogicShow/></Page><Action><ActionSet/><SqlSet/><ClassSet/><XmlSet/><XmlSetData/><ScriptSet/><UrlSet/><CSSet/><CallSet/></Action><XItems/><Menus/><Charts/><PageInfos/><Workflows/></EasyWebTemplate><EasyWebTemplate CreateDate="2010-05-06 17:48:10" Name="define_code" UpdateDate="2016-05-05 17:54:14"><Page><FrameTag><Set FrameTag="Frame"/></FrameTag><Name><Set Name="define_code"/></Name><SkinName><Set IsXhtml="" SkinName="Test1"/></SkinName><DataSource><Set DataSource=""/></DataSource><Cached><Set CachedSeconds="862024" CachedType="none"/></Cached><Acl><Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/></Acl><Log/><DescriptionSet><Set Info="code editor!" Lang="zhcn" Memo=""/><Set Info="code editor!" Lang="enus" Memo=""/></DescriptionSet><PageAttributeSet/><GroupSet/><Size><Set FrameCols="" HAlign="center" Height="100%" HiddenCaption="1" VAlign="top" Width="100%"/></Size><AddHtml><Set><Top><![CDATA[<!--<script type="text/javascript" src="@rv_ewa_style_path/EWA_DEFINE/js/js_beautify.js"></script>-->
<!--<script type="text/javascript" src="@rv_ewa_style_path/EWA_DEFINE/js/htmlformat.js"></script>-->
<script type="text/javascript" src="@rv_ewa_style_path/EWA_DEFINE/js/EWAC.js"></script>
<table border=0 width=100% height=100%>
    <tr>
        <td height=20 style='border-bottom:1px solid black'>
            <!--<input type=button onclick='save()' value='保存1' />-->
            |
            <select id=code onchange="bb(this)"></select>
            <input type=button id='butJs' onclick='formatCode()' value='格式化JS' />
            <input type=button id='butSql' onclick='formatCodeSQL()' value='格式化SQL' />
            <input type=button id='butChkSql' onclick='checkSQL()' value='检查SQL语法' />
            <input type=button id='butHtml' onclick='formatCodeHtml()' value='格式化Html' /> | <span id=msg></span>
        </td>
    </tr>
    <tr>
        <td>
            <iframe frameborder=0 width=100% height=100% src='./?xmlname=ewa|ewa.xml&ITEMNAME=define_edit_value'></iframe>
        </td>
    </tr>
</table>]]></Top><Bottom/></Set></AddHtml><AddScript><Set><Top><![CDATA[var inputs = [];
function aa() {
  var w = window.frames[0];
  var tb = w.$X('Test1');
  inputs = [];
  selectedIndex = null;

  tb.style.width = '100%';
  tb.style.height = '100%';

  var tb1 = tb.getElementsByTagName('table')[0];
  tb1.style.width = '100%';
  tb1.style.height = '100%';
  tb1.rows[3].style.display = 'none';

  var s = $X('code');
  s.innerHTML = "";

  aa0(window.parent.$X('PAGE$AddScript$Top'));
  aa0(window.parent.$X('PAGE$AddScript$Bottom'));

  aa0(window.parent.$X('PAGE$AddHtml$Top'));
  aa0(window.parent.$X('PAGE$AddHtml$Bottom'));

  aa1();
  bb(s);
}

function aa0(obj) {
  //PAGE$AddHtml$Top
  var id = obj.id;
  var o = obj;
  var t = o.tagName == 'input' ? o.getAttribute('EWA_COLOR_TYPE') : o['EWA_COLOR_TYPE'];
  var txt = o.tagName == 'input' ? o.getAttribute('EWA_VALUE') : o['EWA_VALUE'];

  var s = document.getElementById('code');
  s.options[s.options.length] = new Option(id + ' (' + t + ')', '');
  var oo = s.options[s.options.length - 1];
  if (t == 'jscript') {
    oo.style.color = 'darkblue';
  } else if (t == 'html') {
    oo.style.color = 'red';
    oo.fontWeight = 'bold';
  }
  if (s.options.length == 1) {
    oo.selected = true;
  }
  inputs.push(o);
}
function aa1() {
  var t = window.parent._EWAC_UI._UserClass.ActionTables.Tables.GetItem('SQLSET');
  for (var i = 0; i < t.Rows.length; i++) {
    var row = t.Rows[i];
    var o = {};
    o.getAttribute = function(name) {
      return this[name];
    }
    o.setAttribute = function(name, val) {
      this[name] = val;
    }
    o.id = 'SQL$' + row.Fields[0];
    o.EWA_VALUE = row.Fields[3];
    o.EWA_COLOR_TYPE = 'sql';
    o.tagName = 'SQL';
    o.row = row;
    aa0(o);
  }
}
var selectedIndex;
function bb(selectObj) {
  if (selectedIndex != null) {
    var txt = window.frames[0].frames[0].getText();
    inputs[selectedIndex].setAttribute('EWA_VALUE', txt);
  }
  selectedIndex = selectObj.selectedIndex;
  var obj = inputs[selectedIndex];

  var a = [];
  a[0] = obj;
  a[1] = obj;
  a[3] = obj.getAttribute('EWA_COLOR_TYPE');
  a[4] = window.parent._EWAC_UI;
  window.frames[0].init(a);
}
var pp = [];
function showCode(opt) {
  pp[3] = t;
  pp[1] = opt;
}

function save() {

  var txt = window.frames[0].frames[0].getText();
  inputs[selectedIndex].setAttribute('EWA_VALUE', txt);

  var s = document.getElementById('code');
  for (var i = 0; i < inputs.length; i++) {
    var ipt = inputs[i];
    if (!saveToXml(ipt)) {
      $X('msg').innerHTML = '<font color=red>请切换到Page页面,然后保存</font>';
      return;
    }
  }
  $X('msg').innerHTML = '保存完毕！'
}
function saveToXml(ipt) {
  var txt = ipt.getAttribute('EWA_VALUE');
  if (ipt.tagName == 'INPUT') {
    if (ipt.parentNode.parentNode.parentNode.parentNode.style.display == 'none') {
      alert('请切换到Page页面,然后再保存');
      return false;
    }
    ipt.title = txt;
    ipt.value = txt;
    ipt.setAttribute("EWA_OLD_VALUE", ipt.value);
    ipt.onblur();
  } else {
    ipt.row.Fields[3] = txt;
  }
  return true;
}
document.body.style.overflow = 'hidden';

var inputs = [];
function aa() {
  var w = window.frames[0];
  var tb = w.$X('Test1');
  inputs = [];
  selectedIndex = null;

  tb.style.width = '100%';
  tb.style.height = '100%';

  var tb1 = tb.getElementsByTagName('table')[0];
  tb1.style.width = '100%';
  tb1.style.height = '100%';
  tb1.rows[3].style.display = 'none';

  var s = $X('code');
  s.innerHTML = "";

  aa0(window.parent.$X('PAGE$AddScript$Top'));
  aa0(window.parent.$X('PAGE$AddScript$Bottom'));

  aa0(window.parent.$X('PAGE$AddHtml$Top'));
  aa0(window.parent.$X('PAGE$AddHtml$Bottom'));

  aa1();
  bb(s);
}

function aa0(obj) {
  //PAGE$AddHtml$Top
  var id = obj.id;
  var o = obj;
  var t = o.tagName == 'input' ? o.getAttribute('EWA_COLOR_TYPE') : o['EWA_COLOR_TYPE'];
  var txt = o.tagName == 'input' ? o.getAttribute('EWA_VALUE') : o['EWA_VALUE'];

  var s = document.getElementById('code');
  s.options[s.options.length] = new Option(id + ' (' + t + ')', '');
  var oo = s.options[s.options.length - 1];
  if (t == 'jscript') {
    oo.style.color = 'darkblue';
  } else if (t == 'html') {
    oo.style.color = 'red';
    oo.fontWeight = 'bold';
  }
  if (s.options.length == 1) {
    oo.selected = true;
  }
  inputs.push(o);
}
function aa1() {
  var t = window.parent._EWAC_UI._UserClass.ActionTables.Tables.GetItem('SQLSET');
  for (var i = 0; i < t.Rows.length; i++) {
    var row = t.Rows[i];
    var o = {};
    o.getAttribute = function(name) {
      return this[name];
    }
    o.setAttribute = function(name, val) {
      this[name] = val;
    }
    o.id = 'SQL$' + row.Fields[0];
    o.EWA_VALUE = row.Fields[3];
    o.EWA_COLOR_TYPE = 'sql';
    o.tagName = 'SQL';
    o.row = row;
    aa0(o);
  }
}
var selectedIndex;
function bb(selectObj) {
  if (selectedIndex != null) {
    var txt = window.frames[0].frames[0].getText();
    inputs[selectedIndex].setAttribute('EWA_VALUE', txt);
  }
  selectedIndex = selectObj.selectedIndex;
  var obj = inputs[selectedIndex];

  var a = [];
  a[0] = obj;
  a[1] = obj;
  a[3] = obj.getAttribute('EWA_COLOR_TYPE');
  if (a[3] == 'jscript') {
    $('#butJs').show();
    $('#butSql').hide();
    $('#butHtml').hide();
    $('#butChkSql').hide();

  } else if (a[3] == 'sql') {
    $('#butJs').hide();
    $('#butSql').show();
    $('#butHtml').hide();
    $('#butChkSql').show();
  } else if (a[3] == 'html') {
    $('#butJs').hide();
    $('#butSql').hide();
    $('#butHtml').show();
    $('#butChkSql').hide();
  } else {
    $('#butJs').hide();
    $('#butSql').hide();
    $('#butHtml').hide();
    $('#butChkSql').hide();
  }
  a[4] = window.parent._EWAC_UI;
  window.frames[0].init(a);
}
var pp = [];
function showCode(opt) {
  pp[3] = t;
  pp[1] = opt;
}

function save() {
  try{
  window.parent.$X('EWAC_SELECT_TYPE').value = 'Page';
  window.parent._EWAC_UI.ChangeType('Page');
  }catch(e){
  }
  var txt = window.frames[0].frames[0].getText();
  inputs[selectedIndex].setAttribute('EWA_VALUE', txt);

  var s = document.getElementById('code');
  for (var i = 0; i < inputs.length; i++) {
    var ipt = inputs[i];
    if (!saveToXml(ipt)) {
      $X('msg').innerHTML = '<font color=red>请切换到Page页面,然后保存</font>';
      return;
    }
  }
  $X('msg').innerHTML = '保存完毕！'
}
function saveToXml(ipt) {
  var txt = ipt.getAttribute('EWA_VALUE');
  if (ipt.tagName == 'INPUT') {
    if (ipt.parentNode.parentNode.parentNode.parentNode.style.display == 'none') {
      alert('请切换到Page页面,然后再保存');
      return false;
    }
    ipt.title = txt;
    ipt.value = txt;
    ipt.setAttribute("EWA_OLD_VALUE", ipt.value);
    ipt.onblur();
  } else {
    ipt.row.Fields[3] = txt;
  }
  return true;
}]]></Top><Bottom><![CDATA[function formatCode() {
    window.frames[0].frames[0].beautify_code(); //defined in EWA_DEFINE/js/CodeMirror/index.html
}

function formatCodeSQL() {
    window.frames[0].frames[0].beautify_code();
}

function formatCodeHtml() {
    window.frames[0].frames[0].beautify_code();

}

function checkSQL() {
    window.frames[0].frames[0].checkSQL();
}

document.body.style.overflow = 'hidden';]]></Bottom></Set></AddScript><AddCss><Set><AddCss/></Set></AddCss><ChartsShow/><RedrawJson/><BoxJson/><LeftJson/><FrameHtml><Set><FrameHtml/></Set></FrameHtml><PageSize/><ListUI/><MenuShow/><Menu/><Tree/><HtmlFrame/><TreeIconSet/><MGAxisX/><MGAxisY/><MGCell/><LogicShow/></Page><Action><ActionSet/><SqlSet/><ClassSet/><XmlSet/><XmlSetData/><ScriptSet/><UrlSet/><CSSet/><CallSet/></Action><XItems/><Menus/><Charts/><PageInfos/><Workflows/></EasyWebTemplate><EasyWebTemplate CreateDate="2009-01-07 17:01:20" Name="define_edit_value" UpdateDate="2016-05-05 17:56:10"><Page><FrameTag><Set FrameTag="Frame"/></FrameTag><Name><Set Name="define_edit_value"/></Name><SkinName><Set IsXhtml="" SkinName="Test1"/></SkinName><DataSource><Set DataSource=""/></DataSource><Cached><Set CachedSeconds="862024" CachedType="none"/></Cached><Acl><Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/></Acl><Log><Set Log=""/></Log><DescriptionSet><Set Info="内容编辑" Lang="zhcn" Memo=""/><Set Info="Content editor" Lang="enus" Memo=""/></DescriptionSet><PageAttributeSet/><GroupSet/><Size><Set FrameCols="" HAlign="center" Height="400" HiddenCaption="1" VAlign="top" Width="810"/></Size><AddHtml><Set><Top><![CDATA[<script type="text/javascript" src="@rv_ewa_style_path/EWA_DEFINE/js/EWAC_CM.js"></script>
<script type="text/javascript" src="@rv_ewa_style_path/EWA_DEFINE/js/EWAC.js"></script>
<table border="0" cellspacing="0" cellpadding="0" width="1000" height="520" id=tbMain>
<tr id="trFunc">
<td height="30" style='border-bottom: 1px solid #ccc'>
	脚本:
	<select onchange="openDialog(this.value)">
	<option></option>
	<option value='./?xmlname=ewa|ewa.xml&itemname=define_select_xitem&TYPE=edit'>
		Tree 的 link 方法
	</option>
	<option value='./?xmlname=ewa|ewa.xml&itemname=define_select_xitem&TYPE=edit|opendialog'>
			打开窗口调用配置
	</option>
	</select>
	Action:
	<select id=selAction onchange="setAction(this.value)"><option></option></select>
	<button onclick='ConvertHtml();'>转换自定义框架</button>
	<button onclick='AddDownHead();'>下载数据头</button>
</td>
</tr>
<tr id='trEwaFunc'><td height=30><input type=text id=func style='width:100%' /></td></tr>  
  
<tr>
	<td id="tdContent" style='background-color:#fff;border:1px solid #cdcdcd'>
		<textarea id=content style="width: 100%; height: 100%"></textarea>
	</td>
</tr>
<tr>
	<td height=20 style="padding: 5px; border-top: 1px solid #ccc" align="right">
		<!--<button type=button id=butHtml onclick="formatCodeHtml();">格式化Html</button>-->
		<button type=button id=butOk onclick="ok();">确定</button>
		<button type=button>关闭</button>
	</td>
</tr>
</table>
          
          ]]></Top><Bottom><![CDATA[<script type="text/javascript" src="/EmpScriptV2/thrid-party/js-beautify/js/lib/beautify-html.js">
</script>]]></Bottom></Set></AddHtml><AddScript><Set><Top><![CDATA[document.body.style.overflow = 'hidden';]]></Top><Bottom><![CDATA[var EWA_FUN;
var parentCmd;
var timerInit;
var cmEditor;
var AAA;
function ConvertHtml() {
	var win = window._EWA_DialogWnd ? _EWA_DialogWnd._OpenerWindow: window.parent.parent;
	console.log(win.location.href);
	var s1 = win._EWAC_UISkin.CreateFrameHtml();
	window.frames[0].setText(s1);
}
var cm;
function init(a) {
    //console.log(a);
	if (a[3] == "jscript") {
		$X('trFunc').style.display = '';
		$X('trEwaFunc').style.display = '';
	} else {
		$X('trFunc').style.display = 'none';
		$X('trEwaFunc').style.display = 'none';
	}
	var table = $X('tbMain');
	if (a[3] == "html" || a[3] == "jscript" || a[3] == "sql" || a[3] == "css") {
		//window.clearInterval(timerInit);
		__VAL__ = a[1].getAttribute("EWA_VALUE");
		__TYPE__ = a[3];

		if (window.frames.length == 0) {
			var u = '<iframe src="@rv_ewa_style_path/EWA_DEFINE/js/CodeMirror/index.html?a=' + Math.random()
			    + '" width=100% height=100% scrolling=no scroll=no frameborder=0></iframe>';
			$X('tdContent').innerHTML = u;
			loadEWAFunction(a);
			cm = new EWA_ColorMark2($X('func'), EWA_FUN);
			cm.Init();
		} else {
			window.frames[0].aa();
		}
		setSize();
	} else {
		$X("content").value = a[1].getAttribute("EWA_VALUE");
	}
}
var h = -10;
var w = -10;
var idx = 0;
function setSize() {
	try {
		if (document.body.offsetHeight != h) {
			h = document.body.offsetHeight;
			idx = 0;
			window.setTimeout(setSize, 150);
		} else {
			idx++;
			if (idx < 5) {
				window.setTimeout(setSize, 50);
				return;
			}
			var h2 = $X('tdContent').offsetHeight;
			var o = window.frames[0].document.getElementById('code').nextSibling;
			o.style.height = h2 + 'px';
			o.childNodes[1].style.height = h2 + 'px';

		}
	} catch(ee) {
		//$X('butOk').value=ee;
	}
}

function loadEWAFunction(a) {
	if (EWA_FUN != null) {
		return;
	}
	EWA_FUN = new EWA_Function();
	EWA_FUN.AddTopObject(EWA, "EWA");
	EWA_FUN.LoadFunctions();
	var tagName = a[4]._UserClass.PageTables.Tables.GetItem('FrameTag').GetSingleValue();
	EWA_FUN.LoadResources(a[4]._UserClass.PageInfosTablesSet, tagName);
	var dataTable = a[4]._UserClass.ActionTables.Tables.GetItem("ActionSet");
	loadAction(dataTable);
}
function loadAction(dataTable) {
	var sel = $X('selAction');
	var typeIndex = dataTable.Columns.GetIndex("Type");
	for (var i = 0; i < dataTable.Rows.length; i += 1) {
		var v = dataTable.Rows[i].Fields[typeIndex];
		sel.options[sel.options.length] = new Option(v, v);
	}
}
function setAction(v1) {
	window.frames[0].setText("var paras=[];\r\nparas[0]={Name:'pname', Value:'pval'};\r\n" 
	    + "EWA.F.FOS['@" + "SYS_FRAME_UNID'].DoAction(this, '" + v1 + "', '执行前消息', '执行后消息' , paras);");
}
function ok() {
	if (typeof EWA_FUN != "undefined") {
		EWA_FUN.Dispose();
	}
	var cmd = window._EWA_DialogWnd.GetReturnBack();
	var val = "";
	if (window.frames.length == 0) {
		val = $X('content').value;
	} else {
		val = window.frames[0].editor.getValue();
	}
	cmd.CmdArgus[0].value = val;
	cmd.CmdArgus[0].title = val;
	cmd.CmdArgus[0].setAttribute("EWA_VALUE", val);
	cmd.CmdArgus[0].setAttribute("EWA_OLD_VALUE", cmd.CmdArgus[0].value);
	cmd.CmdArgus[0].focus();
	window._EWA_DialogWnd.CloseWindow();
}
function openDialog(url) {
	if (url == null || url.length == 0) return;
	var returnBackCommand = new _EWA_DialogWnd._OpenerWindow.EWA.UI.Dialog.CMD();
	returnBackCommand.CmdArgus[0] = window.frames[0].window;
	_EWA_DialogWnd._OpenerWindow.EWA.UI.Dialog.OpenWindow(url, 'openurl', 624, 400, false, null, returnBackCommand);
}

addEvent(window, 'load',
function() {
	if ('@SQL_XMLNAME' != '') {
		var ajax = new EWA_AjaxClass();
		var u = EWA.CP + '/EWA_DEFINE/cgi-bin/xml/?TYPE=SQLS&XMLNAME=@SQL_XMLNAME';
		ajax.Get(u,
		function() {
			if (!ajax.IsRunEnd()) {
				return;
			}
			var rst = ajax.GetRst();
			var aa = [];
			aa[3] = 'sql';
			aa[1] = document.createElement('div');
			aa[1].setAttribute('EWA_VALUE', rst);
			init(aa);
		});
	}
});]]></Bottom></Set></AddScript><AddCss><Set><AddCss><![CDATA[
            
            p{margin:0px; }
*,span,pre {
  font-size:13px;
  font-family:"Courier New";
  ling-height: 18px;
}
          
          ]]></AddCss></Set></AddCss><ChartsShow/><RedrawJson/><BoxJson/><LeftJson/><FrameHtml><Set><FrameHtml/></Set></FrameHtml><PageSize/><ListUI/><MenuShow/><Menu/><Tree/><HtmlFrame/><TreeIconSet/><MGAxisX/><MGAxisY/><MGCell/><LogicShow/></Page><Action><ActionSet/><SqlSet/><ClassSet/><XmlSet/><XmlSetData/><ScriptSet/><UrlSet/><CSSet/><CallSet/></Action><XItems/><Menus/><Charts/><PageInfos/><Workflows/></EasyWebTemplate><EasyWebTemplate Author="gl" CreateDate="2010-04-07 16:11:41" Name="about" UpdateDate="2018-06-15 15:20:02"><Page><Name><Set Name="about"/></Name><FrameTag><Set FrameTag="Frame"/></FrameTag><SkinName><Set IsXhtml="" SkinName="Test1"/></SkinName><DataSource><Set DataSource=""/></DataSource><ConfigMemo><Set><ConfigMemo/></Set></ConfigMemo><Cached><Set CachedSeconds="862024" CachedType="all"/></Cached><Acl><Set Acl="com.gdxsoft.easyweb.define.DefineAcl"/></Acl><Log/><DescriptionSet><Set Info="关于开发者" Lang="zhcn" Memo=""/><Set Info="About us" Lang="enus" Memo=""/></DescriptionSet><PageAttributeSet/><GroupSet/><Size><Set FrameCols="" HAlign="center" Height="" HiddenCaption="1" VAlign="top" Width="300"/></Size><AddHtml><Set><Top><![CDATA[<div style='margin:10px;'>
    <p>
        项目发起者：
    </p>
    <p>
        &nbsp;&nbsp;&nbsp; 郭磊
        <img src='@rv_ewa_style_path/EWA_DEFINE/images/menu/guolei.gif'>
    </p>
    <p>
        项目参与者：
    </p>
    <p>
        &nbsp;&nbsp;&nbsp; 靳朝鹏
    </p>
    <p>
        &nbsp;&nbsp;&nbsp;
    </p>
    <p>
        项目使用类库：
    </p>
    <p>
        &nbsp;&nbsp;&nbsp; jfreeChart-1.0.6.jar
    </p>
    <p>
        &nbsp;&nbsp;&nbsp; commons-fileupload-1.2.jar
    </p>
    <p>
        &nbsp;&nbsp;&nbsp; jcommon-1.0.10.jar
    </p>
    <p>
        &nbsp;&nbsp;&nbsp; commons-io-1.3.2.jar
    </p>
    <p>
        &nbsp;&nbsp;&nbsp; luajava-1.1.jar
    </p>
    <p>
        项目地址：
        <a href='http://www.gdxsoft.com' target="_blank">
            www.gdxsoft.com
        </a>
    </p>
</div>]]></Top><Bottom/></Set></AddHtml><AddScript><Set><Top/><Bottom/></Set></AddScript><AddCss><Set><AddCss><![CDATA[p{margin:0px; font-size:14.8px;}]]></AddCss></Set></AddCss><ChartsShow/><RedrawJson/><BoxJson/><LeftJson/><FrameHtml><Set><FrameHtml/></Set></FrameHtml><PageSize/><ListUI/><MenuShow/><Menu/><Tree/><HtmlFrame/><TreeIconSet/><MGAxisX/><MGAxisY/><MGCell/><LogicShow/></Page><Action><ActionSet/><SqlSet/><JSONSet/><ClassSet/><XmlSet/><XmlSetData/><ScriptSet/><UrlSet/><CSSet/><CallSet/></Action><XItems/><Menus/><Charts/><PageInfos/><Workflows/></EasyWebTemplate></EasyWebTemplates>